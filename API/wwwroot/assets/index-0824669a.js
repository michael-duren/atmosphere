var SW=Object.defineProperty;var wW=(t,e,n)=>e in t?SW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var MW=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var rn=(t,e,n)=>(wW(t,typeof e!="symbol"?e+"":e,n),n);var f3e=MW((ys,_s)=>{function EW(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ek={exports:{}},yS={},tk={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=Symbol.for("react.element"),bW=Symbol.for("react.portal"),TW=Symbol.for("react.fragment"),AW=Symbol.for("react.strict_mode"),CW=Symbol.for("react.profiler"),PW=Symbol.for("react.provider"),RW=Symbol.for("react.context"),NW=Symbol.for("react.forward_ref"),IW=Symbol.for("react.suspense"),OW=Symbol.for("react.memo"),LW=Symbol.for("react.lazy"),YR=Symbol.iterator;function DW(t){return t===null||typeof t!="object"?null:(t=YR&&t[YR]||t["@@iterator"],typeof t=="function"?t:null)}var nk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rk=Object.assign,ik={};function pp(t,e,n){this.props=t,this.context=e,this.refs=ik,this.updater=n||nk}pp.prototype.isReactComponent={};pp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sk(){}sk.prototype=pp.prototype;function RA(t,e,n){this.props=t,this.context=e,this.refs=ik,this.updater=n||nk}var NA=RA.prototype=new sk;NA.constructor=RA;rk(NA,pp.prototype);NA.isPureReactComponent=!0;var ZR=Array.isArray,ok=Object.prototype.hasOwnProperty,IA={current:null},ak={key:!0,ref:!0,__self:!0,__source:!0};function lk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ok.call(e,r)&&!ak.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$0,type:t,key:s,ref:o,props:i,_owner:IA.current}}function kW(t,e){return{$$typeof:$0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function OA(t){return typeof t=="object"&&t!==null&&t.$$typeof===$0}function FW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var KR=/\/+/g;function DM(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FW(""+t.key):e.toString(36)}function i_(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $0:case bW:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+DM(o,0):r,ZR(i)?(n="",t!=null&&(n=t.replace(KR,"$&/")+"/"),i_(i,e,n,"",function(u){return u})):i!=null&&(OA(i)&&(i=kW(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(KR,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ZR(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+DM(s,a);o+=i_(s,e,n,l,i)}else if(l=DW(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+DM(s,a++),o+=i_(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function k1(t,e,n){if(t==null)return t;var r=[],i=0;return i_(t,r,"","",function(s){return e.call(n,s,i++)}),r}function UW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ni={current:null},s_={transition:null},zW={ReactCurrentDispatcher:Ni,ReactCurrentBatchConfig:s_,ReactCurrentOwner:IA};jt.Children={map:k1,forEach:function(t,e,n){k1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return k1(t,function(){e++}),e},toArray:function(t){return k1(t,function(e){return e})||[]},only:function(t){if(!OA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};jt.Component=pp;jt.Fragment=TW;jt.Profiler=CW;jt.PureComponent=RA;jt.StrictMode=AW;jt.Suspense=IW;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zW;jt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=IA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ok.call(e,l)&&!ak.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$0,type:t.type,key:i,ref:s,props:r,_owner:o}};jt.createContext=function(t){return t={$$typeof:RW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PW,_context:t},t.Consumer=t};jt.createElement=lk;jt.createFactory=function(t){var e=lk.bind(null,t);return e.type=t,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(t){return{$$typeof:NW,render:t}};jt.isValidElement=OA;jt.lazy=function(t){return{$$typeof:LW,_payload:{_status:-1,_result:t},_init:UW}};jt.memo=function(t,e){return{$$typeof:OW,type:t,compare:e===void 0?null:e}};jt.startTransition=function(t){var e=s_.transition;s_.transition={};try{t()}finally{s_.transition=e}};jt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};jt.useCallback=function(t,e){return Ni.current.useCallback(t,e)};jt.useContext=function(t){return Ni.current.useContext(t)};jt.useDebugValue=function(){};jt.useDeferredValue=function(t){return Ni.current.useDeferredValue(t)};jt.useEffect=function(t,e){return Ni.current.useEffect(t,e)};jt.useId=function(){return Ni.current.useId()};jt.useImperativeHandle=function(t,e,n){return Ni.current.useImperativeHandle(t,e,n)};jt.useInsertionEffect=function(t,e){return Ni.current.useInsertionEffect(t,e)};jt.useLayoutEffect=function(t,e){return Ni.current.useLayoutEffect(t,e)};jt.useMemo=function(t,e){return Ni.current.useMemo(t,e)};jt.useReducer=function(t,e,n){return Ni.current.useReducer(t,e,n)};jt.useRef=function(t){return Ni.current.useRef(t)};jt.useState=function(t){return Ni.current.useState(t)};jt.useSyncExternalStore=function(t,e,n){return Ni.current.useSyncExternalStore(t,e,n)};jt.useTransition=function(){return Ni.current.useTransition()};jt.version="18.2.0";tk.exports=jt;var P=tk.exports;const ft=G0(P),H_=EW({__proto__:null,default:ft},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BW=P,VW=Symbol.for("react.element"),jW=Symbol.for("react.fragment"),HW=Object.prototype.hasOwnProperty,WW=BW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GW={key:!0,ref:!0,__self:!0,__source:!0};function uk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HW.call(e,r)&&!GW.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VW,type:t,key:s,ref:o,props:i,_owner:WW.current}}yS.Fragment=jW;yS.jsx=uk;yS.jsxs=uk;ek.exports=yS;var O=ek.exports,jb={},ck={exports:{}},Cs={},hk={exports:{}},dk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,j){var H=F.length;F.push(j);e:for(;0<H;){var D=H-1>>>1,U=F[D];if(0<i(U,j))F[D]=j,F[H]=U,H=D;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],H=F.pop();if(H!==j){F[0]=H;e:for(var D=0,U=F.length,Y=U>>>1;D<Y;){var q=2*(D+1)-1,te=F[q],ue=q+1,Se=F[ue];if(0>i(te,H))ue<U&&0>i(Se,te)?(F[D]=Se,F[ue]=H,D=ue):(F[D]=te,F[q]=H,D=q);else if(ue<U&&0>i(Se,H))F[D]=Se,F[ue]=H,D=ue;else break e}}return j}function i(F,j){var H=F.sortIndex-j.sortIndex;return H!==0?H:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=F)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function M(F){if(y=!1,w(F),!g)if(n(l)!==null)g=!0,ne(b);else{var j=n(u);j!==null&&ee(M,j.startTime-F)}}function b(F,j){g=!1,y&&(y=!1,v(I),I=-1),m=!0;var H=p;try{for(w(j),d=n(l);d!==null&&(!(d.expirationTime>j)||F&&!z());){var D=d.callback;if(typeof D=="function"){d.callback=null,p=d.priorityLevel;var U=D(d.expirationTime<=j);j=t.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),w(j)}else r(l);d=n(l)}if(d!==null)var Y=!0;else{var q=n(u);q!==null&&ee(M,q.startTime-j),Y=!1}return Y}finally{d=null,p=H,m=!1}}var T=!1,C=null,I=-1,R=5,N=-1;function z(){return!(t.unstable_now()-N<R)}function V(){if(C!==null){var F=t.unstable_now();N=F;var j=!0;try{j=C(!0,F)}finally{j?W():(T=!1,C=null)}}else T=!1}var W;if(typeof x=="function")W=function(){x(V)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=V,W=function(){J.postMessage(null)}}else W=function(){_(V,0)};function ne(F){C=F,T||(T=!0,W())}function ee(F,j){I=_(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,ne(b))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var H=p;p=j;try{return F()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=p;p=F;try{return j()}finally{p=H}},t.unstable_scheduleCallback=function(F,j,H){var D=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?D+H:D):H=D,F){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=H+U,F={id:c++,callback:j,priorityLevel:F,startTime:H,expirationTime:U,sortIndex:-1},H>D?(F.sortIndex=H,e(u,F),n(l)===null&&F===n(u)&&(y?(v(I),I=-1):y=!0,ee(M,H-D))):(F.sortIndex=U,e(l,F),g||m||(g=!0,ne(b))),F},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(F){var j=p;return function(){var H=p;p=j;try{return F.apply(this,arguments)}finally{p=H}}}})(dk);hk.exports=dk;var $W=hk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk=P,Ms=$W;function Be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pk=new Set,Eg={};function Hh(t,e){Uf(t,e),Uf(t+"Capture",e)}function Uf(t,e){for(Eg[t]=e,t=0;t<e.length;t++)pk.add(e[t])}var Ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hb=Object.prototype.hasOwnProperty,qW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QR={},JR={};function XW(t){return Hb.call(JR,t)?!0:Hb.call(QR,t)?!1:qW.test(t)?JR[t]=!0:(QR[t]=!0,!1)}function YW(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZW(t,e,n,r){if(e===null||typeof e>"u"||YW(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ii(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kr[t]=new Ii(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kr[e]=new Ii(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kr[t]=new Ii(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kr[t]=new Ii(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kr[t]=new Ii(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kr[t]=new Ii(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kr[t]=new Ii(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kr[t]=new Ii(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kr[t]=new Ii(t,5,!1,t.toLowerCase(),null,!1,!1)});var LA=/[\-:]([a-z])/g;function DA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(LA,DA);Kr[e]=new Ii(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(LA,DA);Kr[e]=new Ii(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(LA,DA);Kr[e]=new Ii(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kr[t]=new Ii(t,1,!1,t.toLowerCase(),null,!1,!1)});Kr.xlinkHref=new Ii("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kr[t]=new Ii(t,1,!1,t.toLowerCase(),null,!0,!0)});function kA(t,e,n,r){var i=Kr.hasOwnProperty(e)?Kr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZW(e,n,i,r)&&(n=null),r||i===null?XW(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ol=fk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F1=Symbol.for("react.element"),Qd=Symbol.for("react.portal"),Jd=Symbol.for("react.fragment"),FA=Symbol.for("react.strict_mode"),Wb=Symbol.for("react.profiler"),mk=Symbol.for("react.provider"),gk=Symbol.for("react.context"),UA=Symbol.for("react.forward_ref"),Gb=Symbol.for("react.suspense"),$b=Symbol.for("react.suspense_list"),zA=Symbol.for("react.memo"),uu=Symbol.for("react.lazy"),vk=Symbol.for("react.offscreen"),e6=Symbol.iterator;function sm(t){return t===null||typeof t!="object"?null:(t=e6&&t[e6]||t["@@iterator"],typeof t=="function"?t:null)}var Hn=Object.assign,kM;function Bm(t){if(kM===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kM=e&&e[1]||""}return`
`+kM+t}var FM=!1;function UM(t,e){if(!t||FM)return"";FM=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{FM=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bm(t):""}function KW(t){switch(t.tag){case 5:return Bm(t.type);case 16:return Bm("Lazy");case 13:return Bm("Suspense");case 19:return Bm("SuspenseList");case 0:case 2:case 15:return t=UM(t.type,!1),t;case 11:return t=UM(t.type.render,!1),t;case 1:return t=UM(t.type,!0),t;default:return""}}function qb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jd:return"Fragment";case Qd:return"Portal";case Wb:return"Profiler";case FA:return"StrictMode";case Gb:return"Suspense";case $b:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gk:return(t.displayName||"Context")+".Consumer";case mk:return(t._context.displayName||"Context")+".Provider";case UA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zA:return e=t.displayName||null,e!==null?e:qb(t.type)||"Memo";case uu:e=t._payload,t=t._init;try{return qb(t(e))}catch{}}return null}function QW(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qb(e);case 8:return e===FA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ju(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JW(t){var e=yk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function U1(t){t._valueTracker||(t._valueTracker=JW(t))}function _k(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function W_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xb(t,e){var n=e.checked;return Hn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t6(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ju(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xk(t,e){e=e.checked,e!=null&&kA(t,"checked",e,!1)}function Yb(t,e){xk(t,e);var n=ju(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zb(t,e.type,ju(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n6(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zb(t,e,n){(e!=="number"||W_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vm=Array.isArray;function Sf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ju(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return Hn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r6(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Be(92));if(Vm(n)){if(1<n.length)throw Error(Be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ju(n)}}function Sk(t,e){var n=ju(e.value),r=ju(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function i6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var z1,Mk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(z1=z1||document.createElement("div"),z1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=z1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eG=["Webkit","ms","Moz","O"];Object.keys(Zm).forEach(function(t){eG.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zm[e]=Zm[t]})});function Ek(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zm.hasOwnProperty(t)&&Zm[t]?(""+e).trim():e+"px"}function bk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ek(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tG=Hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jb(t,e){if(e){if(tG[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function e3(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t3=null;function BA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var n3=null,wf=null,Mf=null;function s6(t){if(t=Y0(t)){if(typeof n3!="function")throw Error(Be(280));var e=t.stateNode;e&&(e=MS(e),n3(t.stateNode,t.type,e))}}function Tk(t){wf?Mf?Mf.push(t):Mf=[t]:wf=t}function Ak(){if(wf){var t=wf,e=Mf;if(Mf=wf=null,s6(t),e)for(t=0;t<e.length;t++)s6(e[t])}}function Ck(t,e){return t(e)}function Pk(){}var zM=!1;function Rk(t,e,n){if(zM)return t(e,n);zM=!0;try{return Ck(t,e,n)}finally{zM=!1,(wf!==null||Mf!==null)&&(Pk(),Ak())}}function Tg(t,e){var n=t.stateNode;if(n===null)return null;var r=MS(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Be(231,e,typeof n));return n}var r3=!1;if(Ml)try{var om={};Object.defineProperty(om,"passive",{get:function(){r3=!0}}),window.addEventListener("test",om,om),window.removeEventListener("test",om,om)}catch{r3=!1}function nG(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Km=!1,G_=null,$_=!1,i3=null,rG={onError:function(t){Km=!0,G_=t}};function iG(t,e,n,r,i,s,o,a,l){Km=!1,G_=null,nG.apply(rG,arguments)}function sG(t,e,n,r,i,s,o,a,l){if(iG.apply(this,arguments),Km){if(Km){var u=G_;Km=!1,G_=null}else throw Error(Be(198));$_||($_=!0,i3=u)}}function Wh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Nk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o6(t){if(Wh(t)!==t)throw Error(Be(188))}function oG(t){var e=t.alternate;if(!e){if(e=Wh(t),e===null)throw Error(Be(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return o6(i),t;if(s===r)return o6(i),e;s=s.sibling}throw Error(Be(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Be(189))}}if(n.alternate!==r)throw Error(Be(190))}if(n.tag!==3)throw Error(Be(188));return n.stateNode.current===n?t:e}function Ik(t){return t=oG(t),t!==null?Ok(t):null}function Ok(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ok(t);if(e!==null)return e;t=t.sibling}return null}var Lk=Ms.unstable_scheduleCallback,a6=Ms.unstable_cancelCallback,aG=Ms.unstable_shouldYield,lG=Ms.unstable_requestPaint,or=Ms.unstable_now,uG=Ms.unstable_getCurrentPriorityLevel,VA=Ms.unstable_ImmediatePriority,Dk=Ms.unstable_UserBlockingPriority,q_=Ms.unstable_NormalPriority,cG=Ms.unstable_LowPriority,kk=Ms.unstable_IdlePriority,_S=null,ya=null;function hG(t){if(ya&&typeof ya.onCommitFiberRoot=="function")try{ya.onCommitFiberRoot(_S,t,void 0,(t.current.flags&128)===128)}catch{}}var Io=Math.clz32?Math.clz32:pG,dG=Math.log,fG=Math.LN2;function pG(t){return t>>>=0,t===0?32:31-(dG(t)/fG|0)|0}var B1=64,V1=4194304;function jm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function X_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=jm(a):(s&=o,s!==0&&(r=jm(s)))}else o=n&~i,o!==0?r=jm(o):s!==0&&(r=jm(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Io(e),i=1<<n,r|=t[n],e&=~i;return r}function mG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gG(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Io(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=mG(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function s3(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fk(){var t=B1;return B1<<=1,!(B1&4194240)&&(B1=64),t}function BM(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function q0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Io(e),t[e]=n}function vG(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Io(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Io(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var un=0;function Uk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zk,HA,Bk,Vk,jk,o3=!1,j1=[],Mu=null,Eu=null,bu=null,Ag=new Map,Cg=new Map,fu=[],yG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l6(t,e){switch(t){case"focusin":case"focusout":Mu=null;break;case"dragenter":case"dragleave":Eu=null;break;case"mouseover":case"mouseout":bu=null;break;case"pointerover":case"pointerout":Ag.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cg.delete(e.pointerId)}}function am(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Y0(e),e!==null&&HA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _G(t,e,n,r,i){switch(e){case"focusin":return Mu=am(Mu,t,e,n,r,i),!0;case"dragenter":return Eu=am(Eu,t,e,n,r,i),!0;case"mouseover":return bu=am(bu,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ag.set(s,am(Ag.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cg.set(s,am(Cg.get(s)||null,t,e,n,r,i)),!0}return!1}function Hk(t){var e=Kc(t.target);if(e!==null){var n=Wh(e);if(n!==null){if(e=n.tag,e===13){if(e=Nk(n),e!==null){t.blockedOn=e,jk(t.priority,function(){Bk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function o_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=a3(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);t3=r,n.target.dispatchEvent(r),t3=null}else return e=Y0(n),e!==null&&HA(e),t.blockedOn=n,!1;e.shift()}return!0}function u6(t,e,n){o_(t)&&n.delete(e)}function xG(){o3=!1,Mu!==null&&o_(Mu)&&(Mu=null),Eu!==null&&o_(Eu)&&(Eu=null),bu!==null&&o_(bu)&&(bu=null),Ag.forEach(u6),Cg.forEach(u6)}function lm(t,e){t.blockedOn===e&&(t.blockedOn=null,o3||(o3=!0,Ms.unstable_scheduleCallback(Ms.unstable_NormalPriority,xG)))}function Pg(t){function e(i){return lm(i,t)}if(0<j1.length){lm(j1[0],t);for(var n=1;n<j1.length;n++){var r=j1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mu!==null&&lm(Mu,t),Eu!==null&&lm(Eu,t),bu!==null&&lm(bu,t),Ag.forEach(e),Cg.forEach(e),n=0;n<fu.length;n++)r=fu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fu.length&&(n=fu[0],n.blockedOn===null);)Hk(n),n.blockedOn===null&&fu.shift()}var Ef=Ol.ReactCurrentBatchConfig,Y_=!0;function SG(t,e,n,r){var i=un,s=Ef.transition;Ef.transition=null;try{un=1,WA(t,e,n,r)}finally{un=i,Ef.transition=s}}function wG(t,e,n,r){var i=un,s=Ef.transition;Ef.transition=null;try{un=4,WA(t,e,n,r)}finally{un=i,Ef.transition=s}}function WA(t,e,n,r){if(Y_){var i=a3(t,e,n,r);if(i===null)ZM(t,e,r,Z_,n),l6(t,r);else if(_G(i,t,e,n,r))r.stopPropagation();else if(l6(t,r),e&4&&-1<yG.indexOf(t)){for(;i!==null;){var s=Y0(i);if(s!==null&&zk(s),s=a3(t,e,n,r),s===null&&ZM(t,e,r,Z_,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ZM(t,e,r,null,n)}}var Z_=null;function a3(t,e,n,r){if(Z_=null,t=BA(r),t=Kc(t),t!==null)if(e=Wh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Nk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Z_=t,null}function Wk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uG()){case VA:return 1;case Dk:return 4;case q_:case cG:return 16;case kk:return 536870912;default:return 16}default:return 16}}var yu=null,GA=null,a_=null;function Gk(){if(a_)return a_;var t,e=GA,n=e.length,r,i="value"in yu?yu.value:yu.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return a_=i.slice(t,1<r?1-r:void 0)}function l_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function H1(){return!0}function c6(){return!1}function Ps(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?H1:c6,this.isPropagationStopped=c6,this}return Hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=H1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=H1)},persist:function(){},isPersistent:H1}),e}var mp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$A=Ps(mp),X0=Hn({},mp,{view:0,detail:0}),MG=Ps(X0),VM,jM,um,xS=Hn({},X0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==um&&(um&&t.type==="mousemove"?(VM=t.screenX-um.screenX,jM=t.screenY-um.screenY):jM=VM=0,um=t),VM)},movementY:function(t){return"movementY"in t?t.movementY:jM}}),h6=Ps(xS),EG=Hn({},xS,{dataTransfer:0}),bG=Ps(EG),TG=Hn({},X0,{relatedTarget:0}),HM=Ps(TG),AG=Hn({},mp,{animationName:0,elapsedTime:0,pseudoElement:0}),CG=Ps(AG),PG=Hn({},mp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RG=Ps(PG),NG=Hn({},mp,{data:0}),d6=Ps(NG),IG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LG[t])?!!e[t]:!1}function qA(){return DG}var kG=Hn({},X0,{key:function(t){if(t.key){var e=IG[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=l_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qA,charCode:function(t){return t.type==="keypress"?l_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?l_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FG=Ps(kG),UG=Hn({},xS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f6=Ps(UG),zG=Hn({},X0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qA}),BG=Ps(zG),VG=Hn({},mp,{propertyName:0,elapsedTime:0,pseudoElement:0}),jG=Ps(VG),HG=Hn({},xS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WG=Ps(HG),GG=[9,13,27,32],XA=Ml&&"CompositionEvent"in window,Qm=null;Ml&&"documentMode"in document&&(Qm=document.documentMode);var $G=Ml&&"TextEvent"in window&&!Qm,$k=Ml&&(!XA||Qm&&8<Qm&&11>=Qm),p6=String.fromCharCode(32),m6=!1;function qk(t,e){switch(t){case"keyup":return GG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ef=!1;function qG(t,e){switch(t){case"compositionend":return Xk(e);case"keypress":return e.which!==32?null:(m6=!0,p6);case"textInput":return t=e.data,t===p6&&m6?null:t;default:return null}}function XG(t,e){if(ef)return t==="compositionend"||!XA&&qk(t,e)?(t=Gk(),a_=GA=yu=null,ef=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $k&&e.locale!=="ko"?null:e.data;default:return null}}var YG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YG[t.type]:e==="textarea"}function Yk(t,e,n,r){Tk(r),e=K_(e,"onChange"),0<e.length&&(n=new $A("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Jm=null,Rg=null;function ZG(t){o8(t,0)}function SS(t){var e=rf(t);if(_k(e))return t}function KG(t,e){if(t==="change")return e}var Zk=!1;if(Ml){var WM;if(Ml){var GM="oninput"in document;if(!GM){var v6=document.createElement("div");v6.setAttribute("oninput","return;"),GM=typeof v6.oninput=="function"}WM=GM}else WM=!1;Zk=WM&&(!document.documentMode||9<document.documentMode)}function y6(){Jm&&(Jm.detachEvent("onpropertychange",Kk),Rg=Jm=null)}function Kk(t){if(t.propertyName==="value"&&SS(Rg)){var e=[];Yk(e,Rg,t,BA(t)),Rk(ZG,e)}}function QG(t,e,n){t==="focusin"?(y6(),Jm=e,Rg=n,Jm.attachEvent("onpropertychange",Kk)):t==="focusout"&&y6()}function JG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return SS(Rg)}function e$(t,e){if(t==="click")return SS(e)}function t$(t,e){if(t==="input"||t==="change")return SS(e)}function n$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ko=typeof Object.is=="function"?Object.is:n$;function Ng(t,e){if(ko(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hb.call(e,i)||!ko(t[i],e[i]))return!1}return!0}function _6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x6(t,e){var n=_6(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_6(n)}}function Qk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jk(){for(var t=window,e=W_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=W_(t.document)}return e}function YA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r$(t){var e=Jk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qk(n.ownerDocument.documentElement,n)){if(r!==null&&YA(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=x6(n,s);var o=x6(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i$=Ml&&"documentMode"in document&&11>=document.documentMode,tf=null,l3=null,eg=null,u3=!1;function S6(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;u3||tf==null||tf!==W_(r)||(r=tf,"selectionStart"in r&&YA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eg&&Ng(eg,r)||(eg=r,r=K_(l3,"onSelect"),0<r.length&&(e=new $A("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tf)))}function W1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nf={animationend:W1("Animation","AnimationEnd"),animationiteration:W1("Animation","AnimationIteration"),animationstart:W1("Animation","AnimationStart"),transitionend:W1("Transition","TransitionEnd")},$M={},e8={};Ml&&(e8=document.createElement("div").style,"AnimationEvent"in window||(delete nf.animationend.animation,delete nf.animationiteration.animation,delete nf.animationstart.animation),"TransitionEvent"in window||delete nf.transitionend.transition);function wS(t){if($M[t])return $M[t];if(!nf[t])return t;var e=nf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in e8)return $M[t]=e[n];return t}var t8=wS("animationend"),n8=wS("animationiteration"),r8=wS("animationstart"),i8=wS("transitionend"),s8=new Map,w6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sc(t,e){s8.set(t,e),Hh(e,[t])}for(var qM=0;qM<w6.length;qM++){var XM=w6[qM],s$=XM.toLowerCase(),o$=XM[0].toUpperCase()+XM.slice(1);sc(s$,"on"+o$)}sc(t8,"onAnimationEnd");sc(n8,"onAnimationIteration");sc(r8,"onAnimationStart");sc("dblclick","onDoubleClick");sc("focusin","onFocus");sc("focusout","onBlur");sc(i8,"onTransitionEnd");Uf("onMouseEnter",["mouseout","mouseover"]);Uf("onMouseLeave",["mouseout","mouseover"]);Uf("onPointerEnter",["pointerout","pointerover"]);Uf("onPointerLeave",["pointerout","pointerover"]);Hh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hm));function M6(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sG(r,e,void 0,t),t.currentTarget=null}function o8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;M6(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;M6(i,a,u),s=l}}}if($_)throw t=i3,$_=!1,i3=null,t}function En(t,e){var n=e[p3];n===void 0&&(n=e[p3]=new Set);var r=t+"__bubble";n.has(r)||(a8(e,t,2,!1),n.add(r))}function YM(t,e,n){var r=0;e&&(r|=4),a8(n,t,r,e)}var G1="_reactListening"+Math.random().toString(36).slice(2);function Ig(t){if(!t[G1]){t[G1]=!0,pk.forEach(function(n){n!=="selectionchange"&&(a$.has(n)||YM(n,!1,t),YM(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[G1]||(e[G1]=!0,YM("selectionchange",!1,e))}}function a8(t,e,n,r){switch(Wk(e)){case 1:var i=SG;break;case 4:i=wG;break;default:i=WA}n=i.bind(null,e,n,t),i=void 0,!r3||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ZM(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Kc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Rk(function(){var u=s,c=BA(n),d=[];e:{var p=s8.get(t);if(p!==void 0){var m=$A,g=t;switch(t){case"keypress":if(l_(n)===0)break e;case"keydown":case"keyup":m=FG;break;case"focusin":g="focus",m=HM;break;case"focusout":g="blur",m=HM;break;case"beforeblur":case"afterblur":m=HM;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=h6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=BG;break;case t8:case n8:case r8:m=CG;break;case i8:m=jG;break;case"scroll":m=MG;break;case"wheel":m=WG;break;case"copy":case"cut":case"paste":m=RG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=f6}var y=(e&4)!==0,_=!y&&t==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var x=u,w;x!==null;){w=x;var M=w.stateNode;if(w.tag===5&&M!==null&&(w=M,v!==null&&(M=Tg(x,v),M!=null&&y.push(Og(x,M,w)))),_)break;x=x.return}0<y.length&&(p=new m(p,g,null,n,c),d.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==t3&&(g=n.relatedTarget||n.fromElement)&&(Kc(g)||g[El]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Kc(g):null,g!==null&&(_=Wh(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=h6,M="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=f6,M="onPointerLeave",v="onPointerEnter",x="pointer"),_=m==null?p:rf(m),w=g==null?p:rf(g),p=new y(M,x+"leave",m,n,c),p.target=_,p.relatedTarget=w,M=null,Kc(c)===u&&(y=new y(v,x+"enter",g,n,c),y.target=w,y.relatedTarget=_,M=y),_=M,m&&g)t:{for(y=m,v=g,x=0,w=y;w;w=_d(w))x++;for(w=0,M=v;M;M=_d(M))w++;for(;0<x-w;)y=_d(y),x--;for(;0<w-x;)v=_d(v),w--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=_d(y),v=_d(v)}y=null}else y=null;m!==null&&E6(d,p,m,y,!1),g!==null&&_!==null&&E6(d,_,g,y,!0)}}e:{if(p=u?rf(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var b=KG;else if(g6(p))if(Zk)b=t$;else{b=JG;var T=QG}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=e$);if(b&&(b=b(t,u))){Yk(d,b,n,c);break e}T&&T(t,p,u),t==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&Zb(p,"number",p.value)}switch(T=u?rf(u):window,t){case"focusin":(g6(T)||T.contentEditable==="true")&&(tf=T,l3=u,eg=null);break;case"focusout":eg=l3=tf=null;break;case"mousedown":u3=!0;break;case"contextmenu":case"mouseup":case"dragend":u3=!1,S6(d,n,c);break;case"selectionchange":if(i$)break;case"keydown":case"keyup":S6(d,n,c)}var C;if(XA)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ef?qk(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&($k&&n.locale!=="ko"&&(ef||I!=="onCompositionStart"?I==="onCompositionEnd"&&ef&&(C=Gk()):(yu=c,GA="value"in yu?yu.value:yu.textContent,ef=!0)),T=K_(u,I),0<T.length&&(I=new d6(I,t,null,n,c),d.push({event:I,listeners:T}),C?I.data=C:(C=Xk(n),C!==null&&(I.data=C)))),(C=$G?qG(t,n):XG(t,n))&&(u=K_(u,"onBeforeInput"),0<u.length&&(c=new d6("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}o8(d,e)})}function Og(t,e,n){return{instance:t,listener:e,currentTarget:n}}function K_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tg(t,n),s!=null&&r.unshift(Og(t,s,i)),s=Tg(t,e),s!=null&&r.push(Og(t,s,i))),t=t.return}return r}function _d(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function E6(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Tg(n,s),l!=null&&o.unshift(Og(n,l,a))):i||(l=Tg(n,s),l!=null&&o.push(Og(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var l$=/\r\n?/g,u$=/\u0000|\uFFFD/g;function b6(t){return(typeof t=="string"?t:""+t).replace(l$,`
`).replace(u$,"")}function $1(t,e,n){if(e=b6(e),b6(t)!==e&&n)throw Error(Be(425))}function Q_(){}var c3=null,h3=null;function d3(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var f3=typeof setTimeout=="function"?setTimeout:void 0,c$=typeof clearTimeout=="function"?clearTimeout:void 0,T6=typeof Promise=="function"?Promise:void 0,h$=typeof queueMicrotask=="function"?queueMicrotask:typeof T6<"u"?function(t){return T6.resolve(null).then(t).catch(d$)}:f3;function d$(t){setTimeout(function(){throw t})}function KM(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pg(e)}function Tu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function A6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gp=Math.random().toString(36).slice(2),ha="__reactFiber$"+gp,Lg="__reactProps$"+gp,El="__reactContainer$"+gp,p3="__reactEvents$"+gp,f$="__reactListeners$"+gp,p$="__reactHandles$"+gp;function Kc(t){var e=t[ha];if(e)return e;for(var n=t.parentNode;n;){if(e=n[El]||n[ha]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=A6(t);t!==null;){if(n=t[ha])return n;t=A6(t)}return e}t=n,n=t.parentNode}return null}function Y0(t){return t=t[ha]||t[El],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Be(33))}function MS(t){return t[Lg]||null}var m3=[],sf=-1;function oc(t){return{current:t}}function Cn(t){0>sf||(t.current=m3[sf],m3[sf]=null,sf--)}function xn(t,e){sf++,m3[sf]=t.current,t.current=e}var Hu={},vi=oc(Hu),qi=oc(!1),wh=Hu;function zf(t,e){var n=t.type.contextTypes;if(!n)return Hu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xi(t){return t=t.childContextTypes,t!=null}function J_(){Cn(qi),Cn(vi)}function C6(t,e,n){if(vi.current!==Hu)throw Error(Be(168));xn(vi,e),xn(qi,n)}function l8(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Be(108,QW(t)||"Unknown",i));return Hn({},n,r)}function ex(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hu,wh=vi.current,xn(vi,t),xn(qi,qi.current),!0}function P6(t,e,n){var r=t.stateNode;if(!r)throw Error(Be(169));n?(t=l8(t,e,wh),r.__reactInternalMemoizedMergedChildContext=t,Cn(qi),Cn(vi),xn(vi,t)):Cn(qi),xn(qi,n)}var sl=null,ES=!1,QM=!1;function u8(t){sl===null?sl=[t]:sl.push(t)}function m$(t){ES=!0,u8(t)}function ac(){if(!QM&&sl!==null){QM=!0;var t=0,e=un;try{var n=sl;for(un=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sl=null,ES=!1}catch(i){throw sl!==null&&(sl=sl.slice(t+1)),Lk(VA,ac),i}finally{un=e,QM=!1}}return null}var of=[],af=0,tx=null,nx=0,$s=[],qs=0,Mh=null,cl=1,hl="";function Bc(t,e){of[af++]=nx,of[af++]=tx,tx=t,nx=e}function c8(t,e,n){$s[qs++]=cl,$s[qs++]=hl,$s[qs++]=Mh,Mh=t;var r=cl;t=hl;var i=32-Io(r)-1;r&=~(1<<i),n+=1;var s=32-Io(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cl=1<<32-Io(e)+i|n<<i|r,hl=s+t}else cl=1<<s|n<<i|r,hl=t}function ZA(t){t.return!==null&&(Bc(t,1),c8(t,1,0))}function KA(t){for(;t===tx;)tx=of[--af],of[af]=null,nx=of[--af],of[af]=null;for(;t===Mh;)Mh=$s[--qs],$s[qs]=null,hl=$s[--qs],$s[qs]=null,cl=$s[--qs],$s[qs]=null}var xs=null,ps=null,Dn=!1,So=null;function h8(t,e){var n=Zs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function R6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xs=t,ps=Tu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xs=t,ps=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mh!==null?{id:cl,overflow:hl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xs=t,ps=null,!0):!1;default:return!1}}function g3(t){return(t.mode&1)!==0&&(t.flags&128)===0}function v3(t){if(Dn){var e=ps;if(e){var n=e;if(!R6(t,e)){if(g3(t))throw Error(Be(418));e=Tu(n.nextSibling);var r=xs;e&&R6(t,e)?h8(r,n):(t.flags=t.flags&-4097|2,Dn=!1,xs=t)}}else{if(g3(t))throw Error(Be(418));t.flags=t.flags&-4097|2,Dn=!1,xs=t}}}function N6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xs=t}function q1(t){if(t!==xs)return!1;if(!Dn)return N6(t),Dn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!d3(t.type,t.memoizedProps)),e&&(e=ps)){if(g3(t))throw d8(),Error(Be(418));for(;e;)h8(t,e),e=Tu(e.nextSibling)}if(N6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ps=Tu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ps=null}}else ps=xs?Tu(t.stateNode.nextSibling):null;return!0}function d8(){for(var t=ps;t;)t=Tu(t.nextSibling)}function Bf(){ps=xs=null,Dn=!1}function QA(t){So===null?So=[t]:So.push(t)}var g$=Ol.ReactCurrentBatchConfig;function mo(t,e){if(t&&t.defaultProps){e=Hn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var rx=oc(null),ix=null,lf=null,JA=null;function eC(){JA=lf=ix=null}function tC(t){var e=rx.current;Cn(rx),t._currentValue=e}function y3(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bf(t,e){ix=t,JA=lf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($i=!0),t.firstContext=null)}function eo(t){var e=t._currentValue;if(JA!==t)if(t={context:t,memoizedValue:e,next:null},lf===null){if(ix===null)throw Error(Be(308));lf=t,ix.dependencies={lanes:0,firstContext:t}}else lf=lf.next=t;return e}var Qc=null;function nC(t){Qc===null?Qc=[t]:Qc.push(t)}function f8(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nC(e)):(n.next=i.next,i.next=n),e.interleaved=n,bl(t,r)}function bl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cu=!1;function rC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Au(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bl(t,n)}return i=r.interleaved,i===null?(e.next=e,nC(r)):(e.next=i.next,i.next=e),r.interleaved=e,bl(t,n)}function u_(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jA(t,n)}}function I6(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sx(t,e,n,r){var i=t.updateQueue;cu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(p=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=Hn({},d,p);break e;case 2:cu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);bh|=o,t.lanes=o,t.memoizedState=d}}function O6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Be(191,i));i.call(r)}}}var m8=new fk.Component().refs;function _3(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Hn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bS={isMounted:function(t){return(t=t._reactInternals)?Wh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ci(),i=Pu(t),s=vl(r,i);s.payload=e,n!=null&&(s.callback=n),e=Au(t,s,i),e!==null&&(Oo(e,t,i,r),u_(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ci(),i=Pu(t),s=vl(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Au(t,s,i),e!==null&&(Oo(e,t,i,r),u_(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ci(),r=Pu(t),i=vl(n,r);i.tag=2,e!=null&&(i.callback=e),e=Au(t,i,r),e!==null&&(Oo(e,t,r,n),u_(e,t,r))}};function L6(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ng(n,r)||!Ng(i,s):!0}function g8(t,e,n){var r=!1,i=Hu,s=e.contextType;return typeof s=="object"&&s!==null?s=eo(s):(i=Xi(e)?wh:vi.current,r=e.contextTypes,s=(r=r!=null)?zf(t,i):Hu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bS,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function D6(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bS.enqueueReplaceState(e,e.state,null)}function x3(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=m8,rC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=eo(s):(s=Xi(e)?wh:vi.current,i.context=zf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_3(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bS.enqueueReplaceState(i,i.state,null),sx(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cm(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Be(309));var r=n.stateNode}if(!r)throw Error(Be(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===m8&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Be(284));if(!n._owner)throw Error(Be(290,t))}return t}function X1(t,e){throw t=Object.prototype.toString.call(e),Error(Be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function k6(t){var e=t._init;return e(t._payload)}function v8(t){function e(v,x){if(t){var w=v.deletions;w===null?(v.deletions=[x],v.flags|=16):w.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Ru(v,x),v.index=0,v.sibling=null,v}function s(v,x,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<x?(v.flags|=2,x):w):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,x,w,M){return x===null||x.tag!==6?(x=sE(w,v.mode,M),x.return=v,x):(x=i(x,w),x.return=v,x)}function l(v,x,w,M){var b=w.type;return b===Jd?c(v,x,w.props.children,M,w.key):x!==null&&(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===uu&&k6(b)===x.type)?(M=i(x,w.props),M.ref=cm(v,x,w),M.return=v,M):(M=m_(w.type,w.key,w.props,null,v.mode,M),M.ref=cm(v,x,w),M.return=v,M)}function u(v,x,w,M){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=oE(w,v.mode,M),x.return=v,x):(x=i(x,w.children||[]),x.return=v,x)}function c(v,x,w,M,b){return x===null||x.tag!==7?(x=ch(w,v.mode,M,b),x.return=v,x):(x=i(x,w),x.return=v,x)}function d(v,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=sE(""+x,v.mode,w),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case F1:return w=m_(x.type,x.key,x.props,null,v.mode,w),w.ref=cm(v,null,x),w.return=v,w;case Qd:return x=oE(x,v.mode,w),x.return=v,x;case uu:var M=x._init;return d(v,M(x._payload),w)}if(Vm(x)||sm(x))return x=ch(x,v.mode,w,null),x.return=v,x;X1(v,x)}return null}function p(v,x,w,M){var b=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(v,x,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case F1:return w.key===b?l(v,x,w,M):null;case Qd:return w.key===b?u(v,x,w,M):null;case uu:return b=w._init,p(v,x,b(w._payload),M)}if(Vm(w)||sm(w))return b!==null?null:c(v,x,w,M,null);X1(v,w)}return null}function m(v,x,w,M,b){if(typeof M=="string"&&M!==""||typeof M=="number")return v=v.get(w)||null,a(x,v,""+M,b);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case F1:return v=v.get(M.key===null?w:M.key)||null,l(x,v,M,b);case Qd:return v=v.get(M.key===null?w:M.key)||null,u(x,v,M,b);case uu:var T=M._init;return m(v,x,w,T(M._payload),b)}if(Vm(M)||sm(M))return v=v.get(w)||null,c(x,v,M,b,null);X1(x,M)}return null}function g(v,x,w,M){for(var b=null,T=null,C=x,I=x=0,R=null;C!==null&&I<w.length;I++){C.index>I?(R=C,C=null):R=C.sibling;var N=p(v,C,w[I],M);if(N===null){C===null&&(C=R);break}t&&C&&N.alternate===null&&e(v,C),x=s(N,x,I),T===null?b=N:T.sibling=N,T=N,C=R}if(I===w.length)return n(v,C),Dn&&Bc(v,I),b;if(C===null){for(;I<w.length;I++)C=d(v,w[I],M),C!==null&&(x=s(C,x,I),T===null?b=C:T.sibling=C,T=C);return Dn&&Bc(v,I),b}for(C=r(v,C);I<w.length;I++)R=m(C,v,I,w[I],M),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?I:R.key),x=s(R,x,I),T===null?b=R:T.sibling=R,T=R);return t&&C.forEach(function(z){return e(v,z)}),Dn&&Bc(v,I),b}function y(v,x,w,M){var b=sm(w);if(typeof b!="function")throw Error(Be(150));if(w=b.call(w),w==null)throw Error(Be(151));for(var T=b=null,C=x,I=x=0,R=null,N=w.next();C!==null&&!N.done;I++,N=w.next()){C.index>I?(R=C,C=null):R=C.sibling;var z=p(v,C,N.value,M);if(z===null){C===null&&(C=R);break}t&&C&&z.alternate===null&&e(v,C),x=s(z,x,I),T===null?b=z:T.sibling=z,T=z,C=R}if(N.done)return n(v,C),Dn&&Bc(v,I),b;if(C===null){for(;!N.done;I++,N=w.next())N=d(v,N.value,M),N!==null&&(x=s(N,x,I),T===null?b=N:T.sibling=N,T=N);return Dn&&Bc(v,I),b}for(C=r(v,C);!N.done;I++,N=w.next())N=m(C,v,I,N.value,M),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?I:N.key),x=s(N,x,I),T===null?b=N:T.sibling=N,T=N);return t&&C.forEach(function(V){return e(v,V)}),Dn&&Bc(v,I),b}function _(v,x,w,M){if(typeof w=="object"&&w!==null&&w.type===Jd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case F1:e:{for(var b=w.key,T=x;T!==null;){if(T.key===b){if(b=w.type,b===Jd){if(T.tag===7){n(v,T.sibling),x=i(T,w.props.children),x.return=v,v=x;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===uu&&k6(b)===T.type){n(v,T.sibling),x=i(T,w.props),x.ref=cm(v,T,w),x.return=v,v=x;break e}n(v,T);break}else e(v,T);T=T.sibling}w.type===Jd?(x=ch(w.props.children,v.mode,M,w.key),x.return=v,v=x):(M=m_(w.type,w.key,w.props,null,v.mode,M),M.ref=cm(v,x,w),M.return=v,v=M)}return o(v);case Qd:e:{for(T=w.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(v,x.sibling),x=i(x,w.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=oE(w,v.mode,M),x.return=v,v=x}return o(v);case uu:return T=w._init,_(v,x,T(w._payload),M)}if(Vm(w))return g(v,x,w,M);if(sm(w))return y(v,x,w,M);X1(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,w),x.return=v,v=x):(n(v,x),x=sE(w,v.mode,M),x.return=v,v=x),o(v)):n(v,x)}return _}var Vf=v8(!0),y8=v8(!1),Z0={},_a=oc(Z0),Dg=oc(Z0),kg=oc(Z0);function Jc(t){if(t===Z0)throw Error(Be(174));return t}function iC(t,e){switch(xn(kg,e),xn(Dg,t),xn(_a,Z0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qb(e,t)}Cn(_a),xn(_a,e)}function jf(){Cn(_a),Cn(Dg),Cn(kg)}function _8(t){Jc(kg.current);var e=Jc(_a.current),n=Qb(e,t.type);e!==n&&(xn(Dg,t),xn(_a,n))}function sC(t){Dg.current===t&&(Cn(_a),Cn(Dg))}var zn=oc(0);function ox(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var JM=[];function oC(){for(var t=0;t<JM.length;t++)JM[t]._workInProgressVersionPrimary=null;JM.length=0}var c_=Ol.ReactCurrentDispatcher,eE=Ol.ReactCurrentBatchConfig,Eh=0,jn=null,br=null,Ur=null,ax=!1,tg=!1,Fg=0,v$=0;function ui(){throw Error(Be(321))}function aC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ko(t[n],e[n]))return!1;return!0}function lC(t,e,n,r,i,s){if(Eh=s,jn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,c_.current=t===null||t.memoizedState===null?S$:w$,t=n(r,i),tg){s=0;do{if(tg=!1,Fg=0,25<=s)throw Error(Be(301));s+=1,Ur=br=null,e.updateQueue=null,c_.current=M$,t=n(r,i)}while(tg)}if(c_.current=lx,e=br!==null&&br.next!==null,Eh=0,Ur=br=jn=null,ax=!1,e)throw Error(Be(300));return t}function uC(){var t=Fg!==0;return Fg=0,t}function ua(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?jn.memoizedState=Ur=t:Ur=Ur.next=t,Ur}function to(){if(br===null){var t=jn.alternate;t=t!==null?t.memoizedState:null}else t=br.next;var e=Ur===null?jn.memoizedState:Ur.next;if(e!==null)Ur=e,br=t;else{if(t===null)throw Error(Be(310));br=t,t={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},Ur===null?jn.memoizedState=Ur=t:Ur=Ur.next=t}return Ur}function Ug(t,e){return typeof e=="function"?e(t):e}function tE(t){var e=to(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=t;var r=br,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Eh&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,jn.lanes|=c,bh|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ko(r,e.memoizedState)||($i=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,jn.lanes|=s,bh|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nE(t){var e=to(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ko(s,e.memoizedState)||($i=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function x8(){}function S8(t,e){var n=jn,r=to(),i=e(),s=!ko(r.memoizedState,i);if(s&&(r.memoizedState=i,$i=!0),r=r.queue,cC(E8.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ur!==null&&Ur.memoizedState.tag&1){if(n.flags|=2048,zg(9,M8.bind(null,n,r,i,e),void 0,null),Br===null)throw Error(Be(349));Eh&30||w8(n,e,i)}return i}function w8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=jn.updateQueue,e===null?(e={lastEffect:null,stores:null},jn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function M8(t,e,n,r){e.value=n,e.getSnapshot=r,b8(e)&&T8(t)}function E8(t,e,n){return n(function(){b8(e)&&T8(t)})}function b8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ko(t,n)}catch{return!0}}function T8(t){var e=bl(t,1);e!==null&&Oo(e,t,1,-1)}function F6(t){var e=ua();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:t},e.queue=t,t=t.dispatch=x$.bind(null,jn,t),[e.memoizedState,t]}function zg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=jn.updateQueue,e===null?(e={lastEffect:null,stores:null},jn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function A8(){return to().memoizedState}function h_(t,e,n,r){var i=ua();jn.flags|=t,i.memoizedState=zg(1|e,n,void 0,r===void 0?null:r)}function TS(t,e,n,r){var i=to();r=r===void 0?null:r;var s=void 0;if(br!==null){var o=br.memoizedState;if(s=o.destroy,r!==null&&aC(r,o.deps)){i.memoizedState=zg(e,n,s,r);return}}jn.flags|=t,i.memoizedState=zg(1|e,n,s,r)}function U6(t,e){return h_(8390656,8,t,e)}function cC(t,e){return TS(2048,8,t,e)}function C8(t,e){return TS(4,2,t,e)}function P8(t,e){return TS(4,4,t,e)}function R8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function N8(t,e,n){return n=n!=null?n.concat([t]):null,TS(4,4,R8.bind(null,e,t),n)}function hC(){}function I8(t,e){var n=to();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function O8(t,e){var n=to();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function L8(t,e,n){return Eh&21?(ko(n,e)||(n=Fk(),jn.lanes|=n,bh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$i=!0),t.memoizedState=n)}function y$(t,e){var n=un;un=n!==0&&4>n?n:4,t(!0);var r=eE.transition;eE.transition={};try{t(!1),e()}finally{un=n,eE.transition=r}}function D8(){return to().memoizedState}function _$(t,e,n){var r=Pu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},k8(t))F8(e,n);else if(n=f8(t,e,n,r),n!==null){var i=Ci();Oo(n,t,r,i),U8(n,e,r)}}function x$(t,e,n){var r=Pu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(k8(t))F8(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ko(a,o)){var l=e.interleaved;l===null?(i.next=i,nC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=f8(t,e,i,r),n!==null&&(i=Ci(),Oo(n,t,r,i),U8(n,e,r))}}function k8(t){var e=t.alternate;return t===jn||e!==null&&e===jn}function F8(t,e){tg=ax=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function U8(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jA(t,n)}}var lx={readContext:eo,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},S$={readContext:eo,useCallback:function(t,e){return ua().memoizedState=[t,e===void 0?null:e],t},useContext:eo,useEffect:U6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,h_(4194308,4,R8.bind(null,e,t),n)},useLayoutEffect:function(t,e){return h_(4194308,4,t,e)},useInsertionEffect:function(t,e){return h_(4,2,t,e)},useMemo:function(t,e){var n=ua();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ua();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_$.bind(null,jn,t),[r.memoizedState,t]},useRef:function(t){var e=ua();return t={current:t},e.memoizedState=t},useState:F6,useDebugValue:hC,useDeferredValue:function(t){return ua().memoizedState=t},useTransition:function(){var t=F6(!1),e=t[0];return t=y$.bind(null,t[1]),ua().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=jn,i=ua();if(Dn){if(n===void 0)throw Error(Be(407));n=n()}else{if(n=e(),Br===null)throw Error(Be(349));Eh&30||w8(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,U6(E8.bind(null,r,s,t),[t]),r.flags|=2048,zg(9,M8.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ua(),e=Br.identifierPrefix;if(Dn){var n=hl,r=cl;n=(r&~(1<<32-Io(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=v$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},w$={readContext:eo,useCallback:I8,useContext:eo,useEffect:cC,useImperativeHandle:N8,useInsertionEffect:C8,useLayoutEffect:P8,useMemo:O8,useReducer:tE,useRef:A8,useState:function(){return tE(Ug)},useDebugValue:hC,useDeferredValue:function(t){var e=to();return L8(e,br.memoizedState,t)},useTransition:function(){var t=tE(Ug)[0],e=to().memoizedState;return[t,e]},useMutableSource:x8,useSyncExternalStore:S8,useId:D8,unstable_isNewReconciler:!1},M$={readContext:eo,useCallback:I8,useContext:eo,useEffect:cC,useImperativeHandle:N8,useInsertionEffect:C8,useLayoutEffect:P8,useMemo:O8,useReducer:nE,useRef:A8,useState:function(){return nE(Ug)},useDebugValue:hC,useDeferredValue:function(t){var e=to();return br===null?e.memoizedState=t:L8(e,br.memoizedState,t)},useTransition:function(){var t=nE(Ug)[0],e=to().memoizedState;return[t,e]},useMutableSource:x8,useSyncExternalStore:S8,useId:D8,unstable_isNewReconciler:!1};function Hf(t,e){try{var n="",r=e;do n+=KW(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function rE(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function S3(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E$=typeof WeakMap=="function"?WeakMap:Map;function z8(t,e,n){n=vl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cx||(cx=!0,N3=r),S3(t,e)},n}function B8(t,e,n){n=vl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){S3(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){S3(t,e),typeof r!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function z6(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new E$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=U$.bind(null,t,e,n),e.then(t,t))}function B6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function V6(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vl(-1,1),e.tag=2,Au(n,e,1))),n.lanes|=1),t)}var b$=Ol.ReactCurrentOwner,$i=!1;function Mi(t,e,n,r){e.child=t===null?y8(e,null,n,r):Vf(e,t.child,n,r)}function j6(t,e,n,r,i){n=n.render;var s=e.ref;return bf(e,i),r=lC(t,e,n,r,s,i),n=uC(),t!==null&&!$i?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tl(t,e,i)):(Dn&&n&&ZA(e),e.flags|=1,Mi(t,e,r,i),e.child)}function H6(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!_C(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,V8(t,e,s,r,i)):(t=m_(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ng,n(o,r)&&t.ref===e.ref)return Tl(t,e,i)}return e.flags|=1,t=Ru(s,r),t.ref=e.ref,t.return=e,e.child=t}function V8(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ng(s,r)&&t.ref===e.ref)if($i=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&($i=!0);else return e.lanes=t.lanes,Tl(t,e,i)}return w3(t,e,n,r,i)}function j8(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xn(cf,cs),cs|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xn(cf,cs),cs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xn(cf,cs),cs|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xn(cf,cs),cs|=r;return Mi(t,e,i,n),e.child}function H8(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function w3(t,e,n,r,i){var s=Xi(n)?wh:vi.current;return s=zf(e,s),bf(e,i),n=lC(t,e,n,r,s,i),r=uC(),t!==null&&!$i?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tl(t,e,i)):(Dn&&r&&ZA(e),e.flags|=1,Mi(t,e,n,i),e.child)}function W6(t,e,n,r,i){if(Xi(n)){var s=!0;ex(e)}else s=!1;if(bf(e,i),e.stateNode===null)d_(t,e),g8(e,n,r),x3(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=eo(u):(u=Xi(n)?wh:vi.current,u=zf(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&D6(e,o,r,u),cu=!1;var p=e.memoizedState;o.state=p,sx(e,r,o,i),l=e.memoizedState,a!==r||p!==l||qi.current||cu?(typeof c=="function"&&(_3(e,n,c,r),l=e.memoizedState),(a=cu||L6(e,n,a,r,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,p8(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:mo(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=eo(l):(l=Xi(n)?wh:vi.current,l=zf(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&D6(e,o,r,l),cu=!1,p=e.memoizedState,o.state=p,sx(e,r,o,i);var g=e.memoizedState;a!==d||p!==g||qi.current||cu?(typeof m=="function"&&(_3(e,n,m,r),g=e.memoizedState),(u=cu||L6(e,n,u,r,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return M3(t,e,n,r,s,i)}function M3(t,e,n,r,i,s){H8(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&P6(e,n,!1),Tl(t,e,s);r=e.stateNode,b$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vf(e,t.child,null,s),e.child=Vf(e,null,a,s)):Mi(t,e,a,s),e.memoizedState=r.state,i&&P6(e,n,!0),e.child}function W8(t){var e=t.stateNode;e.pendingContext?C6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&C6(t,e.context,!1),iC(t,e.containerInfo)}function G6(t,e,n,r,i){return Bf(),QA(i),e.flags|=256,Mi(t,e,n,r),e.child}var E3={dehydrated:null,treeContext:null,retryLane:0};function b3(t){return{baseLanes:t,cachePool:null,transitions:null}}function G8(t,e,n){var r=e.pendingProps,i=zn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xn(zn,i&1),t===null)return v3(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=PS(o,r,0,null),t=ch(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=b3(n),e.memoizedState=E3,t):dC(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return T$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ru(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ru(a,s):(s=ch(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?b3(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=E3,r}return s=t.child,t=s.sibling,r=Ru(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dC(t,e){return e=PS({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Y1(t,e,n,r){return r!==null&&QA(r),Vf(e,t.child,null,n),t=dC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=rE(Error(Be(422))),Y1(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=PS({mode:"visible",children:r.children},i,0,null),s=ch(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vf(e,t.child,null,o),e.child.memoizedState=b3(o),e.memoizedState=E3,s);if(!(e.mode&1))return Y1(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Be(419)),r=rE(s,r,void 0),Y1(t,e,o,r)}if(a=(o&t.childLanes)!==0,$i||a){if(r=Br,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bl(t,i),Oo(r,t,i,-1))}return yC(),r=rE(Error(Be(421))),Y1(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=z$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ps=Tu(i.nextSibling),xs=e,Dn=!0,So=null,t!==null&&($s[qs++]=cl,$s[qs++]=hl,$s[qs++]=Mh,cl=t.id,hl=t.overflow,Mh=e),e=dC(e,r.children),e.flags|=4096,e)}function $6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),y3(t.return,e,n)}function iE(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $8(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Mi(t,e,r.children,n),r=zn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$6(t,n,e);else if(t.tag===19)$6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xn(zn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ox(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),iE(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ox(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}iE(e,!0,n,null,s);break;case"together":iE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function d_(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Be(153));if(e.child!==null){for(t=e.child,n=Ru(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ru(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function A$(t,e,n){switch(e.tag){case 3:W8(e),Bf();break;case 5:_8(e);break;case 1:Xi(e.type)&&ex(e);break;case 4:iC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xn(rx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xn(zn,zn.current&1),e.flags|=128,null):n&e.child.childLanes?G8(t,e,n):(xn(zn,zn.current&1),t=Tl(t,e,n),t!==null?t.sibling:null);xn(zn,zn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $8(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xn(zn,zn.current),r)break;return null;case 22:case 23:return e.lanes=0,j8(t,e,n)}return Tl(t,e,n)}var q8,T3,X8,Y8;q8=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};T3=function(){};X8=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jc(_a.current);var s=null;switch(n){case"input":i=Xb(t,i),r=Xb(t,r),s=[];break;case"select":i=Hn({},i,{value:void 0}),r=Hn({},r,{value:void 0}),s=[];break;case"textarea":i=Kb(t,i),r=Kb(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Q_)}Jb(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eg.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&En("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Y8=function(t,e,n,r){n!==r&&(e.flags|=4)};function hm(t,e){if(!Dn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ci(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C$(t,e,n){var r=e.pendingProps;switch(KA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(e),null;case 1:return Xi(e.type)&&J_(),ci(e),null;case 3:return r=e.stateNode,jf(),Cn(qi),Cn(vi),oC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(q1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,So!==null&&(L3(So),So=null))),T3(t,e),ci(e),null;case 5:sC(e);var i=Jc(kg.current);if(n=e.type,t!==null&&e.stateNode!=null)X8(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Be(166));return ci(e),null}if(t=Jc(_a.current),q1(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ha]=e,r[Lg]=s,t=(e.mode&1)!==0,n){case"dialog":En("cancel",r),En("close",r);break;case"iframe":case"object":case"embed":En("load",r);break;case"video":case"audio":for(i=0;i<Hm.length;i++)En(Hm[i],r);break;case"source":En("error",r);break;case"img":case"image":case"link":En("error",r),En("load",r);break;case"details":En("toggle",r);break;case"input":t6(r,s),En("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},En("invalid",r);break;case"textarea":r6(r,s),En("invalid",r)}Jb(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$1(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$1(r.textContent,a,t),i=["children",""+a]):Eg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&En("scroll",r)}switch(n){case"input":U1(r),n6(r,s,!0);break;case"textarea":U1(r),i6(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Q_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ha]=e,t[Lg]=r,q8(t,e,!1,!1),e.stateNode=t;e:{switch(o=e3(n,r),n){case"dialog":En("cancel",t),En("close",t),i=r;break;case"iframe":case"object":case"embed":En("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hm.length;i++)En(Hm[i],t);i=r;break;case"source":En("error",t),i=r;break;case"img":case"image":case"link":En("error",t),En("load",t),i=r;break;case"details":En("toggle",t),i=r;break;case"input":t6(t,r),i=Xb(t,r),En("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Hn({},r,{value:void 0}),En("invalid",t);break;case"textarea":r6(t,r),i=Kb(t,r),En("invalid",t);break;default:i=r}Jb(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mk(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bg(t,l):typeof l=="number"&&bg(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&En("scroll",t):l!=null&&kA(t,s,l,o))}switch(n){case"input":U1(t),n6(t,r,!1);break;case"textarea":U1(t),i6(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ju(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Sf(t,!!r.multiple,s,!1):r.defaultValue!=null&&Sf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Q_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ci(e),null;case 6:if(t&&e.stateNode!=null)Y8(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Be(166));if(n=Jc(kg.current),Jc(_a.current),q1(e)){if(r=e.stateNode,n=e.memoizedProps,r[ha]=e,(s=r.nodeValue!==n)&&(t=xs,t!==null))switch(t.tag){case 3:$1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$1(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ha]=e,e.stateNode=r}return ci(e),null;case 13:if(Cn(zn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dn&&ps!==null&&e.mode&1&&!(e.flags&128))d8(),Bf(),e.flags|=98560,s=!1;else if(s=q1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Be(317));s[ha]=e}else Bf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ci(e),s=!1}else So!==null&&(L3(So),So=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zn.current&1?Tr===0&&(Tr=3):yC())),e.updateQueue!==null&&(e.flags|=4),ci(e),null);case 4:return jf(),T3(t,e),t===null&&Ig(e.stateNode.containerInfo),ci(e),null;case 10:return tC(e.type._context),ci(e),null;case 17:return Xi(e.type)&&J_(),ci(e),null;case 19:if(Cn(zn),s=e.memoizedState,s===null)return ci(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)hm(s,!1);else{if(Tr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ox(t),o!==null){for(e.flags|=128,hm(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xn(zn,zn.current&1|2),e.child}t=t.sibling}s.tail!==null&&or()>Wf&&(e.flags|=128,r=!0,hm(s,!1),e.lanes=4194304)}else{if(!r)if(t=ox(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Dn)return ci(e),null}else 2*or()-s.renderingStartTime>Wf&&n!==1073741824&&(e.flags|=128,r=!0,hm(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=or(),e.sibling=null,n=zn.current,xn(zn,r?n&1|2:n&1),e):(ci(e),null);case 22:case 23:return vC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cs&1073741824&&(ci(e),e.subtreeFlags&6&&(e.flags|=8192)):ci(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function P$(t,e){switch(KA(e),e.tag){case 1:return Xi(e.type)&&J_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jf(),Cn(qi),Cn(vi),oC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sC(e),null;case 13:if(Cn(zn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));Bf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cn(zn),null;case 4:return jf(),null;case 10:return tC(e.type._context),null;case 22:case 23:return vC(),null;case 24:return null;default:return null}}var Z1=!1,pi=!1,R$=typeof WeakSet=="function"?WeakSet:Set,Je=null;function uf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xn(t,e,r)}else n.current=null}function A3(t,e,n){try{n()}catch(r){Xn(t,e,r)}}var q6=!1;function N$(t,e){if(c3=Y_,t=Jk(),YA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(h3={focusedElem:t,selectionRange:n},Y_=!1,Je=e;Je!==null;)if(e=Je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Je=t;else for(;Je!==null;){e=Je;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:mo(e.type,y),_);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(M){Xn(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}return g=q6,q6=!1,g}function ng(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&A3(e,n,s)}i=i.next}while(i!==r)}}function AS(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function C3(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Z8(t){var e=t.alternate;e!==null&&(t.alternate=null,Z8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ha],delete e[Lg],delete e[p3],delete e[f$],delete e[p$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function K8(t){return t.tag===5||t.tag===3||t.tag===4}function X6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||K8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function P3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Q_));else if(r!==4&&(t=t.child,t!==null))for(P3(t,e,n),t=t.sibling;t!==null;)P3(t,e,n),t=t.sibling}function R3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(R3(t,e,n),t=t.sibling;t!==null;)R3(t,e,n),t=t.sibling}var qr=null,yo=!1;function Jl(t,e,n){for(n=n.child;n!==null;)Q8(t,e,n),n=n.sibling}function Q8(t,e,n){if(ya&&typeof ya.onCommitFiberUnmount=="function")try{ya.onCommitFiberUnmount(_S,n)}catch{}switch(n.tag){case 5:pi||uf(n,e);case 6:var r=qr,i=yo;qr=null,Jl(t,e,n),qr=r,yo=i,qr!==null&&(yo?(t=qr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qr.removeChild(n.stateNode));break;case 18:qr!==null&&(yo?(t=qr,n=n.stateNode,t.nodeType===8?KM(t.parentNode,n):t.nodeType===1&&KM(t,n),Pg(t)):KM(qr,n.stateNode));break;case 4:r=qr,i=yo,qr=n.stateNode.containerInfo,yo=!0,Jl(t,e,n),qr=r,yo=i;break;case 0:case 11:case 14:case 15:if(!pi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&A3(n,e,o),i=i.next}while(i!==r)}Jl(t,e,n);break;case 1:if(!pi&&(uf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Xn(n,e,a)}Jl(t,e,n);break;case 21:Jl(t,e,n);break;case 22:n.mode&1?(pi=(r=pi)||n.memoizedState!==null,Jl(t,e,n),pi=r):Jl(t,e,n);break;default:Jl(t,e,n)}}function Y6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new R$),e.forEach(function(r){var i=B$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qr=a.stateNode,yo=!1;break e;case 3:qr=a.stateNode.containerInfo,yo=!0;break e;case 4:qr=a.stateNode.containerInfo,yo=!0;break e}a=a.return}if(qr===null)throw Error(Be(160));Q8(s,o,i),qr=null,yo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Xn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)J8(e,t),e=e.sibling}function J8(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lo(e,t),aa(t),r&4){try{ng(3,t,t.return),AS(3,t)}catch(y){Xn(t,t.return,y)}try{ng(5,t,t.return)}catch(y){Xn(t,t.return,y)}}break;case 1:lo(e,t),aa(t),r&512&&n!==null&&uf(n,n.return);break;case 5:if(lo(e,t),aa(t),r&512&&n!==null&&uf(n,n.return),t.flags&32){var i=t.stateNode;try{bg(i,"")}catch(y){Xn(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xk(i,s),e3(a,o);var u=e3(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?bk(i,d):c==="dangerouslySetInnerHTML"?Mk(i,d):c==="children"?bg(i,d):kA(i,c,d,u)}switch(a){case"input":Yb(i,s);break;case"textarea":Sk(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Sf(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Sf(i,!!s.multiple,s.defaultValue,!0):Sf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lg]=s}catch(y){Xn(t,t.return,y)}}break;case 6:if(lo(e,t),aa(t),r&4){if(t.stateNode===null)throw Error(Be(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Xn(t,t.return,y)}}break;case 3:if(lo(e,t),aa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pg(e.containerInfo)}catch(y){Xn(t,t.return,y)}break;case 4:lo(e,t),aa(t);break;case 13:lo(e,t),aa(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(mC=or())),r&4&&Y6(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(pi=(u=pi)||c,lo(e,t),pi=u):lo(e,t),aa(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Je=t,c=t.child;c!==null;){for(d=Je=c;Je!==null;){switch(p=Je,m=p.child,p.tag){case 0:case 11:case 14:case 15:ng(4,p,p.return);break;case 1:uf(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Xn(r,n,y)}}break;case 5:uf(p,p.return);break;case 22:if(p.memoizedState!==null){K6(d);continue}}m!==null?(m.return=p,Je=m):K6(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ek("display",o))}catch(y){Xn(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Xn(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:lo(e,t),aa(t),r&4&&Y6(t);break;case 21:break;default:lo(e,t),aa(t)}}function aa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(K8(n)){var r=n;break e}n=n.return}throw Error(Be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bg(i,""),r.flags&=-33);var s=X6(t);R3(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=X6(t);P3(t,a,o);break;default:throw Error(Be(161))}}catch(l){Xn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function I$(t,e,n){Je=t,e7(t)}function e7(t,e,n){for(var r=(t.mode&1)!==0;Je!==null;){var i=Je,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Z1;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||pi;a=Z1;var u=pi;if(Z1=o,(pi=l)&&!u)for(Je=i;Je!==null;)o=Je,l=o.child,o.tag===22&&o.memoizedState!==null?Q6(i):l!==null?(l.return=o,Je=l):Q6(i);for(;s!==null;)Je=s,e7(s),s=s.sibling;Je=i,Z1=a,pi=u}Z6(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Je=s):Z6(t)}}function Z6(t){for(;Je!==null;){var e=Je;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pi||AS(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&O6(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}O6(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Pg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}pi||e.flags&512&&C3(e)}catch(p){Xn(e,e.return,p)}}if(e===t){Je=null;break}if(n=e.sibling,n!==null){n.return=e.return,Je=n;break}Je=e.return}}function K6(t){for(;Je!==null;){var e=Je;if(e===t){Je=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Je=n;break}Je=e.return}}function Q6(t){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{AS(4,e)}catch(l){Xn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Xn(e,i,l)}}var s=e.return;try{C3(e)}catch(l){Xn(e,s,l)}break;case 5:var o=e.return;try{C3(e)}catch(l){Xn(e,o,l)}}}catch(l){Xn(e,e.return,l)}if(e===t){Je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Je=a;break}Je=e.return}}var O$=Math.ceil,ux=Ol.ReactCurrentDispatcher,fC=Ol.ReactCurrentOwner,Qs=Ol.ReactCurrentBatchConfig,Yt=0,Br=null,vr=null,Zr=0,cs=0,cf=oc(0),Tr=0,Bg=null,bh=0,CS=0,pC=0,rg=null,ji=null,mC=0,Wf=1/0,tl=null,cx=!1,N3=null,Cu=null,K1=!1,_u=null,hx=0,ig=0,I3=null,f_=-1,p_=0;function Ci(){return Yt&6?or():f_!==-1?f_:f_=or()}function Pu(t){return t.mode&1?Yt&2&&Zr!==0?Zr&-Zr:g$.transition!==null?(p_===0&&(p_=Fk()),p_):(t=un,t!==0||(t=window.event,t=t===void 0?16:Wk(t.type)),t):1}function Oo(t,e,n,r){if(50<ig)throw ig=0,I3=null,Error(Be(185));q0(t,n,r),(!(Yt&2)||t!==Br)&&(t===Br&&(!(Yt&2)&&(CS|=n),Tr===4&&pu(t,Zr)),Yi(t,r),n===1&&Yt===0&&!(e.mode&1)&&(Wf=or()+500,ES&&ac()))}function Yi(t,e){var n=t.callbackNode;gG(t,e);var r=X_(t,t===Br?Zr:0);if(r===0)n!==null&&a6(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a6(n),e===1)t.tag===0?m$(J6.bind(null,t)):u8(J6.bind(null,t)),h$(function(){!(Yt&6)&&ac()}),n=null;else{switch(Uk(r)){case 1:n=VA;break;case 4:n=Dk;break;case 16:n=q_;break;case 536870912:n=kk;break;default:n=q_}n=l7(n,t7.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function t7(t,e){if(f_=-1,p_=0,Yt&6)throw Error(Be(327));var n=t.callbackNode;if(Tf()&&t.callbackNode!==n)return null;var r=X_(t,t===Br?Zr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dx(t,r);else{e=r;var i=Yt;Yt|=2;var s=r7();(Br!==t||Zr!==e)&&(tl=null,Wf=or()+500,uh(t,e));do try{k$();break}catch(a){n7(t,a)}while(1);eC(),ux.current=s,Yt=i,vr!==null?e=0:(Br=null,Zr=0,e=Tr)}if(e!==0){if(e===2&&(i=s3(t),i!==0&&(r=i,e=O3(t,i))),e===1)throw n=Bg,uh(t,0),pu(t,r),Yi(t,or()),n;if(e===6)pu(t,r);else{if(i=t.current.alternate,!(r&30)&&!L$(i)&&(e=dx(t,r),e===2&&(s=s3(t),s!==0&&(r=s,e=O3(t,s))),e===1))throw n=Bg,uh(t,0),pu(t,r),Yi(t,or()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Be(345));case 2:Vc(t,ji,tl);break;case 3:if(pu(t,r),(r&130023424)===r&&(e=mC+500-or(),10<e)){if(X_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ci(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=f3(Vc.bind(null,t,ji,tl),e);break}Vc(t,ji,tl);break;case 4:if(pu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Io(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=or()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O$(r/1960))-r,10<r){t.timeoutHandle=f3(Vc.bind(null,t,ji,tl),r);break}Vc(t,ji,tl);break;case 5:Vc(t,ji,tl);break;default:throw Error(Be(329))}}}return Yi(t,or()),t.callbackNode===n?t7.bind(null,t):null}function O3(t,e){var n=rg;return t.current.memoizedState.isDehydrated&&(uh(t,e).flags|=256),t=dx(t,e),t!==2&&(e=ji,ji=n,e!==null&&L3(e)),t}function L3(t){ji===null?ji=t:ji.push.apply(ji,t)}function L$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ko(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pu(t,e){for(e&=~pC,e&=~CS,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Io(e),r=1<<n;t[n]=-1,e&=~r}}function J6(t){if(Yt&6)throw Error(Be(327));Tf();var e=X_(t,0);if(!(e&1))return Yi(t,or()),null;var n=dx(t,e);if(t.tag!==0&&n===2){var r=s3(t);r!==0&&(e=r,n=O3(t,r))}if(n===1)throw n=Bg,uh(t,0),pu(t,e),Yi(t,or()),n;if(n===6)throw Error(Be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vc(t,ji,tl),Yi(t,or()),null}function gC(t,e){var n=Yt;Yt|=1;try{return t(e)}finally{Yt=n,Yt===0&&(Wf=or()+500,ES&&ac())}}function Th(t){_u!==null&&_u.tag===0&&!(Yt&6)&&Tf();var e=Yt;Yt|=1;var n=Qs.transition,r=un;try{if(Qs.transition=null,un=1,t)return t()}finally{un=r,Qs.transition=n,Yt=e,!(Yt&6)&&ac()}}function vC(){cs=cf.current,Cn(cf)}function uh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,c$(n)),vr!==null)for(n=vr.return;n!==null;){var r=n;switch(KA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&J_();break;case 3:jf(),Cn(qi),Cn(vi),oC();break;case 5:sC(r);break;case 4:jf();break;case 13:Cn(zn);break;case 19:Cn(zn);break;case 10:tC(r.type._context);break;case 22:case 23:vC()}n=n.return}if(Br=t,vr=t=Ru(t.current,null),Zr=cs=e,Tr=0,Bg=null,pC=CS=bh=0,ji=rg=null,Qc!==null){for(e=0;e<Qc.length;e++)if(n=Qc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Qc=null}return t}function n7(t,e){do{var n=vr;try{if(eC(),c_.current=lx,ax){for(var r=jn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ax=!1}if(Eh=0,Ur=br=jn=null,tg=!1,Fg=0,fC.current=null,n===null||n.return===null){Tr=1,Bg=e,vr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Zr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=B6(o);if(m!==null){m.flags&=-257,V6(m,o,a,s,e),m.mode&1&&z6(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){z6(s,u,e),yC();break e}l=Error(Be(426))}}else if(Dn&&a.mode&1){var _=B6(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),V6(_,o,a,s,e),QA(Hf(l,a));break e}}s=l=Hf(l,a),Tr!==4&&(Tr=2),rg===null?rg=[s]:rg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=z8(s,l,e);I6(s,v);break e;case 1:a=l;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Cu===null||!Cu.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=B8(s,a,e);I6(s,M);break e}}s=s.return}while(s!==null)}s7(n)}catch(b){e=b,vr===n&&n!==null&&(vr=n=n.return);continue}break}while(1)}function r7(){var t=ux.current;return ux.current=lx,t===null?lx:t}function yC(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),Br===null||!(bh&268435455)&&!(CS&268435455)||pu(Br,Zr)}function dx(t,e){var n=Yt;Yt|=2;var r=r7();(Br!==t||Zr!==e)&&(tl=null,uh(t,e));do try{D$();break}catch(i){n7(t,i)}while(1);if(eC(),Yt=n,ux.current=r,vr!==null)throw Error(Be(261));return Br=null,Zr=0,Tr}function D$(){for(;vr!==null;)i7(vr)}function k$(){for(;vr!==null&&!aG();)i7(vr)}function i7(t){var e=a7(t.alternate,t,cs);t.memoizedProps=t.pendingProps,e===null?s7(t):vr=e,fC.current=null}function s7(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=P$(n,e),n!==null){n.flags&=32767,vr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tr=6,vr=null;return}}else if(n=C$(n,e,cs),n!==null){vr=n;return}if(e=e.sibling,e!==null){vr=e;return}vr=e=t}while(e!==null);Tr===0&&(Tr=5)}function Vc(t,e,n){var r=un,i=Qs.transition;try{Qs.transition=null,un=1,F$(t,e,n,r)}finally{Qs.transition=i,un=r}return null}function F$(t,e,n,r){do Tf();while(_u!==null);if(Yt&6)throw Error(Be(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Be(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vG(t,s),t===Br&&(vr=Br=null,Zr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||K1||(K1=!0,l7(q_,function(){return Tf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qs.transition,Qs.transition=null;var o=un;un=1;var a=Yt;Yt|=4,fC.current=null,N$(t,n),J8(n,t),r$(h3),Y_=!!c3,h3=c3=null,t.current=n,I$(n),lG(),Yt=a,un=o,Qs.transition=s}else t.current=n;if(K1&&(K1=!1,_u=t,hx=i),s=t.pendingLanes,s===0&&(Cu=null),hG(n.stateNode),Yi(t,or()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cx)throw cx=!1,t=N3,N3=null,t;return hx&1&&t.tag!==0&&Tf(),s=t.pendingLanes,s&1?t===I3?ig++:(ig=0,I3=t):ig=0,ac(),null}function Tf(){if(_u!==null){var t=Uk(hx),e=Qs.transition,n=un;try{if(Qs.transition=null,un=16>t?16:t,_u===null)var r=!1;else{if(t=_u,_u=null,hx=0,Yt&6)throw Error(Be(331));var i=Yt;for(Yt|=4,Je=t.current;Je!==null;){var s=Je,o=s.child;if(Je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Je=u;Je!==null;){var c=Je;switch(c.tag){case 0:case 11:case 15:ng(8,c,s)}var d=c.child;if(d!==null)d.return=c,Je=d;else for(;Je!==null;){c=Je;var p=c.sibling,m=c.return;if(Z8(c),c===u){Je=null;break}if(p!==null){p.return=m,Je=p;break}Je=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}Je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Je=o;else e:for(;Je!==null;){if(s=Je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ng(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Je=v;break e}Je=s.return}}var x=t.current;for(Je=x;Je!==null;){o=Je;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Je=w;else e:for(o=x;Je!==null;){if(a=Je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:AS(9,a)}}catch(b){Xn(a,a.return,b)}if(a===o){Je=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Je=M;break e}Je=a.return}}if(Yt=i,ac(),ya&&typeof ya.onPostCommitFiberRoot=="function")try{ya.onPostCommitFiberRoot(_S,t)}catch{}r=!0}return r}finally{un=n,Qs.transition=e}}return!1}function eN(t,e,n){e=Hf(n,e),e=z8(t,e,1),t=Au(t,e,1),e=Ci(),t!==null&&(q0(t,1,e),Yi(t,e))}function Xn(t,e,n){if(t.tag===3)eN(t,t,n);else for(;e!==null;){if(e.tag===3){eN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cu===null||!Cu.has(r))){t=Hf(n,t),t=B8(e,t,1),e=Au(e,t,1),t=Ci(),e!==null&&(q0(e,1,t),Yi(e,t));break}}e=e.return}}function U$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ci(),t.pingedLanes|=t.suspendedLanes&n,Br===t&&(Zr&n)===n&&(Tr===4||Tr===3&&(Zr&130023424)===Zr&&500>or()-mC?uh(t,0):pC|=n),Yi(t,e)}function o7(t,e){e===0&&(t.mode&1?(e=V1,V1<<=1,!(V1&130023424)&&(V1=4194304)):e=1);var n=Ci();t=bl(t,e),t!==null&&(q0(t,e,n),Yi(t,n))}function z$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),o7(t,n)}function B$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Be(314))}r!==null&&r.delete(e),o7(t,n)}var a7;a7=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qi.current)$i=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $i=!1,A$(t,e,n);$i=!!(t.flags&131072)}else $i=!1,Dn&&e.flags&1048576&&c8(e,nx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;d_(t,e),t=e.pendingProps;var i=zf(e,vi.current);bf(e,n),i=lC(null,e,r,t,i,n);var s=uC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xi(r)?(s=!0,ex(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rC(e),i.updater=bS,e.stateNode=i,i._reactInternals=e,x3(e,r,t,n),e=M3(null,e,r,!0,s,n)):(e.tag=0,Dn&&s&&ZA(e),Mi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(d_(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=j$(r),t=mo(r,t),i){case 0:e=w3(null,e,r,t,n);break e;case 1:e=W6(null,e,r,t,n);break e;case 11:e=j6(null,e,r,t,n);break e;case 14:e=H6(null,e,r,mo(r.type,t),n);break e}throw Error(Be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),w3(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),W6(t,e,r,i,n);case 3:e:{if(W8(e),t===null)throw Error(Be(387));r=e.pendingProps,s=e.memoizedState,i=s.element,p8(t,e),sx(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Hf(Error(Be(423)),e),e=G6(t,e,r,n,i);break e}else if(r!==i){i=Hf(Error(Be(424)),e),e=G6(t,e,r,n,i);break e}else for(ps=Tu(e.stateNode.containerInfo.firstChild),xs=e,Dn=!0,So=null,n=y8(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bf(),r===i){e=Tl(t,e,n);break e}Mi(t,e,r,n)}e=e.child}return e;case 5:return _8(e),t===null&&v3(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,d3(r,i)?o=null:s!==null&&d3(r,s)&&(e.flags|=32),H8(t,e),Mi(t,e,o,n),e.child;case 6:return t===null&&v3(e),null;case 13:return G8(t,e,n);case 4:return iC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vf(e,null,r,n):Mi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),j6(t,e,r,i,n);case 7:return Mi(t,e,e.pendingProps,n),e.child;case 8:return Mi(t,e,e.pendingProps.children,n),e.child;case 12:return Mi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xn(rx,r._currentValue),r._currentValue=o,s!==null)if(ko(s.value,o)){if(s.children===i.children&&!qi.current){e=Tl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vl(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),y3(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Be(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),y3(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bf(e,n),i=eo(i),r=r(i),e.flags|=1,Mi(t,e,r,n),e.child;case 14:return r=e.type,i=mo(r,e.pendingProps),i=mo(r.type,i),H6(t,e,r,i,n);case 15:return V8(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),d_(t,e),e.tag=1,Xi(r)?(t=!0,ex(e)):t=!1,bf(e,n),g8(e,r,i),x3(e,r,i,n),M3(null,e,r,!0,t,n);case 19:return $8(t,e,n);case 22:return j8(t,e,n)}throw Error(Be(156,e.tag))};function l7(t,e){return Lk(t,e)}function V$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(t,e,n,r){return new V$(t,e,n,r)}function _C(t){return t=t.prototype,!(!t||!t.isReactComponent)}function j$(t){if(typeof t=="function")return _C(t)?1:0;if(t!=null){if(t=t.$$typeof,t===UA)return 11;if(t===zA)return 14}return 2}function Ru(t,e){var n=t.alternate;return n===null?(n=Zs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function m_(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")_C(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jd:return ch(n.children,i,s,e);case FA:o=8,i|=8;break;case Wb:return t=Zs(12,n,e,i|2),t.elementType=Wb,t.lanes=s,t;case Gb:return t=Zs(13,n,e,i),t.elementType=Gb,t.lanes=s,t;case $b:return t=Zs(19,n,e,i),t.elementType=$b,t.lanes=s,t;case vk:return PS(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mk:o=10;break e;case gk:o=9;break e;case UA:o=11;break e;case zA:o=14;break e;case uu:o=16,r=null;break e}throw Error(Be(130,t==null?t:typeof t,""))}return e=Zs(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ch(t,e,n,r){return t=Zs(7,t,r,e),t.lanes=n,t}function PS(t,e,n,r){return t=Zs(22,t,r,e),t.elementType=vk,t.lanes=n,t.stateNode={isHidden:!1},t}function sE(t,e,n){return t=Zs(6,t,null,e),t.lanes=n,t}function oE(t,e,n){return e=Zs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function H$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=BM(0),this.expirationTimes=BM(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=BM(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xC(t,e,n,r,i,s,o,a,l){return t=new H$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rC(s),t}function W$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function u7(t){if(!t)return Hu;t=t._reactInternals;e:{if(Wh(t)!==t||t.tag!==1)throw Error(Be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(t.tag===1){var n=t.type;if(Xi(n))return l8(t,n,e)}return e}function c7(t,e,n,r,i,s,o,a,l){return t=xC(n,r,!0,t,i,s,o,a,l),t.context=u7(null),n=t.current,r=Ci(),i=Pu(n),s=vl(r,i),s.callback=e??null,Au(n,s,i),t.current.lanes=i,q0(t,i,r),Yi(t,r),t}function RS(t,e,n,r){var i=e.current,s=Ci(),o=Pu(i);return n=u7(n),e.context===null?e.context=n:e.pendingContext=n,e=vl(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Au(i,e,o),t!==null&&(Oo(t,i,o,s),u_(t,i,o)),o}function fx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function SC(t,e){tN(t,e),(t=t.alternate)&&tN(t,e)}function G$(){return null}var h7=typeof reportError=="function"?reportError:function(t){console.error(t)};function wC(t){this._internalRoot=t}NS.prototype.render=wC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Be(409));RS(t,e,null,null)};NS.prototype.unmount=wC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Th(function(){RS(null,t,null,null)}),e[El]=null}};function NS(t){this._internalRoot=t}NS.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fu.length&&e!==0&&e<fu[n].priority;n++);fu.splice(n,0,t),n===0&&Hk(t)}};function MC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function IS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nN(){}function $$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fx(o);s.call(u)}}var o=c7(e,r,t,0,null,!1,!1,"",nN);return t._reactRootContainer=o,t[El]=o.current,Ig(t.nodeType===8?t.parentNode:t),Th(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=fx(l);a.call(u)}}var l=xC(t,0,!1,null,null,!1,!1,"",nN);return t._reactRootContainer=l,t[El]=l.current,Ig(t.nodeType===8?t.parentNode:t),Th(function(){RS(e,l,n,r)}),l}function OS(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fx(o);a.call(l)}}RS(e,o,t,i)}else o=$$(n,e,t,i,r);return fx(o)}zk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jm(e.pendingLanes);n!==0&&(jA(e,n|1),Yi(e,or()),!(Yt&6)&&(Wf=or()+500,ac()))}break;case 13:Th(function(){var r=bl(t,1);if(r!==null){var i=Ci();Oo(r,t,1,i)}}),SC(t,1)}};HA=function(t){if(t.tag===13){var e=bl(t,134217728);if(e!==null){var n=Ci();Oo(e,t,134217728,n)}SC(t,134217728)}};Bk=function(t){if(t.tag===13){var e=Pu(t),n=bl(t,e);if(n!==null){var r=Ci();Oo(n,t,e,r)}SC(t,e)}};Vk=function(){return un};jk=function(t,e){var n=un;try{return un=t,e()}finally{un=n}};n3=function(t,e,n){switch(e){case"input":if(Yb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=MS(r);if(!i)throw Error(Be(90));_k(r),Yb(r,i)}}}break;case"textarea":Sk(t,n);break;case"select":e=n.value,e!=null&&Sf(t,!!n.multiple,e,!1)}};Ck=gC;Pk=Th;var q$={usingClientEntryPoint:!1,Events:[Y0,rf,MS,Tk,Ak,gC]},dm={findFiberByHostInstance:Kc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},X$={bundleType:dm.bundleType,version:dm.version,rendererPackageName:dm.rendererPackageName,rendererConfig:dm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ol.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ik(t),t===null?null:t.stateNode},findFiberByHostInstance:dm.findFiberByHostInstance||G$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Q1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q1.isDisabled&&Q1.supportsFiber)try{_S=Q1.inject(X$),ya=Q1}catch{}}Cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q$;Cs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!MC(e))throw Error(Be(200));return W$(t,e,null,n)};Cs.createRoot=function(t,e){if(!MC(t))throw Error(Be(299));var n=!1,r="",i=h7;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xC(t,1,!1,null,null,n,!1,r,i),t[El]=e.current,Ig(t.nodeType===8?t.parentNode:t),new wC(e)};Cs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Be(188)):(t=Object.keys(t).join(","),Error(Be(268,t)));return t=Ik(e),t=t===null?null:t.stateNode,t};Cs.flushSync=function(t){return Th(t)};Cs.hydrate=function(t,e,n){if(!IS(e))throw Error(Be(200));return OS(null,t,e,!0,n)};Cs.hydrateRoot=function(t,e,n){if(!MC(t))throw Error(Be(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=h7;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=c7(e,null,t,1,n??null,i,!1,s,o),t[El]=e.current,Ig(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new NS(e)};Cs.render=function(t,e,n){if(!IS(e))throw Error(Be(200));return OS(null,t,e,!1,n)};Cs.unmountComponentAtNode=function(t){if(!IS(t))throw Error(Be(40));return t._reactRootContainer?(Th(function(){OS(null,null,t,!1,function(){t._reactRootContainer=null,t[El]=null})}),!0):!1};Cs.unstable_batchedUpdates=gC;Cs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!IS(n))throw Error(Be(200));if(t==null||t._reactInternals===void 0)throw Error(Be(38));return OS(t,e,n,!1,r)};Cs.version="18.2.0-next-9e3b772b8-20220608";function d7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d7)}catch(t){console.error(t)}}d7(),ck.exports=Cs;var LS=ck.exports,rN=LS;jb.createRoot=rN.createRoot,jb.hydrateRoot=rN.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nn(){return Nn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nn.apply(this,arguments)}var gr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gr||(gr={}));const iN="popstate";function Y$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Vg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ah(i)}return K$(e,n,null,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z$(){return Math.random().toString(36).substr(2,8)}function sN(t,e){return{usr:t.state,key:t.key,idx:e}}function Vg(t,e,n,r){return n===void 0&&(n=null),Nn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ll(e):e,{state:n,key:e&&e.key||r||Z$()})}function Ah(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function K$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=gr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Nn({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=gr.Pop;let _=c(),v=_==null?null:_-u;u=_,l&&l({action:a,location:y.location,delta:v})}function p(_,v){a=gr.Push;let x=Vg(y.location,_,v);n&&n(x,_),u=c()+1;let w=sN(x,u),M=y.createHref(x);try{o.pushState(w,"",M)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(M)}s&&l&&l({action:a,location:y.location,delta:1})}function m(_,v){a=gr.Replace;let x=Vg(y.location,_,v);n&&n(x,_),u=c();let w=sN(x,u),M=y.createHref(x);o.replaceState(w,"",M),s&&l&&l({action:a,location:y.location,delta:0})}function g(_){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof _=="string"?_:Ah(_);return Ft(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let y={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(iN,d),l=_,()=>{i.removeEventListener(iN,d),l=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let v=g(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(_){return o.go(_)}};return y}var Er;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Er||(Er={}));const Q$=new Set(["lazy","caseSensitive","path","id","index","children"]);function J$(t){return t.index===!0}function D3(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Ft(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ft(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),J$(i)){let l=Nn({},i,e(i),{id:a});return r[a]=l,l}else{let l=Nn({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=D3(i.children,e,o,r)),l}})}function hf(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ll(e):e,i=vp(r.pathname||"/",n);if(i==null)return null;let s=f7(t);eq(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=uq(s[a],dq(i));return o}function f7(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ft(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=yl([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ft(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),f7(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:aq(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of p7(s.path))i(s,o,l)}),e}function p7(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=p7(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function eq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tq=/^:\w+$/,nq=3,rq=2,iq=1,sq=10,oq=-2,oN=t=>t==="*";function aq(t,e){let n=t.split("/"),r=n.length;return n.some(oN)&&(r+=oq),e&&(r+=rq),n.filter(i=>!oN(i)).reduce((i,s)=>i+(tq.test(s)?nq:s===""?iq:sq),r)}function lq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function uq(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=cq({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:yl([i,c.pathname]),pathnameBase:gq(yl([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=yl([i,c.pathnameBase]))}return s}function cq(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return u[c]=fq(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function hq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dq(t){try{return decodeURI(t)}catch(e){return Gf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fq(t,e){try{return decodeURIComponent(t)}catch(n){return Gf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function vp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ll(t):t;return{pathname:n?n.startsWith("/")?n:mq(n,e):e,search:vq(r),hash:yq(i)}}function mq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function aE(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ll(t):(i=Nn({},t),Ft(!i.pathname||!i.pathname.includes("?"),aE("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),aE("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),aE("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=pq(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const yl=t=>t.join("/").replace(/\/\/+/g,"/"),gq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class EC{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function m7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const g7=["post","put","patch","delete"],_q=new Set(g7),xq=["get",...g7],Sq=new Set(xq),wq=new Set([301,302,303,307,308]),Mq=new Set([307,308]),lE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Eq={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},v7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bq=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function Tq(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ft(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let ie=t.detectErrorBoundary;i=re=>({hasErrorBoundary:ie(re)})}else i=bq;let s={},o=D3(t.routes,i,void 0,s),a,l=t.basename||"/",u=Nn({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,d=new Set,p=null,m=null,g=null,y=t.hydrationData!=null,_=hf(o,t.history.location,l),v=null;if(_==null){let ie=Ws(404,{pathname:t.history.location.pathname}),{matches:re,route:me}=pN(o);_=re,v={[me.id]:ie}}let x=!_.some(ie=>ie.route.lazy)&&(!_.some(ie=>ie.route.loader)||t.hydrationData!=null),w,M={historyAction:t.history.action,location:t.history.location,matches:_,initialized:x,navigation:lE,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},b=gr.Pop,T=!1,C,I=!1,R=!1,N=[],z=[],V=new Map,W=0,K=-1,J=new Map,ne=new Set,ee=new Map,F=new Map,j=new Map,H=!1;function D(){return c=t.history.listen(ie=>{let{action:re,location:me,delta:ke}=ie;if(H){H=!1;return}Gf(j.size===0||ke!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ye=be({currentLocation:M.location,nextLocation:me,historyAction:re});if(Ye&&ke!=null){H=!0,t.history.go(ke*-1),_e(Ye,{state:"blocked",location:me,proceed(){_e(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),t.history.go(ke)},reset(){let Q=new Map(M.blockers);Q.set(Ye,fm),q({blockers:Q})}});return}return pe(re,me)}),M.initialized||pe(gr.Pop,M.location),w}function U(){c&&c(),d.clear(),C&&C.abort(),M.fetchers.forEach((ie,re)=>Ie(re)),M.blockers.forEach((ie,re)=>le(re))}function Y(ie){return d.add(ie),()=>d.delete(ie)}function q(ie){M=Nn({},M,ie),d.forEach(re=>re(M))}function te(ie,re){var me,ke;let Ye=M.actionData!=null&&M.navigation.formMethod!=null&&_o(M.navigation.formMethod)&&M.navigation.state==="loading"&&((me=ie.state)==null?void 0:me._isRedirect)!==!0,Q;re.actionData?Object.keys(re.actionData).length>0?Q=re.actionData:Q=null:Ye?Q=M.actionData:Q=null;let Ce=re.loaderData?fN(M.loaderData,re.loaderData,re.matches||[],re.errors):M.loaderData,oe=M.blockers;oe.size>0&&(oe=new Map(oe),oe.forEach((Ue,Qe)=>oe.set(Qe,fm)));let xe=T===!0||M.navigation.formMethod!=null&&_o(M.navigation.formMethod)&&((ke=ie.state)==null?void 0:ke._isRedirect)!==!0;a&&(o=a,a=void 0),I||b===gr.Pop||(b===gr.Push?t.history.push(ie,ie.state):b===gr.Replace&&t.history.replace(ie,ie.state)),q(Nn({},re,{actionData:Q,loaderData:Ce,historyAction:b,location:ie,initialized:!0,navigation:lE,revalidation:"idle",restoreScrollPosition:st(ie,re.matches||M.matches),preventScrollReset:xe,blockers:oe})),b=gr.Pop,T=!1,I=!1,R=!1,N=[],z=[]}async function ue(ie,re){if(typeof ie=="number"){t.history.go(ie);return}let me=k3(M.location,M.matches,l,u.v7_prependBasename,ie,re==null?void 0:re.fromRouteId,re==null?void 0:re.relative),{path:ke,submission:Ye,error:Q}=aN(u.v7_normalizeFormMethod,!1,me,re),Ce=M.location,oe=Vg(M.location,ke,re&&re.state);oe=Nn({},oe,t.history.encodeLocation(oe));let xe=re&&re.replace!=null?re.replace:void 0,Ue=gr.Push;xe===!0?Ue=gr.Replace:xe===!1||Ye!=null&&_o(Ye.formMethod)&&Ye.formAction===M.location.pathname+M.location.search&&(Ue=gr.Replace);let Qe=re&&"preventScrollReset"in re?re.preventScrollReset===!0:void 0,Ct=be({currentLocation:Ce,nextLocation:oe,historyAction:Ue});if(Ct){_e(Ct,{state:"blocked",location:oe,proceed(){_e(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),ue(ie,re)},reset(){let Ot=new Map(M.blockers);Ot.set(Ct,fm),q({blockers:Ot})}});return}return await pe(Ue,oe,{submission:Ye,pendingError:Q,preventScrollReset:Qe,replace:re&&re.replace})}function Se(){if(De(),q({revalidation:"loading"}),M.navigation.state!=="submitting"){if(M.navigation.state==="idle"){pe(M.historyAction,M.location,{startUninterruptedRevalidation:!0});return}pe(b||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation})}}async function pe(ie,re,me){C&&C.abort(),C=null,b=ie,I=(me&&me.startUninterruptedRevalidation)===!0,Me(M.location,M.matches),T=(me&&me.preventScrollReset)===!0;let ke=a||o,Ye=me&&me.overrideNavigation,Q=hf(ke,re,l);if(!Q){let Ot=Ws(404,{pathname:re.pathname}),{matches:hn,route:Bt}=pN(ke);Fe(),te(re,{matches:hn,loaderData:{},errors:{[Bt.id]:Ot}});return}if(M.initialized&&!R&&Nq(M.location,re)&&!(me&&me.submission&&_o(me.submission.formMethod))){te(re,{matches:Q});return}C=new AbortController;let Ce=mm(t.history,re,C.signal,me&&me.submission),oe,xe;if(me&&me.pendingError)xe={[df(Q).route.id]:me.pendingError};else if(me&&me.submission&&_o(me.submission.formMethod)){let Ot=await Ge(Ce,re,me.submission,Q,{replace:me.replace});if(Ot.shortCircuited)return;oe=Ot.pendingActionData,xe=Ot.pendingActionError,Ye=J1(re,me.submission),Ce=new Request(Ce.url,{signal:Ce.signal})}let{shortCircuited:Ue,loaderData:Qe,errors:Ct}=await nt(Ce,re,Q,Ye,me&&me.submission,me&&me.fetcherSubmission,me&&me.replace,oe,xe);Ue||(C=null,te(re,Nn({matches:Q},oe?{actionData:oe}:{},{loaderData:Qe,errors:Ct})))}async function Ge(ie,re,me,ke,Ye){Ye===void 0&&(Ye={}),De();let Q=kq(re,me);q({navigation:Q});let Ce,oe=U3(ke,re);if(!oe.route.action&&!oe.route.lazy)Ce={type:Er.error,error:Ws(405,{method:ie.method,pathname:re.pathname,routeId:oe.route.id})};else if(Ce=await pm("action",ie,oe,ke,s,i,l),ie.signal.aborted)return{shortCircuited:!0};if(Af(Ce)){let xe;return Ye&&Ye.replace!=null?xe=Ye.replace:xe=Ce.location===M.location.pathname+M.location.search,await he(M,Ce,{submission:me,replace:xe}),{shortCircuited:!0}}if(sg(Ce)){let xe=df(ke,oe.route.id);return(Ye&&Ye.replace)!==!0&&(b=gr.Push),{pendingActionData:{},pendingActionError:{[xe.route.id]:Ce.error}}}if(eh(Ce))throw Ws(400,{type:"defer-action"});return{pendingActionData:{[oe.route.id]:Ce.data}}}async function nt(ie,re,me,ke,Ye,Q,Ce,oe,xe){let Ue=ke||J1(re,Ye),Qe=Ye||Q||vN(Ue),Ct=a||o,[Ot,hn]=lN(t.history,M,me,Qe,re,R,N,z,ee,ne,Ct,l,oe,xe);if(Fe(dn=>!(me&&me.some(ni=>ni.route.id===dn))||Ot&&Ot.some(ni=>ni.route.id===dn)),Ot.length===0&&hn.length===0){let dn=ae();return te(re,Nn({matches:me,loaderData:{},errors:xe||null},oe?{actionData:oe}:{},dn?{fetchers:new Map(M.fetchers)}:{})),{shortCircuited:!0}}if(!I){hn.forEach(ni=>{let Jo=M.fetchers.get(ni.key),G=gm(void 0,Jo?Jo.data:void 0);M.fetchers.set(ni.key,G)});let dn=oe||M.actionData;q(Nn({navigation:Ue},dn?Object.keys(dn).length===0?{actionData:null}:{actionData:dn}:{},hn.length>0?{fetchers:new Map(M.fetchers)}:{}))}K=++W,hn.forEach(dn=>{V.has(dn.key)&&Ve(dn.key),dn.controller&&V.set(dn.key,dn.controller)});let Bt=()=>hn.forEach(dn=>Ve(dn.key));C&&C.signal.addEventListener("abort",Bt);let{results:xr,loaderResults:er,fetcherResults:Fa}=await de(M.matches,me,Ot,hn,ie);if(ie.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Bt),hn.forEach(dn=>V.delete(dn.key));let Di=mN(xr);if(Di)return await he(M,Di,{replace:Ce}),{shortCircuited:!0};let{loaderData:Ua,errors:Is}=dN(M,me,Ot,er,xe,hn,Fa,F);F.forEach((dn,ni)=>{dn.subscribe(Jo=>{(Jo||dn.done)&&F.delete(ni)})});let Hl=ae(),ki=B(K),za=Hl||ki||hn.length>0;return Nn({loaderData:Ua,errors:Is},za?{fetchers:new Map(M.fetchers)}:{})}function ze(ie){return M.fetchers.get(ie)||Eq}function Z(ie,re,me,ke){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(ie)&&Ve(ie);let Ye=a||o,Q=k3(M.location,M.matches,l,u.v7_prependBasename,me,re,ke==null?void 0:ke.relative),Ce=hf(Ye,Q,l);if(!Ce){Le(ie,re,Ws(404,{pathname:Q}));return}let{path:oe,submission:xe,error:Ue}=aN(u.v7_normalizeFormMethod,!0,Q,ke);if(Ue){Le(ie,re,Ue);return}let Qe=U3(Ce,oe);if(T=(ke&&ke.preventScrollReset)===!0,xe&&_o(xe.formMethod)){Ne(ie,re,oe,Qe,Ce,xe);return}ee.set(ie,{routeId:re,path:oe}),ye(ie,re,oe,Qe,Ce,xe)}async function Ne(ie,re,me,ke,Ye,Q){if(De(),ee.delete(ie),!ke.route.action&&!ke.route.lazy){let G=Ws(405,{method:Q.formMethod,pathname:me,routeId:re});Le(ie,re,G);return}let Ce=M.fetchers.get(ie),oe=Fq(Q,Ce);M.fetchers.set(ie,oe),q({fetchers:new Map(M.fetchers)});let xe=new AbortController,Ue=mm(t.history,me,xe.signal,Q);V.set(ie,xe);let Qe=await pm("action",Ue,ke,Ye,s,i,l);if(Ue.signal.aborted){V.get(ie)===xe&&V.delete(ie);return}if(Af(Qe)){V.delete(ie),ne.add(ie);let G=gm(Q);return M.fetchers.set(ie,G),q({fetchers:new Map(M.fetchers)}),he(M,Qe,{submission:Q,isFetchActionRedirect:!0})}if(sg(Qe)){Le(ie,re,Qe.error);return}if(eh(Qe))throw Ws(400,{type:"defer-action"});let Ct=M.navigation.location||M.location,Ot=mm(t.history,Ct,xe.signal),hn=a||o,Bt=M.navigation.state!=="idle"?hf(hn,M.navigation.location,l):M.matches;Ft(Bt,"Didn't find any matches after fetcher action");let xr=++W;J.set(ie,xr);let er=gm(Q,Qe.data);M.fetchers.set(ie,er);let[Fa,Di]=lN(t.history,M,Bt,Q,Ct,R,N,z,ee,ne,hn,l,{[ke.route.id]:Qe.data},void 0);Di.filter(G=>G.key!==ie).forEach(G=>{let ge=G.key,Te=M.fetchers.get(ge),fe=gm(void 0,Te?Te.data:void 0);M.fetchers.set(ge,fe),V.has(ge)&&Ve(ge),G.controller&&V.set(ge,G.controller)}),q({fetchers:new Map(M.fetchers)});let Ua=()=>Di.forEach(G=>Ve(G.key));xe.signal.addEventListener("abort",Ua);let{results:Is,loaderResults:Hl,fetcherResults:ki}=await de(M.matches,Bt,Fa,Di,Ot);if(xe.signal.aborted)return;xe.signal.removeEventListener("abort",Ua),J.delete(ie),V.delete(ie),Di.forEach(G=>V.delete(G.key));let za=mN(Is);if(za)return he(M,za);let{loaderData:dn,errors:ni}=dN(M,M.matches,Fa,Hl,void 0,Di,ki,F);if(M.fetchers.has(ie)){let G=g_(Qe.data);M.fetchers.set(ie,G)}let Jo=B(xr);M.navigation.state==="loading"&&xr>K?(Ft(b,"Expected pending action"),C&&C.abort(),te(M.navigation.location,{matches:Bt,loaderData:dn,errors:ni,fetchers:new Map(M.fetchers)})):(q(Nn({errors:ni,loaderData:fN(M.loaderData,dn,Bt,ni)},Jo||Di.length>0?{fetchers:new Map(M.fetchers)}:{})),R=!1)}async function ye(ie,re,me,ke,Ye,Q){let Ce=M.fetchers.get(ie),oe=gm(Q,Ce?Ce.data:void 0);M.fetchers.set(ie,oe),q({fetchers:new Map(M.fetchers)});let xe=new AbortController,Ue=mm(t.history,me,xe.signal);V.set(ie,xe);let Qe=await pm("loader",Ue,ke,Ye,s,i,l);if(eh(Qe)&&(Qe=await x7(Qe,Ue.signal,!0)||Qe),V.get(ie)===xe&&V.delete(ie),Ue.signal.aborted)return;if(Af(Qe)){ne.add(ie),await he(M,Qe);return}if(sg(Qe)){let Ot=df(M.matches,re);M.fetchers.delete(ie),q({fetchers:new Map(M.fetchers),errors:{[Ot.route.id]:Qe.error}});return}Ft(!eh(Qe),"Unhandled fetcher deferred data");let Ct=g_(Qe.data);M.fetchers.set(ie,Ct),q({fetchers:new Map(M.fetchers)})}async function he(ie,re,me){let{submission:ke,replace:Ye,isFetchActionRedirect:Q}=me===void 0?{}:me;re.revalidate&&(R=!0);let Ce=Vg(ie.location,re.location,Nn({_isRedirect:!0},Q?{_isFetchActionRedirect:!0}:{}));if(Ft(Ce,"Expected a location on the redirect navigation"),v7.test(re.location)&&n){let Ue=t.history.createURL(re.location),Qe=vp(Ue.pathname,l)==null;if(e.location.origin!==Ue.origin||Qe){Ye?e.location.replace(re.location):e.location.assign(re.location);return}}C=null;let oe=Ye===!0?gr.Replace:gr.Push,xe=ke||vN(ie.navigation);if(Mq.has(re.status)&&xe&&_o(xe.formMethod))await pe(oe,Ce,{submission:Nn({},xe,{formAction:re.location}),preventScrollReset:T});else if(Q)await pe(oe,Ce,{overrideNavigation:J1(Ce),fetcherSubmission:xe,preventScrollReset:T});else{let Ue=J1(Ce,xe);await pe(oe,Ce,{overrideNavigation:Ue,preventScrollReset:T})}}async function de(ie,re,me,ke,Ye){let Q=await Promise.all([...me.map(xe=>pm("loader",Ye,xe,re,s,i,l)),...ke.map(xe=>xe.matches&&xe.match&&xe.controller?pm("loader",mm(t.history,xe.path,xe.controller.signal),xe.match,xe.matches,s,i,l):{type:Er.error,error:Ws(404,{pathname:xe.path})})]),Ce=Q.slice(0,me.length),oe=Q.slice(me.length);return await Promise.all([gN(ie,me,Ce,Ce.map(()=>Ye.signal),!1,M.loaderData),gN(ie,ke.map(xe=>xe.match),oe,ke.map(xe=>xe.controller?xe.controller.signal:null),!0)]),{results:Q,loaderResults:Ce,fetcherResults:oe}}function De(){R=!0,N.push(...Fe()),ee.forEach((ie,re)=>{V.has(re)&&(z.push(re),Ve(re))})}function Le(ie,re,me){let ke=df(M.matches,re);Ie(ie),q({errors:{[ke.route.id]:me},fetchers:new Map(M.fetchers)})}function Ie(ie){let re=M.fetchers.get(ie);V.has(ie)&&!(re&&re.state==="loading"&&J.has(ie))&&Ve(ie),ee.delete(ie),J.delete(ie),ne.delete(ie),M.fetchers.delete(ie)}function Ve(ie){let re=V.get(ie);Ft(re,"Expected fetch controller: "+ie),re.abort(),V.delete(ie)}function it(ie){for(let re of ie){let me=ze(re),ke=g_(me.data);M.fetchers.set(re,ke)}}function ae(){let ie=[],re=!1;for(let me of ne){let ke=M.fetchers.get(me);Ft(ke,"Expected fetcher: "+me),ke.state==="loading"&&(ne.delete(me),ie.push(me),re=!0)}return it(ie),re}function B(ie){let re=[];for(let[me,ke]of J)if(ke<ie){let Ye=M.fetchers.get(me);Ft(Ye,"Expected fetcher: "+me),Ye.state==="loading"&&(Ve(me),J.delete(me),re.push(me))}return it(re),re.length>0}function k(ie,re){let me=M.blockers.get(ie)||fm;return j.get(ie)!==re&&j.set(ie,re),me}function le(ie){M.blockers.delete(ie),j.delete(ie)}function _e(ie,re){let me=M.blockers.get(ie)||fm;Ft(me.state==="unblocked"&&re.state==="blocked"||me.state==="blocked"&&re.state==="blocked"||me.state==="blocked"&&re.state==="proceeding"||me.state==="blocked"&&re.state==="unblocked"||me.state==="proceeding"&&re.state==="unblocked","Invalid blocker state transition: "+me.state+" -> "+re.state);let ke=new Map(M.blockers);ke.set(ie,re),q({blockers:ke})}function be(ie){let{currentLocation:re,nextLocation:me,historyAction:ke}=ie;if(j.size===0)return;j.size>1&&Gf(!1,"A router only supports one blocker at a time");let Ye=Array.from(j.entries()),[Q,Ce]=Ye[Ye.length-1],oe=M.blockers.get(Q);if(!(oe&&oe.state==="proceeding")&&Ce({currentLocation:re,nextLocation:me,historyAction:ke}))return Q}function Fe(ie){let re=[];return F.forEach((me,ke)=>{(!ie||ie(ke))&&(me.cancel(),re.push(ke),F.delete(ke))}),re}function qe(ie,re,me){if(p=ie,g=re,m=me||null,!y&&M.navigation===lE){y=!0;let ke=st(M.location,M.matches);ke!=null&&q({restoreScrollPosition:ke})}return()=>{p=null,g=null,m=null}}function He(ie,re){return m&&m(ie,re.map(ke=>Dq(ke,M.loaderData)))||ie.key}function Me(ie,re){if(p&&g){let me=He(ie,re);p[me]=g()}}function st(ie,re){if(p){let me=He(ie,re),ke=p[me];if(typeof ke=="number")return ke}return null}function ut(ie){s={},a=D3(ie,i,void 0,s)}return w={get basename(){return l},get state(){return M},get routes(){return o},initialize:D,subscribe:Y,enableScrollRestoration:qe,navigate:ue,fetch:Z,revalidate:Se,createHref:ie=>t.history.createHref(ie),encodeLocation:ie=>t.history.encodeLocation(ie),getFetcher:ze,deleteFetcher:Ie,dispose:U,getBlocker:k,deleteBlocker:le,_internalFetchControllers:V,_internalActiveDeferreds:F,_internalSetRoutes:ut},w}function Aq(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function k3(t,e,n,r,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let c of e)if(a.push(c),c.route.id===s){l=c;break}}else a=e,l=e[e.length-1];let u=DS(i||".",K0(a).map(c=>c.pathnameBase),vp(t.pathname,n)||t.pathname,o==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!bC(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:yl([n,u.pathname])),Ah(u)}function aN(t,e,n,r){if(!r||!Aq(r))return{path:n};if(r.formMethod&&!Lq(r.formMethod))return{path:n,error:Ws(405,{method:r.formMethod})};let i=()=>({path:n,error:Ws(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=_7(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!_o(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[y,_]=g;return""+m+y+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!_o(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Ft(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=F3(r.formData),u=r.formData;else if(r.body instanceof FormData)l=F3(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=hN(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=hN(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(_o(c.formMethod))return{path:n,submission:c};let d=Ll(n);return e&&d.search&&bC(d.search)&&l.append("index",""),d.search="?"+l,{path:Ah(d),submission:c}}function Cq(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function lN(t,e,n,r,i,s,o,a,l,u,c,d,p,m){let g=m?Object.values(m)[0]:p?Object.values(p)[0]:void 0,y=t.createURL(e.location),_=t.createURL(i),v=m?Object.keys(m)[0]:void 0,w=Cq(n,v).filter((b,T)=>{if(b.route.lazy)return!0;if(b.route.loader==null)return!1;if(Pq(e.loaderData,e.matches[T],b)||o.some(R=>R===b.route.id))return!0;let C=e.matches[T],I=b;return uN(b,Nn({currentUrl:y,currentParams:C.params,nextUrl:_,nextParams:I.params},r,{actionResult:g,defaultShouldRevalidate:s||y.pathname+y.search===_.pathname+_.search||y.search!==_.search||y7(C,I)}))}),M=[];return l.forEach((b,T)=>{if(!n.some(V=>V.route.id===b.routeId))return;let C=hf(c,b.path,d);if(!C){M.push({key:T,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(T),R=I&&I.state!=="idle"&&I.data===void 0&&!u.has(T),N=U3(C,b.path);(a.includes(T)||R||uN(N,Nn({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:s})))&&M.push({key:T,routeId:b.routeId,path:b.path,matches:C,match:N,controller:new AbortController})}),[w,M]}function Pq(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function y7(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function uN(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function cN(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ft(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Gf(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Q$.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Nn({},e(i),{lazy:void 0}))}async function pm(t,e,n,r,i,s,o,a){a===void 0&&(a={});let l,u,c,d=g=>{let y,_=new Promise((v,x)=>y=x);return c=()=>y(),e.signal.addEventListener("abort",c),Promise.race([g({request:e,params:n.params,context:a.requestContext}),_])};try{let g=n.route[t];if(n.route.lazy)if(g)u=(await Promise.all([d(g),cN(n.route,s,i)]))[0];else if(await cN(n.route,s,i),g=n.route[t],g)u=await d(g);else if(t==="action"){let y=new URL(e.url),_=y.pathname+y.search;throw Ws(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:Er.data,data:void 0};else if(g)u=await d(g);else{let y=new URL(e.url),_=y.pathname+y.search;throw Ws(404,{pathname:_})}Ft(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(g){l=Er.error,u=g}finally{c&&e.signal.removeEventListener("abort",c)}if(Oq(u)){let g=u.status;if(wq.has(g)){let v=u.headers.get("Location");if(Ft(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!v7.test(v))v=k3(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,v);else if(!a.isStaticRequest){let x=new URL(e.url),w=v.startsWith("//")?new URL(x.protocol+v):new URL(v),M=vp(w.pathname,o)!=null;w.origin===x.origin&&M&&(v=w.pathname+w.search+w.hash)}if(a.isStaticRequest)throw u.headers.set("Location",v),u;return{type:Er.redirect,status:g,location:v,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(a.isRouteRequest)throw{type:l||Er.data,response:u};let y,_=u.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?y=await u.json():y=await u.text(),l===Er.error?{type:l,error:new EC(g,u.statusText,y),headers:u.headers}:{type:Er.data,data:y,statusCode:u.status,headers:u.headers}}if(l===Er.error)return{type:l,error:u};if(Iq(u)){var p,m;return{type:Er.deferred,deferredData:u,statusCode:(p=u.init)==null?void 0:p.status,headers:((m=u.init)==null?void 0:m.headers)&&new Headers(u.init.headers)}}return{type:Er.data,data:u}}function mm(t,e,n,r){let i=t.createURL(_7(e)).toString(),s={signal:n};if(r&&_o(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=F3(r.formData):s.body=r.formData}return new Request(i,s)}function F3(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function hN(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Rq(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let p=e[d].route.id;if(Ft(!Af(c),"Cannot handle redirect results in processLoaderData"),sg(c)){let m=df(t,p),g=c.error;r&&(g=Object.values(r)[0],r=void 0),o=o||{},o[m.route.id]==null&&(o[m.route.id]=g),s[p]=void 0,l||(l=!0,a=m7(c.error)?c.error.status:500),c.headers&&(u[p]=c.headers)}else eh(c)?(i.set(p,c.deferredData),s[p]=c.deferredData.data):s[p]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[p]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function dN(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=Rq(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:p,controller:m}=s[c];Ft(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let g=o[c];if(!(m&&m.signal.aborted))if(sg(g)){let y=df(t.matches,p==null?void 0:p.route.id);u&&u[y.route.id]||(u=Nn({},u,{[y.route.id]:g.error})),t.fetchers.delete(d)}else if(Af(g))Ft(!1,"Unhandled fetcher revalidation redirect");else if(eh(g))Ft(!1,"Unhandled fetcher deferred data");else{let y=g_(g.data);t.fetchers.set(d,y)}}return{loaderData:l,errors:u}}function fN(t,e,n,r){let i=Nn({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function df(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function pN(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ws(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new EC(t||500,o,new Error(a),!0)}function mN(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Af(n))return n}}function _7(t){let e=typeof t=="string"?Ll(t):t;return Ah(Nn({},e,{hash:""}))}function Nq(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function eh(t){return t.type===Er.deferred}function sg(t){return t.type===Er.error}function Af(t){return(t&&t.type)===Er.redirect}function Iq(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Oq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Lq(t){return Sq.has(t.toLowerCase())}function _o(t){return _q.has(t.toLowerCase())}async function gN(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!y7(u,l)&&(s&&s[l.route.id])!==void 0;if(eh(a)&&(i||c)){let d=r[o];Ft(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await x7(a,d,i).then(p=>{p&&(n[o]=p||n[o])})}}}async function x7(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Er.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Er.error,error:i}}return{type:Er.data,data:t.deferredData.data}}}function bC(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Dq(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function U3(t,e){let n=typeof e=="string"?Ll(e).search:e.search;if(t[t.length-1].route.index&&bC(n||""))return t[t.length-1];let r=K0(t);return r[r.length-1]}function vN(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function J1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function kq(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function gm(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function Fq(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function g_(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},px.apply(this,arguments)}const kS=P.createContext(null),S7=P.createContext(null),yp=P.createContext(null),FS=P.createContext(null),Dl=P.createContext({outlet:null,matches:[],isDataRoute:!1}),w7=P.createContext(null);function Uq(t,e){let{relative:n}=e===void 0?{}:e;_p()||Ft(!1);let{basename:r,navigator:i}=P.useContext(yp),{hash:s,pathname:o,search:a}=b7(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:yl([r,o])),i.createHref({pathname:l,search:a,hash:s})}function _p(){return P.useContext(FS)!=null}function xp(){return _p()||Ft(!1),P.useContext(FS).location}function M7(t){P.useContext(yp).static||P.useLayoutEffect(t)}function E7(){let{isDataRoute:t}=P.useContext(Dl);return t?Qq():zq()}function zq(){_p()||Ft(!1);let t=P.useContext(kS),{basename:e,navigator:n}=P.useContext(yp),{matches:r}=P.useContext(Dl),{pathname:i}=xp(),s=JSON.stringify(K0(r).map(l=>l.pathnameBase)),o=P.useRef(!1);return M7(()=>{o.current=!0}),P.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=DS(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:yl([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const Bq=P.createContext(null);function Vq(t){let e=P.useContext(Dl).outlet;return e&&P.createElement(Bq.Provider,{value:t},e)}function b7(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=P.useContext(Dl),{pathname:i}=xp(),s=JSON.stringify(K0(r).map(o=>o.pathnameBase));return P.useMemo(()=>DS(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function jq(t,e,n){_p()||Ft(!1);let{navigator:r}=P.useContext(yp),{matches:i}=P.useContext(Dl),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=xp(),u;if(e){var c;let y=typeof e=="string"?Ll(e):e;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||Ft(!1),u=y}else u=l;let d=u.pathname||"/",p=a==="/"?d:d.slice(a.length)||"/",m=hf(t,{pathname:p}),g=qq(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:yl([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:yl([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return e&&g?P.createElement(FS.Provider,{value:{location:px({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:gr.Pop}},g):g}function Hq(){let t=Kq(),e=m7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,s)}const Wq=P.createElement(Hq,null);class Gq extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?P.createElement(Dl.Provider,{value:this.props.routeContext},P.createElement(w7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $q(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(kS);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Dl.Provider,{value:e},r)}function qq(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Ft(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||Wq);let p=e.concat(s.slice(0,u+1)),m=()=>{let g;return c?g=d:l.route.Component?g=P.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,P.createElement($q,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?P.createElement(Gq,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var z3;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(z3||(z3={}));var jg;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(jg||(jg={}));function Xq(t){let e=P.useContext(kS);return e||Ft(!1),e}function Yq(t){let e=P.useContext(S7);return e||Ft(!1),e}function Zq(t){let e=P.useContext(Dl);return e||Ft(!1),e}function T7(t){let e=Zq(),n=e.matches[e.matches.length-1];return n.route.id||Ft(!1),n.route.id}function Kq(){var t;let e=P.useContext(w7),n=Yq(jg.UseRouteError),r=T7(jg.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Qq(){let{router:t}=Xq(z3.UseNavigateStable),e=T7(jg.UseNavigateStable),n=P.useRef(!1);return M7(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,px({fromRouteId:e},s)))},[t,e])}const Jq="startTransition",yN=H_[Jq];function eX(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=P.useState(n.state),{v7_startTransition:o}=r||{},a=P.useCallback(d=>{o&&yN?yN(()=>s(d)):s(d)},[s,o]);P.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:d=>n.navigate(d),push:(d,p,m)=>n.navigate(d,{state:p,preventScrollReset:m==null?void 0:m.preventScrollReset}),replace:(d,p,m)=>n.navigate(d,{replace:!0,state:p,preventScrollReset:m==null?void 0:m.preventScrollReset})}),[n]),u=n.basename||"/",c=P.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return P.createElement(P.Fragment,null,P.createElement(kS.Provider,{value:c},P.createElement(S7.Provider,{value:i},P.createElement(nX,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?P.createElement(tX,{routes:n.routes,state:i}):e))),null)}function tX(t){let{routes:e,state:n}=t;return jq(e,void 0,n)}function A7(t){let{to:e,replace:n,state:r,relative:i}=t;_p()||Ft(!1);let{matches:s}=P.useContext(Dl),{pathname:o}=xp(),a=E7(),l=DS(e,K0(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return P.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function C7(t){return Vq(t.context)}function nX(t){let{basename:e="/",children:n=null,location:r,navigationType:i=gr.Pop,navigator:s,static:o=!1}=t;_p()&&Ft(!1);let a=e.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ll(r));let{pathname:u="/",search:c="",hash:d="",state:p=null,key:m="default"}=r,g=P.useMemo(()=>{let y=vp(u,a);return y==null?null:{location:{pathname:y,search:c,hash:d,state:p,key:m},navigationType:i}},[a,u,c,d,p,m,i]);return g==null?null:P.createElement(yp.Provider,{value:l},P.createElement(FS.Provider,{children:n,value:g}))}var _N;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(_N||(_N={}));new Promise(()=>{});function rX(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:P.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:P.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function iX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oX(t,e){return t.button===0&&(!e||e==="_self")&&!sX(t)}const aX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function lX(t,e){return Tq({basename:e==null?void 0:e.basename,future:Hg({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Y$({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||uX(),routes:t,mapRouteProperties:rX}).initialize()}function uX(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Hg({},e,{errors:cX(e.errors)})),e}function cX(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new EC(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const hX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mx=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=iX(e,aX),{basename:p}=P.useContext(yp),m,g=!1;if(typeof u=="string"&&dX.test(u)&&(m=u,hX))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),M=vp(w.pathname,p);w.origin===x.origin&&M!=null?u=M+w.search+w.hash:g=!0}catch{}let y=Uq(u,{relative:i}),_=fX(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function v(x){r&&r(x),x.defaultPrevented||_(x)}return P.createElement("a",Hg({},d,{href:m||y,onClick:g||s?r:v,ref:n,target:l}))});var xN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(xN||(xN={}));var SN;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SN||(SN={}));function fX(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=E7(),l=xp(),u=b7(t,{relative:o});return P.useCallback(c=>{if(oX(c,n)){c.preventDefault();let d=r!==void 0?r:Ah(l)===Ah(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}var P7={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wN=ft.createContext&&ft.createContext(P7),Nu=globalThis&&globalThis.__assign||function(){return Nu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Nu.apply(this,arguments)},pX=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function R7(t){return t&&t.map(function(e,n){return ft.createElement(e.tag,Nu({key:n},e.attr),R7(e.child))})}function wn(t){return function(e){return ft.createElement(mX,Nu({attr:Nu({},t.attr)},e),R7(t.child))}}function mX(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=pX(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ft.createElement("svg",Nu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Nu(Nu({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ft.createElement("title",null,s),t.children)};return wN!==void 0?ft.createElement(wN.Consumer,null,function(n){return e(n)}):e(P7)}function gX(t){return wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m256,21c-129.7644,0-235,105.1923-235,235s105.2356,235 235,235 235-105.1923 235-235-105.2356-235-235-235zm14.8344,21.15 8.6657,45.3843 17.9187-35.5437 2.6438,39.8031 25.4094-38.3344-3.3781,45.825 26.7312-29.9625-7.7844,39.5094 34.3687-30.55-14.8344,43.6219 33.6344-22.1782-17.9187,36.1313 41.2719-20.4156-25.9969,38.0406 38.1875-12.7781-26.5843,30.2563 45.2375-8.6657-34.9562,29.9625 39.9499-2.35-33.0468,22.1781 45.6781,2.9375-41.125,19.975 39.2156,8.225-38.0407,12.7781 43.475,14.9813-45.0906,8.5187 35.6906,17.9187-39.8031,2.6438 38.1875,25.4094-45.825-3.2313 29.8156,26.7313-39.3625-7.9313 30.4031,34.6626-43.475-14.9813 22.0312,33.1938-35.8375-17.625 20.4156,40.9781-38.0407-25.5563 12.4844,38.0407-30.1094-26.4375 8.8125,44.9437-29.9625-34.6625 2.2031,39.95-22.0313-33.0469-2.9375,45.5312-19.975-40.9781-8.225,39.0688-12.925-38.0406-14.8343,43.3281-8.3719-45.0906-18.0656,35.9844-2.6438-39.8031-25.4093,38.0406 3.0843-45.825-26.4374,29.9624 7.7843-39.3625-34.6625,30.2563 15.1281-43.475-33.6344,22.325 17.9188-36.1312-41.2719,20.2688 25.85-37.7469-38.0406,12.6312 26.4375-30.4031-45.0907,8.9594 34.9563-29.9625-40.2438,2.2031 33.3406-22.1782-45.9718-3.0844 41.4187-19.975-39.2156-8.0781 37.8937-12.925-43.6219-14.6875 45.2375-8.8125-35.6906-17.7719 39.9499-2.6438-38.3343-25.4093 45.825,3.2313-29.9625-26.5844 39.5094,7.6375-30.4031-34.5156 43.4749,15.1281-22.0312-33.4875 35.9844,17.7719-20.2688-41.1251 37.8937,25.7032-12.6313-37.8937 30.2563,26.2906-8.9594-45.0907 29.9625,34.8094-2.35-40.2437 22.325,33.4875 2.9375-45.9719 19.975,41.4187 8.0781-39.2156 12.925,37.7469 14.8344-43.6219zm-14.8344,60.3656c-84.7894,0-153.4843,68.6666-153.4843,153.4843s68.695,153.6313 153.4843,153.6313 153.6313-68.8136 153.6313-153.6313-68.8418-153.4843-153.6313-153.4843zm9.6938,13.8062 5.7282,29.6688 11.6031-23.3531 1.7625,26.1437 16.5969-25.1156-2.2031,29.9625 17.4781-19.5344-5.1406,25.85 22.6187-19.975-9.8406,28.4937 22.0313-14.5406-11.75,23.6469 27.025-13.3656-16.8906,24.8219 24.8219-8.3718-17.3312,19.8281 29.5218-5.7281-22.7656,19.5344 25.9968-1.4688-21.5906,14.5407 29.8156,1.9093-26.8781,13.0719 25.7031,5.2875-24.8219,8.3718 28.3468,9.8406-29.5218,5.5813 23.3531,11.6031-25.9969,1.7625 24.9687,16.5969-29.9625-2.0563 19.5344,17.3312-25.7031-4.9937 19.8281,22.6187-28.3468-9.8406 14.3937,21.7375-23.5-11.4563 13.3656,26.7313-24.8219-16.7437 8.0781,24.8219-19.6812-17.1844 5.8749,29.2281-19.5344-22.6187 1.3219,26.1437-14.3937-21.5906-1.9094,29.8156-13.0719-26.8781-5.2875,25.5562-8.5188-24.8219-9.6938,28.2-5.4343-29.3749-11.75,23.5-1.7625-25.9969-16.5969,24.8219 2.0562-29.9625-17.3312,19.6813 5.1407-25.7031-22.7657,19.6813 9.8406-28.3469-21.8844,14.5406 11.75-23.5-27.025,13.2188 16.8906-24.8219-24.8219,8.3719 17.3312-19.8281-29.5219,5.7281 22.7656-19.5343-26.2906,1.4687 21.8843-14.5406-30.1094-2.0563 27.025-12.925-25.5562-5.4343 24.8219-8.3719-28.6406-9.5469 29.6688-5.7281-23.3531-11.6032 26.1437-1.7625-25.1156-16.5969 29.9625,2.0562-19.5344-17.3312 25.85,4.9938-19.975-22.6188 28.4937,9.8406-14.3937-21.7375 23.5,11.6031-13.2188-26.8781 24.675,16.7437-8.225-24.8219 19.8281,17.3312-5.875-29.5219 19.5344,22.7656-1.4688-26.2906 14.5407,21.8843 1.9093-30.1093 13.0719,27.025 5.2875-25.5563 8.3718,24.675 9.6938-28.4937zm-9.6938,51.1125c-48.8883,0-88.4187,39.661-88.4187,88.5656s39.5305,88.5656 88.4187,88.5656 88.5656-39.661 88.5656-88.5656-39.6773-88.5656-88.5656-88.5656zm5.5813,8.0781 3.3781,17.0375 6.6094-13.3656 1.0281,14.9813 9.5469-14.3937-1.175,17.1844 9.9875-11.3094-2.9374,14.9813 13.0718-11.6032-5.5812,16.45 12.6313-8.3718-6.7562,13.6594 15.5687-7.6375-9.8406,14.2469 14.3937-4.8469-9.9874,11.4563 17.0375-3.2313-13.2188,11.1625 15.1281-.8812-12.4844,8.5187 17.1844,1.0282-15.5688,7.4906 14.8344,3.0844-14.2469,4.8468 16.3031,5.5813-17.0375,3.3781 13.5125,6.6094-14.9813,1.0281 14.3938,9.6938-17.3312-1.3218 11.3094,9.9875-14.8343-2.9375 11.4562,13.0719-16.45-5.5813 8.3719,12.4844-13.5125-6.6094 7.6375,15.4218-14.2469-9.6938 4.5531,14.3938-11.3094-9.9875 3.3781,16.8906-11.3094-13.0719 .8812,15.1281-8.3718-12.4843-1.0281,17.1844-7.4907-15.4219-3.0843,14.6875-4.9938-14.3937-5.5813,16.45-3.0843-17.0375-6.9032,13.5125-.8812-14.9812-9.6938,14.3937 1.175-17.3312-9.9875,11.3094 3.0844-14.8343-13.0719,11.4562 5.5812-16.45-12.6312,8.3719 6.7562-13.5125-15.5688,7.6375 9.8406-14.2469-14.3937,4.7 9.9875-11.4562-17.0375,3.3781 13.2188-11.3094-15.275.8813 12.6313-8.3719-17.3312-1.175 15.5687-7.4906-14.6875-3.0844 14.2469-4.8469-16.45-5.5812 17.0375-3.2313-13.5125-6.7562 15.1282-.8813-14.3937-9.6938 17.1844,1.175-11.3094-9.9875 14.9813,2.9375-11.4563-12.925 16.3031,5.5813-8.225-12.4844 13.5125,6.6094-7.6376-15.4219 14.2469,9.6938-4.7-14.3937 11.4563,9.9875-3.3781-17.0375 11.1625,13.0719-.8812-15.1282 8.5187,12.6313 1.0282-17.3312 7.4906,15.5687 3.0844-14.6875 4.8468,14.2469 5.5813-16.45zm-5.5813,37.7469c-23.6392,0-42.7407,19.0935-42.7407,42.7406s19.1015,42.8875 42.7407,42.8875 42.8875-19.2404 42.8875-42.8875-19.2484-42.7406-42.8875-42.7406zm2.7906,3.8187 1.4687,8.225 3.3781-6.4625 .4403,7.3437 4.5532-7.05-.5873,8.3719 4.8468-5.4344-1.3218,7.1969 6.3156-5.5812-2.7906,7.9312 6.1688-4.1125-3.3781,6.6094 7.6375-3.6719-4.7,6.9031 6.9031-2.35-4.8469,5.5813 8.225-1.6157-6.3156,5.4344 7.1969-.4403-6.0219,4.1125 8.3719.4403-7.4907,3.6719 7.05,1.4688-6.9031,2.35 7.9313,2.7906-8.225,1.4688 6.6094,3.3781-7.3437.4403 7.05,4.5531-8.3718-.5873 5.4343,4.8468-7.1969-1.3218 5.4344,6.3156-7.7844-2.7906 3.9657,6.0219-6.6094-3.2313 3.8187,7.4906-6.9031-4.5531 2.2031,6.9031-5.4343-4.8469 1.6156,8.225-5.4343-6.3156 .294,7.1969-3.9657-6.0219-.5874,8.3719-3.525-7.4907-1.6156,7.05-2.35-6.9031-2.6438,7.9313-1.4687-8.225-3.3781,6.6094-.4403-7.3437-4.7,6.9031 .5874-8.225-4.8469,5.4343 1.4688-7.1969-6.3156,5.5813 2.7906-7.9313-6.1687,3.9657 3.2313-6.6094-7.4907,3.8187 4.7001-6.9031-6.9031,2.2031 4.8468-5.4343-8.225,1.6156 6.3156-5.4343-7.3438.294 6.1688-3.9656-8.3718-.5874 7.4906-3.6719-7.1969-1.4687 6.9031-2.35-7.9312-2.6437 8.225-1.6157-6.4625-3.2313 7.3437-.4403-7.05-4.7 8.3719.5874-5.4344-4.8469 7.1969,1.4688-5.5812-6.3156 7.9312,2.7906-3.9656-6.1688 6.4625,3.2313-3.6719-7.4906 6.9031,4.7-2.2031-6.9031 5.4344,4.8468-1.6157-8.225 5.4344,6.3156-.4403-7.3437 4.1125,6.1687 .5873-8.3718 3.525,7.4906 1.4687-7.1969 2.35,6.9031 2.7906-7.9312z"}}]})(t)}function vX(t){return wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m138.4597,52.3426-12.9078,48.3291c5.309.4232 10.4863,2.6436 14.5826,6.7398 8.5198,8.5199 9.082,21.9091 1.6271,31.0494-.497.6091-1.1148,1.0998-1.6826,1.6676-9.088,9.088-23.5911,9.1743-32.679.0865-4.1264-4.1264-6.292-9.4069-6.6992-14.7842l-48.3547,13.1087 12.8907,48.1089c.7907-.3792 1.6441-.6812 2.4784-.9683 4.2245-1.4552 9.0573-1.7275 13.7127-.4801 11.6384,3.1184 18.7916,14.5518 16.9056,26.1949-.1255.7762-.3949,1.5152-.603,2.291-3.3264,12.4143-15.9298,19.591-28.3441,16.2647-5.6035-1.5015-10.1113-4.8563-13.1281-9.259l-35.2584,35.305 35.305,35.2584c3.019-4.3779 7.4723-7.7821 13.0303-9.2713 11.6384-3.1185 23.6339,3.1174 27.8221,14.1437 .2793.7352.4005,1.4949.6084,2.2706 3.3264,12.4144-4.0001,25.1041-16.4144,28.4305-5.558,1.4893-11.1168.7678-15.9202-1.5141l-13.0878,48.2252 48.3671,13.0497c.4029-5.353 2.5997-10.6224 6.7018-14.7245 3.195-3.195 6.9801-5.3563 11.0842-6.3162 6.8404-1.5999 14.2525.0288 19.9652,4.6891 .6093.4974 1.0998,1.1145 1.6677,1.6826 9.0879,9.0878 9.1743,23.5911.0865,32.679-4.1264,4.1264-9.4068,6.2921-14.7842,6.6993l13.1087,48.3546 48.2508-12.9287c-2.336-4.8606-3.1006-10.5163-1.5903-16.1531 2.3389-8.7288 9.3096-14.9302 17.5735-16.7249 2.7546-.5983 5.7107-.6524 8.6215-.1802 .7762.1255 1.3732.4333 2.1491.6409 12.4143,3.3264 19.7329,15.8918 16.4066,28.3061-1.4835,5.5366-4.9397,9.9605-9.297,12.9862l35.343,35.4003 35.2584-35.305c-4.3779-3.019-7.7821-7.4724-9.2714-13.0303-3.1185-11.6385 3.1175-23.6338 14.1437-27.8221 .7351-.279 1.4948-.4008 2.2707-.6084 12.4143-3.3265 25.1041,4.0001 28.4305,16.4144 1.4893,5.5579.7678,11.1168-1.5141,15.9202l48.2252,13.0878 12.9078-48.3291c-5.3212-.4116-10.4804-2.6377-14.5826-6.7398-9.0878-9.0879-9.2124-23.733-.1246-32.8209 3.4079-3.4079 7.5692-5.5689 11.9737-6.4026 7.3407-1.3895 15.2053.7401 20.8853,6.42 4.1264,4.1264 6.324,9.3982 6.6992,14.7841l48.3547-13.1087-12.9288-48.2508c-4.8606,2.336-10.5163,3.1007-16.1531,1.5903-12.4142-3.3264-19.771-16.0337-16.4446-28.448 2.079-7.7589 7.8327-13.4462 14.9152-15.8605 4.2495-1.4486 8.9154-1.6896 13.5708-.4419 5.5367,1.4835 9.9606,4.9398 12.9863,9.297l35.4003-35.343-35.305-35.2584c-3.019,4.378-7.4723,7.7821-13.0303,9.2713-12.4143,3.3264-25.246-3.962-28.5724-16.3763s4.142-25.1422 16.5563-28.4685c5.558-1.4893 11.1168-.7678 15.9202,1.5141l13.0878-48.2252-48.329-12.9078c-.4114,5.3212-2.6378,10.4804-6.7399,14.5826-9.0879,9.0879-23.7331,9.2124-32.8209.1247s-9.0704-23.771.0187-32.8589c3.408-3.408 7.5876-5.5505 11.9737-6.4025 .9138-.1773 1.8458-.3727 2.7724-.4383l-13.0706-48.2128-48.2508,12.9288c2.368,4.852 3.1006,10.5163 1.5903,16.1531-3.3264,12.4143-16.0336,19.771-28.448,16.4446s-19.629-16.0717-16.3027-28.486c1.4993-5.5955 4.8729-10.107 9.259-13.1281l-35.305-35.2584-35.2584,35.305c4.3779,3.019 7.7821,7.4724 9.2714,13.0303 3.3264,12.4143-3.9621,25.246-16.3763,28.5724s-25.1421-4.142-28.4685-16.5563c-1.4893-5.558-.7678-11.1168 1.5141-15.9202l-48.2252-13.0877zm103.2306,69.077c4.6595-1.3693 9.538-2.0236 14.3639-2.0235 12.869-7e-05 25.7033,4.794 35.5642,14.655l86.2729,86.3975c19.7218,19.7219 19.7787,51.4472.0569,71.1691l-86.3975,86.2729c-19.7218,19.7219-51.4472,19.7787-71.169.0577l-86.2729-86.3975c-19.7218-19.7218-19.7787-51.4472-.057-71.169l86.3975-86.273c6.1631-6.1631 13.4751-10.4062 21.2409-12.6882zm-7.8836,63.1058c-30.4444,9.4663-52.6478,37.8848-52.6478,71.4498 0,41.3107 33.5065,74.8651 74.8172,74.8651s74.8651-33.5065 74.8651-74.8172-33.5065-74.8652-74.8172-74.8652c-7.7458,0-15.1918,1.1829-22.2174,3.3674z"}}]})(t)}function yX(t){return wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m40.2404,21 356.1721,28.2001c35.5099,3.5756 61.6043,27.0637 64.4779,60.3656l28.7875,363.075c.902-4.0293 1.3221-8.3444 1.3221-12.6313v-378.6437c0-33.4102-28.764-60.3656-64.4779-60.3656h-386.2817zm-17.9182,18.3594c-.902,4.0293-1.3221,8.3445-1.3221,12.6313v378.6437c0,33.4103 28.764,60.3656 64.4779,60.3656h386.2817l-356.0251-28.2001c-35.5099-3.5756-61.7514-27.0637-64.625-60.3656l-28.7875-363.075zm233.6779,14.5406c-51.7315,0-103.4508,19.7315-142.9096,59.1907-78.9182,78.9183-78.9182,206.9005 0,285.8187s206.901,78.9183 285.8192,0 78.9182-206.9004 0-285.8187c-39.4593-39.4591-91.1781-59.1906-142.9096-59.1907zm32.7529,26.8781c38.5865.1319 75.0063,13.3186 102.0783,40.3906 61.8788,61.8791 51.6695,172.4626-22.7659,246.8969-74.4334,74.4343-185.0173,84.6448-246.8966,22.7656s-51.6695-172.3157 22.7659-246.75c41.869-41.8692 95.2074-63.472 144.8183-63.3031zm-32.7529,39.6563c-34.6861,7e-05-69.3053,13.3458-95.7626,39.8031-52.9145,52.9147-52.9145,138.6103 0,191.5249s138.6105,52.9147 191.525,0 52.9145-138.6103 0-191.5249c-26.4573-26.4574-61.0765-39.8032-95.7625-39.8031zm-22.0313,18.0656c33.2642-.1132 69.0115,14.3735 97.0841,42.4469 49.9084,49.9082 56.7642,123.8912 15.275,165.3813s-115.4734,34.78-165.3808-15.1282-56.7642-124.0381-15.275-165.5281c18.1519-18.1518 42.425-27.0838 68.2966-27.1719zm22.0313,44.0625c-18.8165,0-37.4943,7.2384-51.8471,21.5907-28.7048,28.7045-28.7048,75.1361 0,103.8406s74.9899,28.7046 103.6942,0 28.7048-75.1361 0-103.8406c-14.3514-14.3523-33.0307-21.5907-51.8471-21.5907zm11.8971,9.6938c14.0351.0504 27.3127,4.8407 37.1592,14.6875 22.5069,22.507 18.7013,62.6671-8.3716,89.7407s-67.2339,30.8789-89.7409,8.3719-18.7013-62.6671 8.3716-89.7407c15.2294-15.2289 34.5366-23.1208 52.5817-23.0594zm-11.8971,25.4094c-21.205,0-38.3346,17.1292-38.3346,38.3344s17.1296,38.3343 38.3346,38.3343c21.205,0 38.3346-17.1292 38.3346-38.3343s-17.1296-38.3344-38.3346-38.3344z"}}]})(t)}function _X(t){return wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m124.6937,21c-57.2511,0-103.6937,47.4844-103.6937,106.0438s46.4426,105.8969 103.6937,105.8969c12.9326,0 25.3034-2.4644 36.7188-6.9031l155.8346,80.7813c-7.7593,7.2819-14.3702,15.7433-19.6818,25.1156h62.1284c28.7142,0 51.7,23.5043 51.7,52.875s-22.9858,53.1688-51.7,53.1688h-62.1284c17.9357,31.648 51.4049,53.0218 89.7409,53.0218 57.2512,0 103.6938-47.6313 103.6938-106.1906s-46.4426-105.8969-103.6938-105.8969c-12.9809,0-25.4147,2.4329-36.8658,6.9032l-155.8342-80.7813c7.7917-7.2981 14.4995-15.7124 19.8284-25.1157h-62.1283c-28.7142,0-51.7-23.5043-51.7-52.8749s22.9858-53.1688 51.7-53.1688h62.1283c-17.9357-31.6481-51.4048-52.875-89.7409-52.875zm41.4188,68.8844c-22.9158,0-41.4188,16.6375-41.4188,37.1594s18.503,37.0124 41.4188,37.0124h283.4688c22.9162,0 41.4187-16.4907 41.4187-37.0124s-18.5025-37.1594-41.4187-37.1594h-283.4688zm-103.6938,257.9125c-22.9163,0-41.4187,16.4907-41.4187,37.0125s18.5025,37.3062 41.4187,37.3062h283.4688c22.9157,0 41.4187-16.7845 41.4187-37.3062s-18.503-37.0125-41.4187-37.0125h-283.4688z"}}]})(t)}function xX(t){return wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m472.3085,39.4847c-1.4357-1.4311-2.897-2.762-4.4653-4.0499-3.1252-2.5781-6.4853-4.803-10.073-6.7499-1.7938-.9736-3.5062-1.9001-5.3999-2.7-.043-.0187-.1672.0187-.2076,0-1.8542-.7786-3.772-1.5786-5.7114-2.1808-.036-.0144-.165.0144-.2076,0-1.9393-.5972-3.801-1.0426-5.8153-1.4539-.05-.009-.1607.009-.2076,0-2.0165-.407-3.9412-.8275-6.0229-1.0384-.051-.003-.16.005-.2076,0-2.0829-.2063-4.1964-.3116-6.3345-.3116-.05-.003-.058.1038-.1038.1038-2.1369.005-4.2518.1006-6.3345.3116-.051.003-.058-.1086-.1038-.1038-2.0814.2157-4.2137.627-6.2307,1.0384-.043.005-.1614-.009-.2075,0-2.0146.416-3.8752.8524-5.8153,1.4539-.05.0144-.1629-.0144-.2075,0-1.9405.6063-3.856,1.3984-5.7115,2.1808-.043.0187-.065.085-.1038.1038-1.8543.7864-3.6407,1.5398-5.4,2.4923-.7019.3789-1.3915.8418-2.0768,1.2461-2.8335,1.6742-5.5721,3.5282-8.0999,5.6077-1.567,1.2892-2.9258,2.7227-4.3615,4.1538-2.8909,2.8843-5.599,5.9491-7.8922,9.346-6.0185,8.9147-9.8723,19.4697-10.696,30.8418l.5189-.3116c.5355-.3159 1.1134-.743 1.6615-1.0385 1.3737-.7436 2.706-1.4628 4.1537-2.0769 .036-.0144.1751.0144.2076,0 1.4488-.6108 2.9502-1.0843 4.4653-1.5577 1.5148-.4695 3.1-.8176 4.673-1.1422 .036-.009.065-.0945.1038-.1038 1.5748-.3215 3.1517-.6626 4.7768-.8308s3.4199-.1006 5.0884-.1038l.1038-.1038c1.6694,0 3.1503.0469 4.7768.2078h.2076c1.6253.1645 3.3061.6169 4.8806.9346 .036.009.065-.1137.1038-.1038 1.5727.321 3.0549.7799 4.5691,1.2461 .036.005.1752-.009.2076,0 1.5145.4702 2.9137,1.0536 4.3614,1.6615 .036.0144.072-.118.1038-.1038 1.4786.6245 2.9607,1.3168 4.3615,2.0769 .9018.4894 1.722,1.019 2.596,1.5577l-89.8255,89.8254c-15.7485-12.8644-35.0886-21.6218-56.2838-24.2996v-70.8219c20.4451,6.0476 35.411,24.8303 35.411,47.2492 0,.6827.05,1.4009 0,2.0769 8.7053-10.8619 13.9152-24.6867 13.9153-39.6685 0-35.0024-28.4465-63.2413-63.4491-63.2413s-63.2414,28.239-63.2414,63.2413c7e-05,15.0508 5.0648,28.8874 13.8112,39.7726-.0432-.7248-.1038-1.4484-.1038-2.1811-.0002-22.4187 14.9658-41.2015 35.4108-47.249v70.8219c-21.1954,2.678-40.5351,11.435-56.2838,24.2996l-89.7217-89.7216c.3092-.1866.6219-.3342.9348-.5194 .5347-.3159 1.0082-.8467 1.5575-1.1421 1.3724-.7437 2.913-1.4627 4.3616-2.0771 .0432-.0144.0721.118.1038.1038 1.4496-.6107 2.8456-1.1879 4.3613-1.6614 .0432-.005.1694.009.2076.0002 1.5153-.47 2.9955-.9217 4.5691-1.2462 .0505-.005.0649.1133.1038.1038 1.5753-.3215 3.2563-.7666 4.8807-.9346l.2076-.0002c1.6641-.1683 3.1725-.1038 4.8807-.1038 1.6696.0001 3.4615-.0569 5.0883.1038s3.2008.513 4.7767.8309c.0504.005.0649.0945.1038.1038 1.5727.3206 3.1575.6759 4.6731,1.1421 1.5148.47 3.0168.9499 4.4653,1.5577 .0432.0144.1737-.0144.2076.0002 1.4777.6244 2.7534,1.3166 4.1541,2.0765 .689.3741 1.4049.8445 2.0769,1.2461-.2119-2.7352-.6039-5.5785-1.1426-8.2034-.8419-4.1237-2.1375-8.0511-3.7382-11.8384-1.6054-3.7873-3.4285-7.329-5.7114-10.696-2.2925-3.3968-4.9997-6.4633-7.8922-9.346-1.4352-1.4311-2.7933-2.866-4.3615-4.1538-3.1252-2.5782-6.5883-4.9068-10.1767-6.8538-1.7924-.9735-3.5061-1.6924-5.3999-2.4923-.0432-.0187-.0649-.085-.1038-.1038-1.8564-.7784-3.7716-1.5784-5.7113-2.1809-.0432-.0144-.1658.0144-.2076.0001-1.941-.5971-3.802-1.0426-5.8155-1.4537-.0432-.005-.1614.009-.2076-.0002-2.0172-.407-4.1487-.8277-6.2305-1.0386-.0505-.005-.0577.1086-.1038.1038-2.0852-.2063-4.1962-.3116-6.3346-.3116-2.1874-.0002-4.307-.009-6.4384.2078-.0504.005-.1614-.005-.2076-.0002-2.083.2157-4.0047.6271-6.023,1.0384-.0504.005-.16-.009-.2076.0002-2.014.416-3.8747.852-5.8152,1.4537-.0505.0144-.1658-.0144-.2076.0002-1.9419.6062-3.8555,1.3982-5.7112,2.1804-.0505.0187-.1701-.0187-.2076.0001-1.8562.7863-3.6411,1.7475-5.3999,2.6998-.7026.3789-1.3914.8417-2.0768,1.2462-2.8336,1.6744-5.4665,3.4245-7.9962,5.5039-1.5664,1.2893-3.0316,2.6188-4.4655,4.0501-4.3256,4.3123-8.0693,9.1247-11.0074,14.5381-4.8672,8.9692-7.6845,19.3842-7.6843,30.3224-.0001,2.1878.1989,4.3075.4151,6.4385 .8671,8.5241 3.2558,16.5892 7.1652,23.7804 2.9383,5.4252 6.6802,10.2131 11.0074,14.5384 5.7425,5.7424 12.5577,10.4941 20.146,13.7073 3.7504,1.581 7.6562,2.7979 11.7347,3.6344 2.6254.5446 5.467.9336 8.2033,1.1426-.4086-.6652-.8724-1.3861-1.2461-2.0769-3.053-5.615-5.0339-11.7251-5.7113-18.3805-.1694-1.6639-.2076-3.4842-.2076-5.1923-.0001-8.5403 2.2214-16.6732 6.0228-23.6764 .4742-.8737.9233-1.6614 1.4541-2.4924l89.8256,89.8255c-12.8647,15.7485-21.6221,35.0886-24.2996,56.2837l-70.8219-.0002c6.0475-20.445 24.8295-35.411 47.2489-35.4106 .6817-.0002 1.4018-.0281 2.0772-.0003-10.8611-8.705-24.6876-13.9148-39.6687-13.9151-35.0038.0003-63.2416,28.4466-63.2417,63.4493s28.2378,63.2411 63.2414,63.2412c15.0504-.0003 28.8878-5.0649 39.7728-13.8116-.7247.0332-1.4498.1043-2.181.1038-22.4198,4e-05-41.2015-14.9656-47.2491-35.4111l70.8219.0001c2.6777,21.195 11.4349,40.5353 24.2996,56.2837l-89.8258,89.8256c-.5354-.8378-1.0798-1.7138-1.5575-2.5962-3.0534-5.6147-5.0342-12.1402-5.7116-18.7957-.1694-1.6639-.1038-3.1728-.1038-4.8808 7e-05-8.5407 1.9987-16.6733 5.8153-23.6765 .333-.6168.7804-1.1682 1.1423-1.7654-.534.0375-1.0263.0504-1.5577.1038-.0504.005-.0576-.1085-.1038-.1038-2.0827.2158-4.2122.6268-6.2309,1.0386-.0505.005-.16-.009-.2076-.0001-2.0141.416-3.875.8524-5.8155,1.4539-.0504.0144-.1658-.0144-.2076-.0001-1.9418.6063-3.8554,1.3982-5.7115,2.1807-.0505.0187-.0649.0851-.1038.1038-1.8561.7863-3.6409,1.5397-5.3997,2.4919-.7026.3789-1.3914.8416-2.0769,1.2461-4.5898,2.7122-8.7111,6.0218-12.4615,9.7615-4.3256,4.3123-8.0693,9.1247-11.0077,14.5384-4.8868,8.9689-7.5805,19.2802-7.5804,30.2184-7e-05,2.1877-.007,4.3074.2076,6.4387 .8671,8.5241 3.4637,16.589 7.3731,23.7802 2.9383,5.4252 6.6801,10.2132 11.0074,14.5384 5.7426,5.7425 12.5578,10.4941 20.1461,13.7073 3.7503,1.581 7.6561,2.7979 11.7346,3.6344 4.1246.8554 8.3976,1.3401 12.7727,1.3502 2.1866,4e-05 4.3053-.1988 6.4386-.4155 .0504-.005.0577.1085.1038.1038 2.0811-.2167 4.2134-.6249 6.2305-1.0383 .0505-.005.1607.009.2076-.0002 4.0747-.8453 7.9826-2.0462 11.7341-3.6342 .0504-.0187.0649-.0855.1038-.1038 3.786-1.6125 7.3307-3.4265 10.6958-5.7112 1.6848-1.1411 3.2143-2.4448 4.777-3.7386 1.5668-1.2937 3.0303-2.6143 4.4655-4.0501 2.8924-2.8917 5.4963-6.0439 7.7882-9.4497 2.283-3.3755 4.314-6.902 5.9191-10.696 1.6005-3.7941 2.7924-7.8146 3.6344-11.9419 .5383-2.6276 1.0348-5.3653 1.2464-8.1-2.0042,1.2237-4.1506,2.4961-6.3344,3.4267-.0432.0144-.1751-.0144-.2076.0001-2.9286,1.2399-5.9554,2.0399-9.1385,2.7001-.0504.005-.0649.0945-.1038.1038-1.5758.3229-3.1519.6616-4.7771.8309-1.6644.1692-3.4851.2073-5.1919.2073-3.4159-.009-6.749-.3709-9.9693-1.0383-3.1848-.6534-6.2096-1.673-9.1383-2.9076-2.4415-1.0339-4.7403-2.2189-6.9576-3.6345l89.7218-89.7216c15.7484,12.8646 35.0886,21.6218 56.2838,24.2996l.0002,70.8217c-20.4451-6.083-35.3073-24.934-35.3075-47.3527 .0004-.7042-.0288-1.3805.0004-2.0772-8.741,10.8522-13.9153,24.6231-13.9155,39.6688 .0001,35.0022 28.3435,63.3448 63.3453,63.3451s63.4494-28.4469 63.4492-63.4491c.0002-14.9754-5.2165-28.6318-13.915-39.4611 .043.6468-.1045,1.3209-.1045,1.9734 .0002,22.4186-14.8621,41.2698-35.3069,47.3527l-.0002-70.8217c21.1954-2.6779 40.5352-11.435 56.2838-24.2996l89.7218,89.7216c-2.1707,1.3916-4.4689,2.7227-6.854,3.7385-.036.0144-.072-.118-.1038-.1038-2.9285,1.2399-5.955,2.2474-9.1379,2.9073-.036.009-.065-.1133-.1038-.1038-1.5752.3229-3.2558.7657-4.8807.9346l-.2076.0002c-1.6262.1655-3.1085.2044-4.7767.2078-3.4553.0001-6.8162-.4672-10.0729-1.1424-3.1845-.6531-6.2105-1.4652-9.1384-2.6998-2.2338-.9457-4.3927-2.2732-6.4384-3.5307 .8191,11.3677 4.6546,21.9045 10.6958,30.842 2.2935,3.4053 4.8961,6.5576 7.7883,9.4498 5.7428,5.7427 12.4538,10.3902 20.0423,13.6035 3.7498,1.5813 7.656,2.7978 11.7345,3.6344 4.171.8652 8.5552,1.3503 12.9806,1.35 2.1368-.005 4.2517-.0997 6.3345-.3116 .051-.003.16.005.2076.0002 2.0815-.2167 4.0059-.625 6.023-1.0385 .043-.005.1614.009.2076-.0002 4.0766-.8454 7.9837-2.0464 11.7341-3.6342 .043-.0187.1657.0187.2075-.0001 3.7856-1.6123 7.329-3.6343 10.696-5.9192 1.6835-1.1411 3.3181-2.3409 4.8808-3.6347 1.5672-1.2933 2.9255-2.7177 4.3614-4.1536 11.4934-11.4913 18.5882-27.217 18.588-44.7568 .0001-2.1877.01-4.3085-.2076-6.4387-1.0846-10.6496-4.7841-20.5552-10.4884-28.9725-10.5767-15.6662-27.9887-26.4243-47.9761-27.8304 3.72,6.1046 6.3009,13.0931 7.0613,20.5613 .1686,1.663.1038,3.3803.1038,5.0884-.0002,9.6253-2.8313,18.4932-7.5807,26.0649l-89.618-89.6178c12.8646-15.7486 21.6217-35.0884 24.2997-56.2837h70.822c-6.0832,20.4452-24.9343,35.3071-47.353,35.307-.7041.0003-1.3806.0281-2.0772.0003 10.8523,8.7408 24.6233,13.9149 39.6688,13.9149 35.0024,0 63.3452-28.3428 63.3452-63.3451s-28.4467-63.4489-63.4491-63.4489c-14.9752,5e-05-28.632,5.2168-39.4609,13.9151 .6465-.0238 1.3205.1038 1.9731.1038 22.4188,0 41.2699,14.8619 47.3531,35.3071h-70.822c-2.6778-21.1952-11.4352-40.5352-24.2997-56.2836l89.7223-89.7216c4.7289,7.5635 7.5806,16.4829 7.5806,26.0649 0,9.3998-2.7078,18.2676-7.2692,25.7534 3.3072-.2759 6.6017-.9243 9.7615-1.6615 1.5533-.3624 2.9579-.6678 4.4653-1.1423 5.9279-1.8659 11.577-4.4732 16.6151-7.8922 1.6837-1.1406 3.2143-2.4448 4.7769-3.7384 1.5673-1.2934 3.1334-2.7181 4.5692-4.1538 2.8924-2.892 5.3912-5.9405 7.6844-9.346 6.8452-10.1266 10.9038-22.2851 10.9038-35.4109s-4.0585-25.3102-10.9038-35.411c-2.2932-3.3968-4.8958-6.5671-7.7883-9.4499zm-179.8588,180.0661c9.3311,9.331 15.0573,22.2263 15.0573,36.4495 .0001,28.4464-23.0606,51.5068-51.5069,51.5069s-51.5069-23.0605-51.507-51.5069 23.0606-51.5068 51.507-51.5069c14.2232,0 27.1182,5.7266 36.4496,15.0573z"}}]})(t)}function SX(t){return wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m115.0001,21.0001v94h-94.0001v94h94.0001v94h-94.0001v94h94.0001v94h94v-94h94v94h93.9999v-94h94v-94h-94v-94h94v-94h-94v-94h-93.9999v94h-94v-94h-94zm141,148.9312c47.548,0 86.0687,38.5208 86.0687,86.0687s-38.5207,86.0687-86.0687,86.0687-86.0688-38.5208-86.0688-86.0687 38.5208-86.0687 86.0688-86.0687zm0,29.9625c-30.9781,0-56.1063,25.128-56.1063,56.1063s25.1281,56.1062 56.1063,56.1062 56.1062-25.128 56.1062-56.1062-25.1281-56.1063-56.1062-56.1063z"}}]})(t)}function B3(){return O.jsx("div",{className:"animate-pulse text-white",children:O.jsx("div",{className:"animate-spin",children:O.jsx(gX,{size:160})})})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const US="154",wX={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},MX={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},N7=0,V3=1,I7=2,EX=3,O7=0,zS=1,og=2,go=3,Al=0,Pi=1,da=2,bX=2,_l=0,hh=1,gx=2,j3=3,H3=4,L7=5,$c=100,D7=101,k7=102,W3=103,G3=104,F7=200,U7=201,z7=202,B7=203,TC=204,AC=205,V7=206,j7=207,H7=208,W7=209,G7=210,$7=0,q7=1,X7=2,vx=3,Y7=4,Z7=5,K7=6,Q7=7,Q0=0,J7=1,eF=2,Lo=0,tF=1,nF=2,rF=3,CC=4,iF=5,BS=300,Wu=301,Gu=302,Wg=303,Gg=304,Sp=306,$g=1e3,gi=1001,qg=1002,sr=1003,yx=1004,TX=1004,ag=1005,AX=1005,ar=1006,PC=1007,CX=1007,$u=1008,PX=1008,xa=1009,sF=1010,oF=1011,VS=1012,RC=1013,dl=1014,fa=1015,$f=1016,NC=1017,IC=1018,Iu=1020,aF=1021,Gi=1023,lF=1024,uF=1025,Ou=1026,Ch=1027,cF=1028,OC=1029,hF=1030,LC=1031,DC=1033,v_=33776,y_=33777,__=33778,x_=33779,$3=35840,q3=35841,X3=35842,Y3=35843,dF=36196,Z3=37492,K3=37496,Q3=37808,J3=37809,eT=37810,tT=37811,nT=37812,rT=37813,iT=37814,sT=37815,oT=37816,aT=37817,lT=37818,uT=37819,cT=37820,hT=37821,S_=36492,fF=36283,dT=36284,fT=36285,pT=36286,pF=2200,mF=2201,gF=2202,Xg=2300,Yg=2301,w_=2302,th=2400,nh=2401,Zg=2402,jS=2500,kC=2501,RX=0,NX=1,IX=2,FC=3e3,Lu=3001,vF=3200,yF=3201,lc=0,_F=1,Du="",Tt="srgb",Fo="srgb-linear",UC="display-p3",OX=0,M_=7680,LX=7681,DX=7682,kX=7683,FX=34055,UX=34056,zX=5386,BX=512,VX=513,jX=514,HX=515,WX=516,GX=517,$X=518,xF=519,SF=512,wF=513,MF=514,EF=515,bF=516,TF=517,AF=518,CF=519,Kg=35044,qX=35048,XX=35040,YX=35045,ZX=35049,KX=35041,QX=35046,JX=35050,eY=35042,tY="100",mT="300 es",_x=1035,pa=2e3,Qg=2001;class kl{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const hi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let MN=1234567;const dh=Math.PI/180,qf=180/Math.PI;function Ss(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(hi[t&255]+hi[t>>8&255]+hi[t>>16&255]+hi[t>>24&255]+"-"+hi[e&255]+hi[e>>8&255]+"-"+hi[e>>16&15|64]+hi[e>>24&255]+"-"+hi[n&63|128]+hi[n>>8&255]+"-"+hi[n>>16&255]+hi[n>>24&255]+hi[r&255]+hi[r>>8&255]+hi[r>>16&255]+hi[r>>24&255]).toLowerCase()}function Yn(t,e,n){return Math.max(e,Math.min(n,t))}function zC(t,e){return(t%e+e)%e}function nY(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function rY(t,e,n){return t!==e?(n-t)/(e-t):0}function lg(t,e,n){return(1-n)*t+n*e}function iY(t,e,n,r){return lg(t,e,1-Math.exp(-n*r))}function sY(t,e=1){return e-Math.abs(zC(t,e*2)-e)}function oY(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function aY(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function lY(t,e){return t+Math.floor(Math.random()*(e-t+1))}function uY(t,e){return t+Math.random()*(e-t)}function cY(t){return t*(.5-Math.random())}function hY(t){t!==void 0&&(MN=t);let e=MN+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function dY(t){return t*dh}function fY(t){return t*qf}function gT(t){return(t&t-1)===0&&t!==0}function PF(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function xx(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function pY(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),c=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*d,l*p,a*u);break;case"YZY":t.set(l*p,a*c,l*d,a*u);break;case"ZXZ":t.set(l*d,l*p,a*c,a*u);break;case"XZX":t.set(a*c,l*g,l*m,a*u);break;case"YXY":t.set(l*m,a*c,l*g,a*u);break;case"ZYZ":t.set(l*g,l*m,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ms(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Nt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const mY={DEG2RAD:dh,RAD2DEG:qf,generateUUID:Ss,clamp:Yn,euclideanModulo:zC,mapLinear:nY,inverseLerp:rY,lerp:lg,damp:iY,pingpong:sY,smoothstep:oY,smootherstep:aY,randInt:lY,randFloat:uY,randFloatSpread:cY,seededRandom:hY,degToRad:dY,radToDeg:fY,isPowerOfTwo:gT,ceilPowerOfTwo:PF,floorPowerOfTwo:xx,setQuaternionFromProperEuler:pY,normalize:Nt,denormalize:ms};class Oe{constructor(e=0,n=0){Oe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Yn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Rt{constructor(e,n,r,i,s,o,a,l,u){Rt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u)}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],d=r[7],p=r[2],m=r[5],g=r[8],y=i[0],_=i[3],v=i[6],x=i[1],w=i[4],M=i[7],b=i[2],T=i[5],C=i[8];return s[0]=o*y+a*x+l*b,s[3]=o*_+a*w+l*T,s[6]=o*v+a*M+l*C,s[1]=u*y+c*x+d*b,s[4]=u*_+c*w+d*T,s[7]=u*v+c*M+d*C,s[2]=p*y+m*x+g*b,s[5]=p*_+m*w+g*T,s[8]=p*v+m*M+g*C,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=c*o-a*u,p=a*l-c*s,m=u*s-o*l,g=n*d+r*p+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=d*y,e[1]=(i*u-c*r)*y,e[2]=(a*r-i*o)*y,e[3]=p*y,e[4]=(c*n-i*l)*y,e[5]=(i*s-a*n)*y,e[6]=m*y,e[7]=(r*l-u*n)*y,e[8]=(o*n-r*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(uE.makeScale(e,n)),this}rotate(e){return this.premultiply(uE.makeRotation(-e)),this}translate(e,n){return this.premultiply(uE.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const uE=new Rt;function RF(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const gY={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ff(t,e){return new gY[t](e)}function Jg(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const EN={};function ug(t){t in EN||(EN[t]=!0,console.warn(t))}function Cf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function cE(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const vY=new Rt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),yY=new Rt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function _Y(t){return t.convertSRGBToLinear().applyMatrix3(yY)}function xY(t){return t.applyMatrix3(vY).convertLinearToSRGB()}const SY={[Fo]:t=>t,[Tt]:t=>t.convertSRGBToLinear(),[UC]:_Y},wY={[Fo]:t=>t,[Tt]:t=>t.convertLinearToSRGB(),[UC]:xY},Hs={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return Fo},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=SY[e],i=wY[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let xd;class BC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{xd===void 0&&(xd=Jg("canvas")),xd.width=e.width,xd.height=e.height;const r=xd.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=xd}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Jg("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Cf(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Cf(n[r]/255)*255):n[r]=Cf(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let MY=0,rh=class{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:MY++}),this.uuid=Ss(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(hE(i[o].image)):s.push(hE(i[o]))}else s=hE(i);r.url=s}return n||(e.images[this.uuid]=r),r}};function hE(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?BC.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let EY=0;class Kn extends kl{constructor(e=Kn.DEFAULT_IMAGE,n=Kn.DEFAULT_MAPPING,r=gi,i=gi,s=ar,o=$u,a=Gi,l=xa,u=Kn.DEFAULT_ANISOTROPY,c=Du){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:EY++}),this.uuid=Ss(),this.name="",this.source=new rh(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Oe(0,0),this.repeat=new Oe(1,1),this.center=new Oe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(ug("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Lu?Tt:Du),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==BS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case $g:e.x=e.x-Math.floor(e.x);break;case gi:e.x=e.x<0?0:1;break;case qg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case $g:e.y=e.y-Math.floor(e.y);break;case gi:e.y=e.y<0?0:1;break;case qg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return ug("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Tt?Lu:FC}set encoding(e){ug("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Lu?Tt:Du}}Kn.DEFAULT_IMAGE=null;Kn.DEFAULT_MAPPING=BS;Kn.DEFAULT_ANISOTROPY=1;class ln{constructor(e=0,n=0,r=0,i=1){ln.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],d=l[8],p=l[1],m=l[5],g=l[9],y=l[2],_=l[6],v=l[10];if(Math.abs(c-p)<.01&&Math.abs(d-y)<.01&&Math.abs(g-_)<.01){if(Math.abs(c+p)<.1&&Math.abs(d+y)<.1&&Math.abs(g+_)<.1&&Math.abs(u+m+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(u+1)/2,M=(m+1)/2,b=(v+1)/2,T=(c+p)/4,C=(d+y)/4,I=(g+_)/4;return w>M&&w>b?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=T/r,s=C/r):M>b?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=T/i,s=I/i):b<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(b),r=C/s,i=I/s),this.set(r,i,s,n),this}let x=Math.sqrt((_-g)*(_-g)+(d-y)*(d-y)+(p-c)*(p-c));return Math.abs(x)<.001&&(x=1),this.x=(_-g)/x,this.y=(d-y)/x,this.z=(p-c)/x,this.w=Math.acos((u+m+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Uo extends kl{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new ln(0,0,e,n),this.scissorTest=!1,this.viewport=new ln(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(ug("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Lu?Tt:Du),this.texture=new Kn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:ar,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new rh(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class HS extends Kn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=sr,this.minFilter=sr,this.wrapR=gi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bY extends Uo{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new HS(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class VC extends Kn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=sr,this.minFilter=sr,this.wrapR=gi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class TY extends Uo{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new VC(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class AY extends Uo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Zi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],d=r[i+3];const p=s[o+0],m=s[o+1],g=s[o+2],y=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=d;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=g,e[n+3]=y;return}if(d!==y||l!==p||u!==m||c!==g){let _=1-a;const v=l*p+u*m+c*g+d*y,x=v>=0?1:-1,w=1-v*v;if(w>Number.EPSILON){const b=Math.sqrt(w),T=Math.atan2(b,v*x);_=Math.sin(_*T)/b,a=Math.sin(a*T)/b}const M=a*x;if(l=l*_+p*M,u=u*_+m*M,c=c*_+g*M,d=d*_+y*M,_===1-a){const b=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=b,u*=b,c*=b,d*=b}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],d=s[o],p=s[o+1],m=s[o+2],g=s[o+3];return e[n]=a*g+c*d+l*m-u*p,e[n+1]=l*g+c*p+u*d-a*m,e[n+2]=u*g+c*m+a*p-l*d,e[n+3]=c*g-a*d-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),d=a(s/2),p=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=p*c*d+u*m*g,this._y=u*m*d-p*c*g,this._z=u*c*g+p*m*d,this._w=u*c*d-p*m*g;break;case"YXZ":this._x=p*c*d+u*m*g,this._y=u*m*d-p*c*g,this._z=u*c*g-p*m*d,this._w=u*c*d+p*m*g;break;case"ZXY":this._x=p*c*d-u*m*g,this._y=u*m*d+p*c*g,this._z=u*c*g+p*m*d,this._w=u*c*d-p*m*g;break;case"ZYX":this._x=p*c*d-u*m*g,this._y=u*m*d+p*c*g,this._z=u*c*g-p*m*d,this._w=u*c*d+p*m*g;break;case"YZX":this._x=p*c*d+u*m*g,this._y=u*m*d+p*c*g,this._z=u*c*g-p*m*d,this._w=u*c*d-p*m*g;break;case"XZY":this._x=p*c*d-u*m*g,this._y=u*m*d-p*c*g,this._z=u*c*g+p*m*d,this._w=u*c*d+p*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],d=n[10],p=r+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Yn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),d=Math.sin((1-n)*c)/u,p=Math.sin(n*c)/u;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ${constructor(e=0,n=0,r=0){$.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(bN.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(bN.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,c=l*r+a*n-s*i,d=l*i+s*r-o*n,p=-s*n-o*r-a*i;return this.x=u*l+p*-s+c*-a-d*-o,this.y=c*l+p*-o+d*-s-u*-a,this.z=d*l+p*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return dE.copy(this).projectOnVector(e),this.sub(dE)}reflect(e){return this.sub(dE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Yn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const dE=new $,bN=new Zi;class Pa{constructor(e=new $(1/0,1/0,1/0),n=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(qa.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(qa.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=qa.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Sd.copy(e.boundingBox),Sd.applyMatrix4(e.matrixWorld),this.union(Sd);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)qa.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(qa)}else i.boundingBox===null&&i.computeBoundingBox(),Sd.copy(i.boundingBox),Sd.applyMatrix4(e.matrixWorld),this.union(Sd)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,qa),qa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(vm),ey.subVectors(this.max,vm),wd.subVectors(e.a,vm),Md.subVectors(e.b,vm),Ed.subVectors(e.c,vm),eu.subVectors(Md,wd),tu.subVectors(Ed,Md),Ac.subVectors(wd,Ed);let n=[0,-eu.z,eu.y,0,-tu.z,tu.y,0,-Ac.z,Ac.y,eu.z,0,-eu.x,tu.z,0,-tu.x,Ac.z,0,-Ac.x,-eu.y,eu.x,0,-tu.y,tu.x,0,-Ac.y,Ac.x,0];return!fE(n,wd,Md,Ed,ey)||(n=[1,0,0,0,1,0,0,0,1],!fE(n,wd,Md,Ed,ey))?!1:(ty.crossVectors(eu,tu),n=[ty.x,ty.y,ty.z],fE(n,wd,Md,Ed,ey))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,qa).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(qa).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:($a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),$a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),$a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),$a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),$a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),$a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),$a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),$a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints($a),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const $a=[new $,new $,new $,new $,new $,new $,new $,new $],qa=new $,Sd=new Pa,wd=new $,Md=new $,Ed=new $,eu=new $,tu=new $,Ac=new $,vm=new $,ey=new $,ty=new $,Cc=new $;function fE(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Cc.fromArray(t,s);const a=i.x*Math.abs(Cc.x)+i.y*Math.abs(Cc.y)+i.z*Math.abs(Cc.z),l=e.dot(Cc),u=n.dot(Cc),c=r.dot(Cc);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const CY=new Pa,ym=new $,pE=new $;class $o{constructor(e=new $,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):CY.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ym.subVectors(e,this.center);const n=ym.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(ym,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(pE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ym.copy(e.center).add(pE)),this.expandByPoint(ym.copy(e.center).sub(pE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Xa=new $,mE=new $,ny=new $,nu=new $,gE=new $,ry=new $,vE=new $;class wp{constructor(e=new $,n=new $(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Xa)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Xa.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Xa.copy(this.origin).addScaledVector(this.direction,n),Xa.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){mE.copy(e).add(n).multiplyScalar(.5),ny.copy(n).sub(e).normalize(),nu.copy(this.origin).sub(mE);const s=e.distanceTo(n)*.5,o=-this.direction.dot(ny),a=nu.dot(this.direction),l=-nu.dot(ny),u=nu.lengthSq(),c=Math.abs(1-o*o);let d,p,m,g;if(c>0)if(d=o*l-a,p=o*a-l,g=s*c,d>=0)if(p>=-g)if(p<=g){const y=1/c;d*=y,p*=y,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p<=-g?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u):p<=g?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(mE).addScaledVector(ny,p),m}intersectSphere(e,n){Xa.subVectors(e.center,this.origin);const r=Xa.dot(this.direction),i=Xa.dot(Xa)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),c>=0?(s=(e.min.y-p.y)*c,o=(e.max.y-p.y)*c):(s=(e.max.y-p.y)*c,o=(e.min.y-p.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Xa)!==null}intersectTriangle(e,n,r,i,s){gE.subVectors(n,e),ry.subVectors(r,e),vE.crossVectors(gE,ry);let o=this.direction.dot(vE),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;nu.subVectors(this.origin,e);const l=a*this.direction.dot(ry.crossVectors(nu,ry));if(l<0)return null;const u=a*this.direction.dot(gE.cross(nu));if(u<0||l+u>o)return null;const c=-a*nu.dot(vE);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class bt{constructor(e,n,r,i,s,o,a,l,u,c,d,p,m,g,y,_){bt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u,c,d,p,m,g,y,_)}set(e,n,r,i,s,o,a,l,u,c,d,p,m,g,y,_){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=u,v[6]=c,v[10]=d,v[14]=p,v[3]=m,v[7]=g,v[11]=y,v[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new bt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/bd.setFromMatrixColumn(e,0).length(),s=1/bd.setFromMatrixColumn(e,1).length(),o=1/bd.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*c,m=o*d,g=a*c,y=a*d;n[0]=l*c,n[4]=-l*d,n[8]=u,n[1]=m+g*u,n[5]=p-y*u,n[9]=-a*l,n[2]=y-p*u,n[6]=g+m*u,n[10]=o*l}else if(e.order==="YXZ"){const p=l*c,m=l*d,g=u*c,y=u*d;n[0]=p+y*a,n[4]=g*a-m,n[8]=o*u,n[1]=o*d,n[5]=o*c,n[9]=-a,n[2]=m*a-g,n[6]=y+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*c,m=l*d,g=u*c,y=u*d;n[0]=p-y*a,n[4]=-o*d,n[8]=g+m*a,n[1]=m+g*a,n[5]=o*c,n[9]=y-p*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*c,m=o*d,g=a*c,y=a*d;n[0]=l*c,n[4]=g*u-m,n[8]=p*u+y,n[1]=l*d,n[5]=y*u+p,n[9]=m*u-g,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,g=a*l,y=a*u;n[0]=l*c,n[4]=y-p*d,n[8]=g*d+m,n[1]=d,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=m*d+g,n[10]=p-y*d}else if(e.order==="XZY"){const p=o*l,m=o*u,g=a*l,y=a*u;n[0]=l*c,n[4]=-d,n[8]=u*c,n[1]=p*d+y,n[5]=o*c,n[9]=m*d-g,n[2]=g*d-m,n[6]=a*c,n[10]=y*d+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(PY,e,RY)}lookAt(e,n,r){const i=this.elements;return as.subVectors(e,n),as.lengthSq()===0&&(as.z=1),as.normalize(),ru.crossVectors(r,as),ru.lengthSq()===0&&(Math.abs(r.z)===1?as.x+=1e-4:as.z+=1e-4,as.normalize(),ru.crossVectors(r,as)),ru.normalize(),iy.crossVectors(as,ru),i[0]=ru.x,i[4]=iy.x,i[8]=as.x,i[1]=ru.y,i[5]=iy.y,i[9]=as.y,i[2]=ru.z,i[6]=iy.z,i[10]=as.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],d=r[5],p=r[9],m=r[13],g=r[2],y=r[6],_=r[10],v=r[14],x=r[3],w=r[7],M=r[11],b=r[15],T=i[0],C=i[4],I=i[8],R=i[12],N=i[1],z=i[5],V=i[9],W=i[13],K=i[2],J=i[6],ne=i[10],ee=i[14],F=i[3],j=i[7],H=i[11],D=i[15];return s[0]=o*T+a*N+l*K+u*F,s[4]=o*C+a*z+l*J+u*j,s[8]=o*I+a*V+l*ne+u*H,s[12]=o*R+a*W+l*ee+u*D,s[1]=c*T+d*N+p*K+m*F,s[5]=c*C+d*z+p*J+m*j,s[9]=c*I+d*V+p*ne+m*H,s[13]=c*R+d*W+p*ee+m*D,s[2]=g*T+y*N+_*K+v*F,s[6]=g*C+y*z+_*J+v*j,s[10]=g*I+y*V+_*ne+v*H,s[14]=g*R+y*W+_*ee+v*D,s[3]=x*T+w*N+M*K+b*F,s[7]=x*C+w*z+M*J+b*j,s[11]=x*I+w*V+M*ne+b*H,s[15]=x*R+w*W+M*ee+b*D,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],d=e[6],p=e[10],m=e[14],g=e[3],y=e[7],_=e[11],v=e[15];return g*(+s*l*d-i*u*d-s*a*p+r*u*p+i*a*m-r*l*m)+y*(+n*l*m-n*u*p+s*o*p-i*o*m+i*u*c-s*l*c)+_*(+n*u*d-n*a*m-s*o*d+r*o*m+s*a*c-r*u*c)+v*(-i*a*c-n*l*d+n*a*p+i*o*d-r*o*p+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=e[9],p=e[10],m=e[11],g=e[12],y=e[13],_=e[14],v=e[15],x=d*_*u-y*p*u+y*l*m-a*_*m-d*l*v+a*p*v,w=g*p*u-c*_*u-g*l*m+o*_*m+c*l*v-o*p*v,M=c*y*u-g*d*u+g*a*m-o*y*m-c*a*v+o*d*v,b=g*d*l-c*y*l-g*a*p+o*y*p+c*a*_-o*d*_,T=n*x+r*w+i*M+s*b;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/T;return e[0]=x*C,e[1]=(y*p*s-d*_*s-y*i*m+r*_*m+d*i*v-r*p*v)*C,e[2]=(a*_*s-y*l*s+y*i*u-r*_*u-a*i*v+r*l*v)*C,e[3]=(d*l*s-a*p*s-d*i*u+r*p*u+a*i*m-r*l*m)*C,e[4]=w*C,e[5]=(c*_*s-g*p*s+g*i*m-n*_*m-c*i*v+n*p*v)*C,e[6]=(g*l*s-o*_*s-g*i*u+n*_*u+o*i*v-n*l*v)*C,e[7]=(o*p*s-c*l*s+c*i*u-n*p*u-o*i*m+n*l*m)*C,e[8]=M*C,e[9]=(g*d*s-c*y*s-g*r*m+n*y*m+c*r*v-n*d*v)*C,e[10]=(o*y*s-g*a*s+g*r*u-n*y*u-o*r*v+n*a*v)*C,e[11]=(c*a*s-o*d*s-c*r*u+n*d*u+o*r*m-n*a*m)*C,e[12]=b*C,e[13]=(c*y*i-g*d*i+g*r*p-n*y*p-c*r*_+n*d*_)*C,e[14]=(g*a*i-o*y*i-g*r*l+n*y*l+o*r*_-n*a*_)*C,e[15]=(o*d*i-c*a*i+c*r*l-n*d*l-o*r*p+n*a*p)*C,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,d=a+a,p=s*u,m=s*c,g=s*d,y=o*c,_=o*d,v=a*d,x=l*u,w=l*c,M=l*d,b=r.x,T=r.y,C=r.z;return i[0]=(1-(y+v))*b,i[1]=(m+M)*b,i[2]=(g-w)*b,i[3]=0,i[4]=(m-M)*T,i[5]=(1-(p+v))*T,i[6]=(_+x)*T,i[7]=0,i[8]=(g+w)*C,i[9]=(_-x)*C,i[10]=(1-(p+y))*C,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=bd.set(i[0],i[1],i[2]).length();const o=bd.set(i[4],i[5],i[6]).length(),a=bd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],uo.copy(this);const u=1/s,c=1/o,d=1/a;return uo.elements[0]*=u,uo.elements[1]*=u,uo.elements[2]*=u,uo.elements[4]*=c,uo.elements[5]*=c,uo.elements[6]*=c,uo.elements[8]*=d,uo.elements[9]*=d,uo.elements[10]*=d,n.setFromRotationMatrix(uo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=pa){const l=this.elements,u=2*s/(n-e),c=2*s/(r-i),d=(n+e)/(n-e),p=(r+i)/(r-i);let m,g;if(a===pa)m=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===Qg)m=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=c,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=pa){const l=this.elements,u=1/(n-e),c=1/(r-i),d=1/(o-s),p=(n+e)*u,m=(r+i)*c;let g,y;if(a===pa)g=(o+s)*d,y=-2*d;else if(a===Qg)g=s*d,y=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=y,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const bd=new $,uo=new bt,PY=new $(0,0,0),RY=new $(1,1,1),ru=new $,iy=new $,as=new $,TN=new bt,AN=new Zi;class J0{constructor(e=0,n=0,r=0,i=J0.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],d=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Yn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Yn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Yn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Yn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Yn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Yn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return TN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(TN,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return AN.setFromEuler(this),this.setFromQuaternion(AN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}J0.DEFAULT_ORDER="XYZ";class fh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let NY=0;const CN=new $,Td=new Zi,Ya=new bt,sy=new $,_m=new $,IY=new $,OY=new Zi,PN=new $(1,0,0),RN=new $(0,1,0),NN=new $(0,0,1),LY={type:"added"},IN={type:"removed"};class en extends kl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:NY++}),this.uuid=Ss(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=en.DEFAULT_UP.clone();const e=new $,n=new J0,r=new Zi,i=new $(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new bt},normalMatrix:{value:new Rt}}),this.matrix=new bt,this.matrixWorld=new bt,this.matrixAutoUpdate=en.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=en.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new fh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Td.setFromAxisAngle(e,n),this.quaternion.multiply(Td),this}rotateOnWorldAxis(e,n){return Td.setFromAxisAngle(e,n),this.quaternion.premultiply(Td),this}rotateX(e){return this.rotateOnAxis(PN,e)}rotateY(e){return this.rotateOnAxis(RN,e)}rotateZ(e){return this.rotateOnAxis(NN,e)}translateOnAxis(e,n){return CN.copy(e).applyQuaternion(this.quaternion),this.position.add(CN.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(PN,e)}translateY(e){return this.translateOnAxis(RN,e)}translateZ(e){return this.translateOnAxis(NN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ya.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?sy.copy(e):sy.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),_m.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ya.lookAt(_m,sy,this.up):Ya.lookAt(sy,_m,this.up),this.quaternion.setFromRotationMatrix(Ya),i&&(Ya.extractRotation(i.matrixWorld),Td.setFromRotationMatrix(Ya),this.quaternion.premultiply(Td.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(LY)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(IN)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(IN)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ya.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ya.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ya),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_m,e,IY),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_m,OY,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}en.DEFAULT_UP=new $(0,1,0);en.DEFAULT_MATRIX_AUTO_UPDATE=!0;en.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const co=new $,Za=new $,yE=new $,Ka=new $,Ad=new $,Cd=new $,ON=new $,_E=new $,xE=new $,SE=new $;let oy=!1;class Hi{constructor(e=new $,n=new $,r=new $){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),co.subVectors(e,n),i.cross(co);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){co.subVectors(i,n),Za.subVectors(r,n),yE.subVectors(e,n);const o=co.dot(co),a=co.dot(Za),l=co.dot(yE),u=Za.dot(Za),c=Za.dot(yE),d=o*u-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(u*l-a*c)*p,g=(o*c-a*l)*p;return s.set(1-m-g,g,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Ka),Ka.x>=0&&Ka.y>=0&&Ka.x+Ka.y<=1}static getUV(e,n,r,i,s,o,a,l){return oy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),oy=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Ka),l.setScalar(0),l.addScaledVector(s,Ka.x),l.addScaledVector(o,Ka.y),l.addScaledVector(a,Ka.z),l}static isFrontFacing(e,n,r,i){return co.subVectors(r,n),Za.subVectors(e,n),co.cross(Za).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return co.subVectors(this.c,this.b),Za.subVectors(this.a,this.b),co.cross(Za).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Hi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Hi.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return oy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),oy=!0),Hi.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return Hi.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Hi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Hi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Ad.subVectors(i,r),Cd.subVectors(s,r),_E.subVectors(e,r);const l=Ad.dot(_E),u=Cd.dot(_E);if(l<=0&&u<=0)return n.copy(r);xE.subVectors(e,i);const c=Ad.dot(xE),d=Cd.dot(xE);if(c>=0&&d<=c)return n.copy(i);const p=l*d-c*u;if(p<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(Ad,o);SE.subVectors(e,s);const m=Ad.dot(SE),g=Cd.dot(SE);if(g>=0&&m<=g)return n.copy(s);const y=m*u-l*g;if(y<=0&&u>=0&&g<=0)return a=u/(u-g),n.copy(r).addScaledVector(Cd,a);const _=c*g-m*d;if(_<=0&&d-c>=0&&m-g>=0)return ON.subVectors(s,i),a=(d-c)/(d-c+(m-g)),n.copy(i).addScaledVector(ON,a);const v=1/(_+y+p);return o=y*v,a=p*v,n.copy(r).addScaledVector(Ad,o).addScaledVector(Cd,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let DY=0;class Jr extends kl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:DY++}),this.uuid=Ss(),this.name="",this.type="Material",this.blending=hh,this.side=Al,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=TC,this.blendDst=AC,this.blendEquation=$c,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=vx,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=xF,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=M_,this.stencilZFail=M_,this.stencilZPass=M_,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==hh&&(r.blending=this.blending),this.side!==Al&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const NF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ho={h:0,s:0,l:0},ay={h:0,s:0,l:0};function wE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Ke{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Tt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Hs.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Hs.workingColorSpace){return this.r=e,this.g=n,this.b=r,Hs.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Hs.workingColorSpace){if(e=zC(e,1),n=Yn(n,0,1),r=Yn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=wE(o,s,e+1/3),this.g=wE(o,s,e),this.b=wE(o,s,e-1/3)}return Hs.toWorkingColorSpace(this,i),this}setStyle(e,n=Tt){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Tt){const r=NF[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Cf(e.r),this.g=Cf(e.g),this.b=Cf(e.b),this}copyLinearToSRGB(e){return this.r=cE(e.r),this.g=cE(e.g),this.b=cE(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Tt){return Hs.fromWorkingColorSpace(di.copy(this),e),Math.round(Yn(di.r*255,0,255))*65536+Math.round(Yn(di.g*255,0,255))*256+Math.round(Yn(di.b*255,0,255))}getHexString(e=Tt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Hs.workingColorSpace){Hs.fromWorkingColorSpace(di.copy(this),n);const r=di.r,i=di.g,s=di.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=c<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=Hs.workingColorSpace){return Hs.fromWorkingColorSpace(di.copy(this),n),e.r=di.r,e.g=di.g,e.b=di.b,e}getStyle(e=Tt){Hs.fromWorkingColorSpace(di.copy(this),e);const n=di.r,r=di.g,i=di.b;return e!==Tt?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(ho),ho.h+=e,ho.s+=n,ho.l+=r,this.setHSL(ho.h,ho.s,ho.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(ho),e.getHSL(ay);const r=lg(ho.h,ay.h,n),i=lg(ho.s,ay.s,n),s=lg(ho.l,ay.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const di=new Ke;Ke.NAMES=NF;class uc extends Jr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Q0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ol=kY();function kY(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Bi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Yn(t,-65504,65504),ol.floatView[0]=t;const e=ol.uint32View[0],n=e>>23&511;return ol.baseTable[n]+((e&8388607)>>ol.shiftTable[n])}function Wm(t){const e=t>>10;return ol.uint32View[0]=ol.mantissaTable[ol.offsetTable[e]+(t&1023)]+ol.exponentTable[e],ol.floatView[0]}const FY={toHalfFloat:Bi,fromHalfFloat:Wm},mr=new $,ly=new Oe;class vn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Kg,this.updateRange={offset:0,count:-1},this.gpuType=fa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)ly.fromBufferAttribute(this,n),ly.applyMatrix3(e),this.setXY(n,ly.x,ly.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)mr.fromBufferAttribute(this,n),mr.applyMatrix3(e),this.setXYZ(n,mr.x,mr.y,mr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)mr.fromBufferAttribute(this,n),mr.applyMatrix4(e),this.setXYZ(n,mr.x,mr.y,mr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)mr.fromBufferAttribute(this,n),mr.applyNormalMatrix(e),this.setXYZ(n,mr.x,mr.y,mr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)mr.fromBufferAttribute(this,n),mr.transformDirection(e),this.setXYZ(n,mr.x,mr.y,mr.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ms(n,this.array)),n}setX(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ms(n,this.array)),n}setY(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ms(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ms(n,this.array)),n}setW(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array),i=Nt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array),i=Nt(i,this.array),s=Nt(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Kg&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class UY extends vn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class zY extends vn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class BY extends vn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class VY extends vn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class jC extends vn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class jY extends vn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class HC extends vn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class HY extends vn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Wm(this.array[e*this.itemSize]);return this.normalized&&(n=ms(n,this.array)),n}setX(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize]=Bi(n),this}getY(e){let n=Wm(this.array[e*this.itemSize+1]);return this.normalized&&(n=ms(n,this.array)),n}setY(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+1]=Bi(n),this}getZ(e){let n=Wm(this.array[e*this.itemSize+2]);return this.normalized&&(n=ms(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+2]=Bi(n),this}getW(e){let n=Wm(this.array[e*this.itemSize+3]);return this.normalized&&(n=ms(n,this.array)),n}setW(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+3]=Bi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array)),this.array[e+0]=Bi(n),this.array[e+1]=Bi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array),i=Nt(i,this.array)),this.array[e+0]=Bi(n),this.array[e+1]=Bi(r),this.array[e+2]=Bi(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array),i=Nt(i,this.array),s=Nt(s,this.array)),this.array[e+0]=Bi(n),this.array[e+1]=Bi(r),this.array[e+2]=Bi(i),this.array[e+3]=Bi(s),this}}class rt extends vn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class WY extends vn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let GY=0;const Vs=new bt,ME=new en,Pd=new $,ls=new Pa,xm=new Pa,Dr=new $;class It extends kl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:GY++}),this.uuid=Ss(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(RF(e)?HC:jC)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Rt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Vs.makeRotationFromQuaternion(e),this.applyMatrix4(Vs),this}rotateX(e){return Vs.makeRotationX(e),this.applyMatrix4(Vs),this}rotateY(e){return Vs.makeRotationY(e),this.applyMatrix4(Vs),this}rotateZ(e){return Vs.makeRotationZ(e),this.applyMatrix4(Vs),this}translate(e,n,r){return Vs.makeTranslation(e,n,r),this.applyMatrix4(Vs),this}scale(e,n,r){return Vs.makeScale(e,n,r),this.applyMatrix4(Vs),this}lookAt(e){return ME.lookAt(e),ME.updateMatrix(),this.applyMatrix4(ME.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pd).negate(),this.translate(Pd.x,Pd.y,Pd.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new rt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Pa);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];ls.setFromBufferAttribute(s),this.morphTargetsRelative?(Dr.addVectors(this.boundingBox.min,ls.min),this.boundingBox.expandByPoint(Dr),Dr.addVectors(this.boundingBox.max,ls.max),this.boundingBox.expandByPoint(Dr)):(this.boundingBox.expandByPoint(ls.min),this.boundingBox.expandByPoint(ls.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $o);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new $,1/0);return}if(e){const r=this.boundingSphere.center;if(ls.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];xm.setFromBufferAttribute(a),this.morphTargetsRelative?(Dr.addVectors(ls.min,xm.min),ls.expandByPoint(Dr),Dr.addVectors(ls.max,xm.max),ls.expandByPoint(Dr)):(ls.expandByPoint(xm.min),ls.expandByPoint(xm.max))}ls.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Dr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Dr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Dr.fromBufferAttribute(a,u),l&&(Pd.fromBufferAttribute(e,u),Dr.add(Pd)),i=Math.max(i,r.distanceToSquared(Dr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new vn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let N=0;N<a;N++)u[N]=new $,c[N]=new $;const d=new $,p=new $,m=new $,g=new Oe,y=new Oe,_=new Oe,v=new $,x=new $;function w(N,z,V){d.fromArray(i,N*3),p.fromArray(i,z*3),m.fromArray(i,V*3),g.fromArray(o,N*2),y.fromArray(o,z*2),_.fromArray(o,V*2),p.sub(d),m.sub(d),y.sub(g),_.sub(g);const W=1/(y.x*_.y-_.x*y.y);isFinite(W)&&(v.copy(p).multiplyScalar(_.y).addScaledVector(m,-y.y).multiplyScalar(W),x.copy(m).multiplyScalar(y.x).addScaledVector(p,-_.x).multiplyScalar(W),u[N].add(v),u[z].add(v),u[V].add(v),c[N].add(x),c[z].add(x),c[V].add(x))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let N=0,z=M.length;N<z;++N){const V=M[N],W=V.start,K=V.count;for(let J=W,ne=W+K;J<ne;J+=3)w(r[J+0],r[J+1],r[J+2])}const b=new $,T=new $,C=new $,I=new $;function R(N){C.fromArray(s,N*3),I.copy(C);const z=u[N];b.copy(z),b.sub(C.multiplyScalar(C.dot(z))).normalize(),T.crossVectors(I,z);const W=T.dot(c[N])<0?-1:1;l[N*4]=b.x,l[N*4+1]=b.y,l[N*4+2]=b.z,l[N*4+3]=W}for(let N=0,z=M.length;N<z;++N){const V=M[N],W=V.start,K=V.count;for(let J=W,ne=W+K;J<ne;J+=3)R(r[J+0]),R(r[J+1]),R(r[J+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new vn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new $,s=new $,o=new $,a=new $,l=new $,u=new $,c=new $,d=new $;if(e)for(let p=0,m=e.count;p<m;p+=3){const g=e.getX(p+0),y=e.getX(p+1),_=e.getX(p+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,y),o.fromBufferAttribute(n,_),c.subVectors(o,s),d.subVectors(i,s),c.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,y),u.fromBufferAttribute(r,_),a.add(c),l.add(c),u.add(c),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(_,u.x,u.y,u.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),c.subVectors(o,s),d.subVectors(i,s),c.cross(d),r.setXYZ(p+0,c.x,c.y,c.z),r.setXYZ(p+1,c.x,c.y,c.z),r.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Dr.fromBufferAttribute(e,n),Dr.normalize(),e.setXYZ(n,Dr.x,Dr.y,Dr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,d=a.normalized,p=new u.constructor(l.length*c);let m=0,g=0;for(let y=0,_=l.length;y<_;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*c;for(let v=0;v<c;v++)p[g++]=u[m++]}return new vn(p,c,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new It,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,d=u.length;c<d;c++){const p=u[c],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let d=0,p=u.length;d<p;d++){const m=u[d];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],d=s[u];for(let p=0,m=d.length;p<m;p++)c.push(d[p].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const LN=new bt,Pc=new wp,uy=new $o,DN=new $,Rd=new $,Nd=new $,Id=new $,EE=new $,cy=new $,hy=new Oe,dy=new Oe,fy=new Oe,kN=new $,FN=new $,UN=new $,py=new $,my=new $;class Yr extends en{constructor(e=new It,n=new uc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){cy.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],d=s[l];c!==0&&(EE.fromBufferAttribute(d,e),o?cy.addScaledVector(EE,c):cy.addScaledVector(EE.sub(n),c))}n.add(cy)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),uy.copy(r.boundingSphere),uy.applyMatrix4(s),Pc.copy(e.ray).recast(e.near),!(uy.containsPoint(Pc.origin)===!1&&(Pc.intersectSphere(uy,DN)===null||Pc.origin.distanceToSquared(DN)>(e.far-e.near)**2))&&(LN.copy(s).invert(),Pc.copy(e.ray).applyMatrix4(LN),!(r.boundingBox!==null&&Pc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Pc)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,c=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,y=p.length;g<y;g++){const _=p[g],v=o[_.materialIndex],x=Math.max(_.start,m.start),w=Math.min(a.count,Math.min(_.start+_.count,m.start+m.count));for(let M=x,b=w;M<b;M+=3){const T=a.getX(M),C=a.getX(M+1),I=a.getX(M+2);i=gy(this,v,e,r,u,c,d,T,C,I),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=_.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let _=g,v=y;_<v;_+=3){const x=a.getX(_),w=a.getX(_+1),M=a.getX(_+2);i=gy(this,o,e,r,u,c,d,x,w,M),i&&(i.faceIndex=Math.floor(_/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,y=p.length;g<y;g++){const _=p[g],v=o[_.materialIndex],x=Math.max(_.start,m.start),w=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let M=x,b=w;M<b;M+=3){const T=M,C=M+1,I=M+2;i=gy(this,v,e,r,u,c,d,T,C,I),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=_.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let _=g,v=y;_<v;_+=3){const x=_,w=_+1,M=_+2;i=gy(this,o,e,r,u,c,d,x,w,M),i&&(i.faceIndex=Math.floor(_/3),n.push(i))}}}}function $Y(t,e,n,r,i,s,o,a){let l;if(e.side===Pi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Al,a),l===null)return null;my.copy(a),my.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(my);return u<n.near||u>n.far?null:{distance:u,point:my.clone(),object:t}}function gy(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,Rd),t.getVertexPosition(l,Nd),t.getVertexPosition(u,Id);const c=$Y(t,e,n,r,Rd,Nd,Id,py);if(c){i&&(hy.fromBufferAttribute(i,a),dy.fromBufferAttribute(i,l),fy.fromBufferAttribute(i,u),c.uv=Hi.getInterpolation(py,Rd,Nd,Id,hy,dy,fy,new Oe)),s&&(hy.fromBufferAttribute(s,a),dy.fromBufferAttribute(s,l),fy.fromBufferAttribute(s,u),c.uv1=Hi.getInterpolation(py,Rd,Nd,Id,hy,dy,fy,new Oe),c.uv2=c.uv1),o&&(kN.fromBufferAttribute(o,a),FN.fromBufferAttribute(o,l),UN.fromBufferAttribute(o,u),c.normal=Hi.getInterpolation(py,Rd,Nd,Id,kN,FN,UN,new $),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const d={a,b:l,c:u,normal:new $,materialIndex:0};Hi.getNormal(Rd,Nd,Id,d.normal),c.face=d}return c}class Gh extends It{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],d=[];let p=0,m=0;g("z","y","x",-1,-1,r,n,e,o,s,0),g("z","y","x",1,-1,r,n,-e,o,s,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new rt(u,3)),this.setAttribute("normal",new rt(c,3)),this.setAttribute("uv",new rt(d,2));function g(y,_,v,x,w,M,b,T,C,I,R){const N=M/C,z=b/I,V=M/2,W=b/2,K=T/2,J=C+1,ne=I+1;let ee=0,F=0;const j=new $;for(let H=0;H<ne;H++){const D=H*z-W;for(let U=0;U<J;U++){const Y=U*N-V;j[y]=Y*x,j[_]=D*w,j[v]=K,u.push(j.x,j.y,j.z),j[y]=0,j[_]=0,j[v]=T>0?1:-1,c.push(j.x,j.y,j.z),d.push(U/C),d.push(1-H/I),ee+=1}}for(let H=0;H<I;H++)for(let D=0;D<C;D++){const U=p+D+J*H,Y=p+D+J*(H+1),q=p+(D+1)+J*(H+1),te=p+(D+1)+J*H;l.push(U,Y,te),l.push(Y,q,te),F+=6}a.addGroup(m,F,R),m+=F,p+=ee}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Xf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function wi(t){const e={};for(let n=0;n<t.length;n++){const r=Xf(t[n]);for(const i in r)e[i]=r[i]}return e}function qY(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function IF(t){return t.getRenderTarget()===null?t.outputColorSpace:Fo}const OF={clone:Xf,merge:wi};var XY=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,YY=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class zo extends Jr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=XY,this.fragmentShader=YY,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Xf(e.uniforms),this.uniformsGroups=qY(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class ev extends en{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new bt,this.projectionMatrix=new bt,this.projectionMatrixInverse=new bt,this.coordinateSystem=pa}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class zr extends ev{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=qf*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(dh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return qf*2*Math.atan(Math.tan(dh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(dh*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Od=-90,Ld=1;class LF extends en{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new zr(Od,Ld,e,n);i.layers=this.layers,this.add(i);const s=new zr(Od,Ld,e,n);s.layers=this.layers,this.add(s);const o=new zr(Od,Ld,e,n);o.layers=this.layers,this.add(o);const a=new zr(Od,Ld,e,n);a.layers=this.layers,this.add(a);const l=new zr(Od,Ld,e,n);l.layers=this.layers,this.add(l);const u=new zr(Od,Ld,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===pa)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Qg)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=Lo,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=d,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class tv extends Kn{constructor(e,n,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:Wu,super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class DF extends Uo{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(ug("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Lu?Tt:Du),this.texture=new tv(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ar}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Gh(5,5,5),s=new zo({name:"CubemapFromEquirect",uniforms:Xf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Pi,blending:_l});s.uniforms.tEquirect.value=n;const o=new Yr(i,s),a=n.minFilter;return n.minFilter===$u&&(n.minFilter=ar),new LF(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const bE=new $,ZY=new $,KY=new Rt;let hu=class{constructor(e=new $(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=bE.subVectors(r,n).cross(ZY.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(bE),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||KY.getNormalMatrix(e),i=this.coplanarPoint(bE).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const Rc=new $o,vy=new $;class WS{constructor(e=new hu,n=new hu,r=new hu,i=new hu,s=new hu,o=new hu){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=pa){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],c=i[5],d=i[6],p=i[7],m=i[8],g=i[9],y=i[10],_=i[11],v=i[12],x=i[13],w=i[14],M=i[15];if(r[0].setComponents(l-s,p-u,_-m,M-v).normalize(),r[1].setComponents(l+s,p+u,_+m,M+v).normalize(),r[2].setComponents(l+o,p+c,_+g,M+x).normalize(),r[3].setComponents(l-o,p-c,_-g,M-x).normalize(),r[4].setComponents(l-a,p-d,_-y,M-w).normalize(),n===pa)r[5].setComponents(l+a,p+d,_+y,M+w).normalize();else if(n===Qg)r[5].setComponents(a,d,y,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Rc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Rc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Rc)}intersectsSprite(e){return Rc.center.set(0,0,0),Rc.radius=.7071067811865476,Rc.applyMatrix4(e.matrixWorld),this.intersectsSphere(Rc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(vy.x=i.normal.x>0?e.max.x:e.min.x,vy.y=i.normal.y>0?e.max.y:e.min.y,vy.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(vy)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function kF(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function QY(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const d=u.array,p=u.usage,m=t.createBuffer();t.bindBuffer(c,m),t.bufferData(c,d,p),u.onUploadCallback();let g;if(d instanceof Float32Array)g=t.FLOAT;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)g=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)g=t.SHORT;else if(d instanceof Uint32Array)g=t.UNSIGNED_INT;else if(d instanceof Int32Array)g=t.INT;else if(d instanceof Int8Array)g=t.BYTE;else if(d instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,d){const p=c.array,m=c.updateRange;t.bindBuffer(d,u),m.count===-1?t.bufferSubData(d,0,p):(n?t.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d===void 0?r.set(u,i(u,c)):d.version<u.version&&(s(d.buffer,u,c),d.version=u.version)}return{get:o,remove:a,update:l}}class nv extends It{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,d=e/a,p=n/l,m=[],g=[],y=[],_=[];for(let v=0;v<c;v++){const x=v*p-o;for(let w=0;w<u;w++){const M=w*d-s;g.push(M,-x,0),y.push(0,0,1),_.push(w/a),_.push(1-v/l)}}for(let v=0;v<l;v++)for(let x=0;x<a;x++){const w=x+u*v,M=x+u*(v+1),b=x+1+u*(v+1),T=x+1+u*v;m.push(w,M,T),m.push(M,b,T)}this.setIndex(m),this.setAttribute("position",new rt(g,3)),this.setAttribute("normal",new rt(y,3)),this.setAttribute("uv",new rt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nv(e.width,e.height,e.widthSegments,e.heightSegments)}}var JY=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,eZ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,tZ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,nZ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,rZ=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,iZ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,sZ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,oZ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,aZ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,lZ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,uZ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,cZ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,hZ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,dZ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,fZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,pZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,mZ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,gZ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,vZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,yZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,_Z=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,xZ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,SZ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,wZ=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,MZ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,EZ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,bZ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,TZ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,AZ="gl_FragColor = linearToOutputTexel( gl_FragColor );",CZ=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,PZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,RZ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,NZ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,IZ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,OZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,LZ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,DZ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,kZ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,FZ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,UZ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,zZ=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,BZ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,VZ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,jZ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,HZ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,WZ=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,GZ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,$Z=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,qZ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,XZ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,YZ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,ZZ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,KZ=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,QZ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,JZ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,eK=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,tK=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,nK=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,rK=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,iK=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,sK=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,oK=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,aK=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,lK=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,uK=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,cK=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,hK=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,dK=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,fK=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,pK=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,mK=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,gK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,yK=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,_K=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,xK=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,SK=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,wK=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,MK=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,EK=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,bK=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,TK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,AK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,CK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,PK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,RK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,NK=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,IK=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,OK=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,LK=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,DK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,kK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,FK=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,UK=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,zK=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,BK=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,VK=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jK=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,HK=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,WK=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,GK=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,$K=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,qK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,XK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,YK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ZK=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,KK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,QK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,JK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tQ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nQ=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,rQ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,iQ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,sQ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,oQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,aQ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lQ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uQ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cQ=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,hQ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dQ=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fQ=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pQ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,mQ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gQ=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,vQ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,yQ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_Q=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xQ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,SQ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wQ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MQ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EQ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,bQ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,TQ=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AQ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,CQ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,PQ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,At={alphahash_fragment:JY,alphahash_pars_fragment:eZ,alphamap_fragment:tZ,alphamap_pars_fragment:nZ,alphatest_fragment:rZ,alphatest_pars_fragment:iZ,aomap_fragment:sZ,aomap_pars_fragment:oZ,begin_vertex:aZ,beginnormal_vertex:lZ,bsdfs:uZ,iridescence_fragment:cZ,bumpmap_pars_fragment:hZ,clipping_planes_fragment:dZ,clipping_planes_pars_fragment:fZ,clipping_planes_pars_vertex:pZ,clipping_planes_vertex:mZ,color_fragment:gZ,color_pars_fragment:vZ,color_pars_vertex:yZ,color_vertex:_Z,common:xZ,cube_uv_reflection_fragment:SZ,defaultnormal_vertex:wZ,displacementmap_pars_vertex:MZ,displacementmap_vertex:EZ,emissivemap_fragment:bZ,emissivemap_pars_fragment:TZ,colorspace_fragment:AZ,colorspace_pars_fragment:CZ,envmap_fragment:PZ,envmap_common_pars_fragment:RZ,envmap_pars_fragment:NZ,envmap_pars_vertex:IZ,envmap_physical_pars_fragment:WZ,envmap_vertex:OZ,fog_vertex:LZ,fog_pars_vertex:DZ,fog_fragment:kZ,fog_pars_fragment:FZ,gradientmap_pars_fragment:UZ,lightmap_fragment:zZ,lightmap_pars_fragment:BZ,lights_lambert_fragment:VZ,lights_lambert_pars_fragment:jZ,lights_pars_begin:HZ,lights_toon_fragment:GZ,lights_toon_pars_fragment:$Z,lights_phong_fragment:qZ,lights_phong_pars_fragment:XZ,lights_physical_fragment:YZ,lights_physical_pars_fragment:ZZ,lights_fragment_begin:KZ,lights_fragment_maps:QZ,lights_fragment_end:JZ,logdepthbuf_fragment:eK,logdepthbuf_pars_fragment:tK,logdepthbuf_pars_vertex:nK,logdepthbuf_vertex:rK,map_fragment:iK,map_pars_fragment:sK,map_particle_fragment:oK,map_particle_pars_fragment:aK,metalnessmap_fragment:lK,metalnessmap_pars_fragment:uK,morphcolor_vertex:cK,morphnormal_vertex:hK,morphtarget_pars_vertex:dK,morphtarget_vertex:fK,normal_fragment_begin:pK,normal_fragment_maps:mK,normal_pars_fragment:gK,normal_pars_vertex:vK,normal_vertex:yK,normalmap_pars_fragment:_K,clearcoat_normal_fragment_begin:xK,clearcoat_normal_fragment_maps:SK,clearcoat_pars_fragment:wK,iridescence_pars_fragment:MK,opaque_fragment:EK,packing:bK,premultiplied_alpha_fragment:TK,project_vertex:AK,dithering_fragment:CK,dithering_pars_fragment:PK,roughnessmap_fragment:RK,roughnessmap_pars_fragment:NK,shadowmap_pars_fragment:IK,shadowmap_pars_vertex:OK,shadowmap_vertex:LK,shadowmask_pars_fragment:DK,skinbase_vertex:kK,skinning_pars_vertex:FK,skinning_vertex:UK,skinnormal_vertex:zK,specularmap_fragment:BK,specularmap_pars_fragment:VK,tonemapping_fragment:jK,tonemapping_pars_fragment:HK,transmission_fragment:WK,transmission_pars_fragment:GK,uv_pars_fragment:$K,uv_pars_vertex:qK,uv_vertex:XK,worldpos_vertex:YK,background_vert:ZK,background_frag:KK,backgroundCube_vert:QK,backgroundCube_frag:JK,cube_vert:eQ,cube_frag:tQ,depth_vert:nQ,depth_frag:rQ,distanceRGBA_vert:iQ,distanceRGBA_frag:sQ,equirect_vert:oQ,equirect_frag:aQ,linedashed_vert:lQ,linedashed_frag:uQ,meshbasic_vert:cQ,meshbasic_frag:hQ,meshlambert_vert:dQ,meshlambert_frag:fQ,meshmatcap_vert:pQ,meshmatcap_frag:mQ,meshnormal_vert:gQ,meshnormal_frag:vQ,meshphong_vert:yQ,meshphong_frag:_Q,meshphysical_vert:xQ,meshphysical_frag:SQ,meshtoon_vert:wQ,meshtoon_frag:MQ,points_vert:EQ,points_frag:bQ,shadow_vert:TQ,shadow_frag:AQ,sprite_vert:CQ,sprite_frag:PQ},$e={common:{diffuse:{value:new Ke(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Rt},alphaMap:{value:null},alphaMapTransform:{value:new Rt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Rt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Rt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Rt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Rt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Rt},normalScale:{value:new Oe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Rt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Rt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Rt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Rt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Rt},alphaTest:{value:0},uvTransform:{value:new Rt}},sprite:{diffuse:{value:new Ke(16777215)},opacity:{value:1},center:{value:new Oe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Rt},alphaMap:{value:null},alphaMapTransform:{value:new Rt},alphaTest:{value:0}}},wo={basic:{uniforms:wi([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.fog]),vertexShader:At.meshbasic_vert,fragmentShader:At.meshbasic_frag},lambert:{uniforms:wi([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new Ke(0)}}]),vertexShader:At.meshlambert_vert,fragmentShader:At.meshlambert_frag},phong:{uniforms:wi([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new Ke(0)},specular:{value:new Ke(1118481)},shininess:{value:30}}]),vertexShader:At.meshphong_vert,fragmentShader:At.meshphong_frag},standard:{uniforms:wi([$e.common,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.roughnessmap,$e.metalnessmap,$e.fog,$e.lights,{emissive:{value:new Ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag},toon:{uniforms:wi([$e.common,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.gradientmap,$e.fog,$e.lights,{emissive:{value:new Ke(0)}}]),vertexShader:At.meshtoon_vert,fragmentShader:At.meshtoon_frag},matcap:{uniforms:wi([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,{matcap:{value:null}}]),vertexShader:At.meshmatcap_vert,fragmentShader:At.meshmatcap_frag},points:{uniforms:wi([$e.points,$e.fog]),vertexShader:At.points_vert,fragmentShader:At.points_frag},dashed:{uniforms:wi([$e.common,$e.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:At.linedashed_vert,fragmentShader:At.linedashed_frag},depth:{uniforms:wi([$e.common,$e.displacementmap]),vertexShader:At.depth_vert,fragmentShader:At.depth_frag},normal:{uniforms:wi([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,{opacity:{value:1}}]),vertexShader:At.meshnormal_vert,fragmentShader:At.meshnormal_frag},sprite:{uniforms:wi([$e.sprite,$e.fog]),vertexShader:At.sprite_vert,fragmentShader:At.sprite_frag},background:{uniforms:{uvTransform:{value:new Rt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:At.background_vert,fragmentShader:At.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:At.backgroundCube_vert,fragmentShader:At.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:At.cube_vert,fragmentShader:At.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:At.equirect_vert,fragmentShader:At.equirect_frag},distanceRGBA:{uniforms:wi([$e.common,$e.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:At.distanceRGBA_vert,fragmentShader:At.distanceRGBA_frag},shadow:{uniforms:wi([$e.lights,$e.fog,{color:{value:new Ke(0)},opacity:{value:1}}]),vertexShader:At.shadow_vert,fragmentShader:At.shadow_frag}};wo.physical={uniforms:wi([wo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Rt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Rt},clearcoatNormalScale:{value:new Oe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Rt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Rt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Rt},sheen:{value:0},sheenColor:{value:new Ke(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Rt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Rt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Rt},transmissionSamplerSize:{value:new Oe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Rt},attenuationDistance:{value:0},attenuationColor:{value:new Ke(0)},specularColor:{value:new Ke(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Rt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Rt},anisotropyVector:{value:new Oe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Rt}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag};const yy={r:0,b:0,g:0};function RQ(t,e,n,r,i,s,o){const a=new Ke(0);let l=s===!0?0:1,u,c,d=null,p=0,m=null;function g(_,v){let x=!1,w=v.isScene===!0?v.background:null;switch(w&&w.isTexture&&(w=(v.backgroundBlurriness>0?n:e).get(w)),w===null?y(a,l):w&&w.isColor&&(y(w,1),x=!0),t.xr.getEnvironmentBlendMode()){case"opaque":x=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),x=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),x=!0;break}(t.autoClear||x)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.mapping===Sp)?(c===void 0&&(c=new Yr(new Gh(1,1,1),new zo({name:"BackgroundCubeMaterial",uniforms:Xf(wo.backgroundCube.uniforms),vertexShader:wo.backgroundCube.vertexShader,fragmentShader:wo.backgroundCube.fragmentShader,side:Pi,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(T,C,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=w.colorSpace!==Tt,(d!==w||p!==w.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,d=w,p=w.version,m=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new Yr(new nv(2,2),new zo({name:"BackgroundMaterial",uniforms:Xf(wo.background.uniforms),vertexShader:wo.background.vertexShader,fragmentShader:wo.background.fragmentShader,side:Al,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=w.colorSpace!==Tt,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||p!==w.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=w,p=w.version,m=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null))}function y(_,v){_.getRGB(yy,IF(t)),r.buffers.color.setClear(yy.r,yy.g,yy.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(_,v=1){a.set(_),l=v,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,y(a,l)},render:g}}function NQ(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let u=l,c=!1;function d(K,J,ne,ee,F){let j=!1;if(o){const H=y(ee,ne,J);u!==H&&(u=H,m(u.object)),j=v(K,ee,ne,F),j&&x(K,ee,ne,F)}else{const H=J.wireframe===!0;(u.geometry!==ee.id||u.program!==ne.id||u.wireframe!==H)&&(u.geometry=ee.id,u.program=ne.id,u.wireframe=H,j=!0)}F!==null&&n.update(F,t.ELEMENT_ARRAY_BUFFER),(j||c)&&(c=!1,I(K,J,ne,ee),F!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(F).buffer))}function p(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(K){return r.isWebGL2?t.bindVertexArray(K):s.bindVertexArrayOES(K)}function g(K){return r.isWebGL2?t.deleteVertexArray(K):s.deleteVertexArrayOES(K)}function y(K,J,ne){const ee=ne.wireframe===!0;let F=a[K.id];F===void 0&&(F={},a[K.id]=F);let j=F[J.id];j===void 0&&(j={},F[J.id]=j);let H=j[ee];return H===void 0&&(H=_(p()),j[ee]=H),H}function _(K){const J=[],ne=[],ee=[];for(let F=0;F<i;F++)J[F]=0,ne[F]=0,ee[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:ne,attributeDivisors:ee,object:K,attributes:{},index:null}}function v(K,J,ne,ee){const F=u.attributes,j=J.attributes;let H=0;const D=ne.getAttributes();for(const U in D)if(D[U].location>=0){const q=F[U];let te=j[U];if(te===void 0&&(U==="instanceMatrix"&&K.instanceMatrix&&(te=K.instanceMatrix),U==="instanceColor"&&K.instanceColor&&(te=K.instanceColor)),q===void 0||q.attribute!==te||te&&q.data!==te.data)return!0;H++}return u.attributesNum!==H||u.index!==ee}function x(K,J,ne,ee){const F={},j=J.attributes;let H=0;const D=ne.getAttributes();for(const U in D)if(D[U].location>=0){let q=j[U];q===void 0&&(U==="instanceMatrix"&&K.instanceMatrix&&(q=K.instanceMatrix),U==="instanceColor"&&K.instanceColor&&(q=K.instanceColor));const te={};te.attribute=q,q&&q.data&&(te.data=q.data),F[U]=te,H++}u.attributes=F,u.attributesNum=H,u.index=ee}function w(){const K=u.newAttributes;for(let J=0,ne=K.length;J<ne;J++)K[J]=0}function M(K){b(K,0)}function b(K,J){const ne=u.newAttributes,ee=u.enabledAttributes,F=u.attributeDivisors;ne[K]=1,ee[K]===0&&(t.enableVertexAttribArray(K),ee[K]=1),F[K]!==J&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](K,J),F[K]=J)}function T(){const K=u.newAttributes,J=u.enabledAttributes;for(let ne=0,ee=J.length;ne<ee;ne++)J[ne]!==K[ne]&&(t.disableVertexAttribArray(ne),J[ne]=0)}function C(K,J,ne,ee,F,j,H){H===!0?t.vertexAttribIPointer(K,J,ne,F,j):t.vertexAttribPointer(K,J,ne,ee,F,j)}function I(K,J,ne,ee){if(r.isWebGL2===!1&&(K.isInstancedMesh||ee.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const F=ee.attributes,j=ne.getAttributes(),H=J.defaultAttributeValues;for(const D in j){const U=j[D];if(U.location>=0){let Y=F[D];if(Y===void 0&&(D==="instanceMatrix"&&K.instanceMatrix&&(Y=K.instanceMatrix),D==="instanceColor"&&K.instanceColor&&(Y=K.instanceColor)),Y!==void 0){const q=Y.normalized,te=Y.itemSize,ue=n.get(Y);if(ue===void 0)continue;const Se=ue.buffer,pe=ue.type,Ge=ue.bytesPerElement,nt=r.isWebGL2===!0&&(pe===t.INT||pe===t.UNSIGNED_INT||Y.gpuType===RC);if(Y.isInterleavedBufferAttribute){const ze=Y.data,Z=ze.stride,Ne=Y.offset;if(ze.isInstancedInterleavedBuffer){for(let ye=0;ye<U.locationSize;ye++)b(U.location+ye,ze.meshPerAttribute);K.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=ze.meshPerAttribute*ze.count)}else for(let ye=0;ye<U.locationSize;ye++)M(U.location+ye);t.bindBuffer(t.ARRAY_BUFFER,Se);for(let ye=0;ye<U.locationSize;ye++)C(U.location+ye,te/U.locationSize,pe,q,Z*Ge,(Ne+te/U.locationSize*ye)*Ge,nt)}else{if(Y.isInstancedBufferAttribute){for(let ze=0;ze<U.locationSize;ze++)b(U.location+ze,Y.meshPerAttribute);K.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let ze=0;ze<U.locationSize;ze++)M(U.location+ze);t.bindBuffer(t.ARRAY_BUFFER,Se);for(let ze=0;ze<U.locationSize;ze++)C(U.location+ze,te/U.locationSize,pe,q,te*Ge,te/U.locationSize*ze*Ge,nt)}}else if(H!==void 0){const q=H[D];if(q!==void 0)switch(q.length){case 2:t.vertexAttrib2fv(U.location,q);break;case 3:t.vertexAttrib3fv(U.location,q);break;case 4:t.vertexAttrib4fv(U.location,q);break;default:t.vertexAttrib1fv(U.location,q)}}}}T()}function R(){V();for(const K in a){const J=a[K];for(const ne in J){const ee=J[ne];for(const F in ee)g(ee[F].object),delete ee[F];delete J[ne]}delete a[K]}}function N(K){if(a[K.id]===void 0)return;const J=a[K.id];for(const ne in J){const ee=J[ne];for(const F in ee)g(ee[F].object),delete ee[F];delete J[ne]}delete a[K.id]}function z(K){for(const J in a){const ne=a[J];if(ne[K.id]===void 0)continue;const ee=ne[K.id];for(const F in ee)g(ee[F].object),delete ee[F];delete ne[K.id]}}function V(){W(),c=!0,u!==l&&(u=l,m(u.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:V,resetDefaultState:W,dispose:R,releaseStatesOfGeometry:N,releaseStatesOfProgram:z,initAttributes:w,enableAttribute:M,disableUnusedAttributes:T}}function IQ(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){t.drawArrays(s,u,c),n.update(c,s,1)}function l(u,c,d){if(d===0)return;let p,m;if(i)p=t,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,c,d),n.update(c,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function OQ(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(C){if(C==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),x=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=p>0,M=o||e.has("OES_texture_float"),b=w&&M,T=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:_,maxVaryings:v,maxFragmentUniforms:x,vertexTextures:w,floatFragmentTextures:M,floatVertexTextures:b,maxSamples:T}}function LQ(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new hu,a=new Rt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||r!==0||i;return i=p,r=d.length,m},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){n=c(d,p,0)},this.setState=function(d,p,m){const g=d.clippingPlanes,y=d.clipIntersection,_=d.clipShadows,v=t.get(d);if(!i||g===null||g.length===0||s&&!_)s?c(null):u();else{const x=s?0:r,w=x*4;let M=v.clippingState||null;l.value=M,M=c(g,p,w,m);for(let b=0;b!==w;++b)M[b]=n[b];v.clippingState=M,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(d,p,m,g){const y=d!==null?d.length:0;let _=null;if(y!==0){if(_=l.value,g!==!0||_===null){const v=m+y*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(_===null||_.length<v)&&(_=new Float32Array(v));for(let w=0,M=m;w!==y;++w,M+=4)o.copy(d[w]).applyMatrix4(x,a),o.normal.toArray(_,M),_[M+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,_}}function DQ(t){let e=new WeakMap;function n(o,a){return a===Wg?o.mapping=Wu:a===Gg&&(o.mapping=Gu),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Wg||a===Gg)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new DF(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class rv extends ev{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const pf=4,zN=[.125,.215,.35,.446,.526,.582],qc=20,TE=new rv,BN=new Ke;let AE=null;const jc=(1+Math.sqrt(5))/2,Dd=1/jc,VN=[new $(1,1,1),new $(-1,1,1),new $(1,1,-1),new $(-1,1,-1),new $(0,jc,Dd),new $(0,jc,-Dd),new $(Dd,0,jc),new $(-Dd,0,jc),new $(jc,Dd,0),new $(-jc,Dd,0)];class vT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){AE=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=WN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=HN(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(AE),e.scissorTest=!1,_y(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Wu||e.mapping===Gu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),AE=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ar,minFilter:ar,generateMipmaps:!1,type:$f,format:Gi,colorSpace:Fo,depthBuffer:!1},i=jN(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=jN(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=kQ(s)),this._blurMaterial=FQ(s,e,n)}return i}_compileMaterial(e){const n=new Yr(this._lodPlanes[0],e);this._renderer.compile(n,TE)}_sceneToCubeUV(e,n,r,i){const a=new zr(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,d=c.autoClear,p=c.toneMapping;c.getClearColor(BN),c.toneMapping=Lo,c.autoClear=!1;const m=new uc({name:"PMREM.Background",side:Pi,depthWrite:!1,depthTest:!1}),g=new Yr(new Gh,m);let y=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,y=!0):(m.color.copy(BN),y=!0);for(let v=0;v<6;v++){const x=v%3;x===0?(a.up.set(0,l[v],0),a.lookAt(u[v],0,0)):x===1?(a.up.set(0,0,l[v]),a.lookAt(0,u[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,u[v]));const w=this._cubeSize;_y(i,x*w,v>2?w:0,w,w),c.setRenderTarget(i),y&&c.render(g,a),c.render(e,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=p,c.autoClear=d,e.background=_}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Wu||e.mapping===Gu;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=WN()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=HN());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Yr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;_y(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,TE)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=VN[(i-1)%VN.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,d=new Yr(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*qc-1),y=s/g,_=isFinite(s)?1+Math.floor(c*y):qc;_>qc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${qc}`);const v=[];let x=0;for(let C=0;C<qc;++C){const I=C/y,R=Math.exp(-I*I/2);v.push(R),C===0?x+=R:C<_&&(x+=2*R)}for(let C=0;C<v.length;C++)v[C]=v[C]/x;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=v,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=g,p.mipInt.value=w-r;const M=this._sizeLods[i],b=3*M*(i>w-pf?i-w+pf:0),T=4*(this._cubeSize-M);_y(n,b,T,3*M,2*M),l.setRenderTarget(n),l.render(d,TE)}}function kQ(t){const e=[],n=[],r=[];let i=t;const s=t-pf+1+zN.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-pf?l=zN[o-t+pf-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,d=1+u,p=[c,c,d,c,d,d,c,c,d,d,c,d],m=6,g=6,y=3,_=2,v=1,x=new Float32Array(y*g*m),w=new Float32Array(_*g*m),M=new Float32Array(v*g*m);for(let T=0;T<m;T++){const C=T%3*2/3-1,I=T>2?0:-1,R=[C,I,0,C+2/3,I,0,C+2/3,I+1,0,C,I,0,C+2/3,I+1,0,C,I+1,0];x.set(R,y*g*T),w.set(p,_*g*T);const N=[T,T,T,T,T,T];M.set(N,v*g*T)}const b=new It;b.setAttribute("position",new vn(x,y)),b.setAttribute("uv",new vn(w,_)),b.setAttribute("faceIndex",new vn(M,v)),e.push(b),i>pf&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function jN(t,e,n){const r=new Uo(t,e,n);return r.texture.mapping=Sp,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function _y(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function FQ(t,e,n){const r=new Float32Array(qc),i=new $(0,1,0);return new zo({name:"SphericalGaussianBlur",defines:{n:qc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:WC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:_l,depthTest:!1,depthWrite:!1})}function HN(){return new zo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:WC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:_l,depthTest:!1,depthWrite:!1})}function WN(){return new zo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:WC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:_l,depthTest:!1,depthWrite:!1})}function WC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function UQ(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Wg||l===Gg,c=l===Wu||l===Gu;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new vT(t)),d=u?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||c&&d&&i(d)){n===null&&(n=new vT(t));const p=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function zQ(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function BQ(t,e,n,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const g in p.attributes)e.remove(p.attributes[g]);for(const g in p.morphAttributes){const y=p.morphAttributes[g];for(let _=0,v=y.length;_<v;_++)e.remove(y[_])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(d){const p=d.attributes;for(const g in p)e.update(p[g],t.ARRAY_BUFFER);const m=d.morphAttributes;for(const g in m){const y=m[g];for(let _=0,v=y.length;_<v;_++)e.update(y[_],t.ARRAY_BUFFER)}}function u(d){const p=[],m=d.index,g=d.attributes.position;let y=0;if(m!==null){const x=m.array;y=m.version;for(let w=0,M=x.length;w<M;w+=3){const b=x[w+0],T=x[w+1],C=x[w+2];p.push(b,T,T,C,C,b)}}else{const x=g.array;y=g.version;for(let w=0,M=x.length/3-1;w<M;w+=3){const b=w+0,T=w+1,C=w+2;p.push(b,T,T,C,C,b)}}const _=new(RF(p)?HC:jC)(p,1);_.version=y;const v=s.get(d);v&&e.remove(v),s.set(d,_)}function c(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:c}}function VQ(t,e,n,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function c(p,m){t.drawElements(s,m,a,p*l),n.update(m,s,1)}function d(p,m,g){if(g===0)return;let y,_;if(i)y=t,_="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[_](s,m,a,p*l,g),n.update(m,s,g)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=d}function jQ(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function HQ(t,e){return t[0]-e[0]}function WQ(t,e){return Math.abs(e[1])-Math.abs(t[1])}function GQ(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new ln,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,d){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const g=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,y=g!==void 0?g.length:0;let _=s.get(c);if(_===void 0||_.count!==y){let J=function(){W.dispose(),s.delete(c),c.removeEventListener("dispose",J)};var m=J;_!==void 0&&_.texture.dispose();const w=c.morphAttributes.position!==void 0,M=c.morphAttributes.normal!==void 0,b=c.morphAttributes.color!==void 0,T=c.morphAttributes.position||[],C=c.morphAttributes.normal||[],I=c.morphAttributes.color||[];let R=0;w===!0&&(R=1),M===!0&&(R=2),b===!0&&(R=3);let N=c.attributes.position.count*R,z=1;N>e.maxTextureSize&&(z=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const V=new Float32Array(N*z*4*y),W=new HS(V,N,z,y);W.type=fa,W.needsUpdate=!0;const K=R*4;for(let ne=0;ne<y;ne++){const ee=T[ne],F=C[ne],j=I[ne],H=N*z*4*ne;for(let D=0;D<ee.count;D++){const U=D*K;w===!0&&(o.fromBufferAttribute(ee,D),V[H+U+0]=o.x,V[H+U+1]=o.y,V[H+U+2]=o.z,V[H+U+3]=0),M===!0&&(o.fromBufferAttribute(F,D),V[H+U+4]=o.x,V[H+U+5]=o.y,V[H+U+6]=o.z,V[H+U+7]=0),b===!0&&(o.fromBufferAttribute(j,D),V[H+U+8]=o.x,V[H+U+9]=o.y,V[H+U+10]=o.z,V[H+U+11]=j.itemSize===4?o.w:1)}}_={count:y,texture:W,size:new Oe(N,z)},s.set(c,_),c.addEventListener("dispose",J)}let v=0;for(let w=0;w<p.length;w++)v+=p[w];const x=c.morphTargetsRelative?1:1-v;d.getUniforms().setValue(t,"morphTargetBaseInfluence",x),d.getUniforms().setValue(t,"morphTargetInfluences",p),d.getUniforms().setValue(t,"morphTargetsTexture",_.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",_.size)}else{const g=p===void 0?0:p.length;let y=r[c.id];if(y===void 0||y.length!==g){y=[];for(let M=0;M<g;M++)y[M]=[M,0];r[c.id]=y}for(let M=0;M<g;M++){const b=y[M];b[0]=M,b[1]=p[M]}y.sort(WQ);for(let M=0;M<8;M++)M<g&&y[M][1]?(a[M][0]=y[M][0],a[M][1]=y[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(HQ);const _=c.morphAttributes.position,v=c.morphAttributes.normal;let x=0;for(let M=0;M<8;M++){const b=a[M],T=b[0],C=b[1];T!==Number.MAX_SAFE_INTEGER&&C?(_&&c.getAttribute("morphTarget"+M)!==_[T]&&c.setAttribute("morphTarget"+M,_[T]),v&&c.getAttribute("morphNormal"+M)!==v[T]&&c.setAttribute("morphNormal"+M,v[T]),i[M]=C,x+=C):(_&&c.hasAttribute("morphTarget"+M)===!0&&c.deleteAttribute("morphTarget"+M),v&&c.hasAttribute("morphNormal"+M)===!0&&c.deleteAttribute("morphNormal"+M),i[M]=0)}const w=c.morphTargetsRelative?1:1-x;d.getUniforms().setValue(t,"morphTargetBaseInfluence",w),d.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function $Q(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,d=e.get(l,c);if(i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return d}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const FF=new Kn,UF=new HS,zF=new VC,BF=new tv,GN=[],$N=[],qN=new Float32Array(16),XN=new Float32Array(9),YN=new Float32Array(4);function Mp(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=GN[i];if(s===void 0&&(s=new Float32Array(i),GN[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Cr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Pr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function GS(t,e){let n=$N[e];n===void 0&&(n=new Int32Array(e),$N[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function qQ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function XQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Cr(n,e))return;t.uniform2fv(this.addr,e),Pr(n,e)}}function YQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Cr(n,e))return;t.uniform3fv(this.addr,e),Pr(n,e)}}function ZQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Cr(n,e))return;t.uniform4fv(this.addr,e),Pr(n,e)}}function KQ(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Cr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Pr(n,e)}else{if(Cr(n,r))return;YN.set(r),t.uniformMatrix2fv(this.addr,!1,YN),Pr(n,r)}}function QQ(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Cr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Pr(n,e)}else{if(Cr(n,r))return;XN.set(r),t.uniformMatrix3fv(this.addr,!1,XN),Pr(n,r)}}function JQ(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Cr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Pr(n,e)}else{if(Cr(n,r))return;qN.set(r),t.uniformMatrix4fv(this.addr,!1,qN),Pr(n,r)}}function eJ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function tJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Cr(n,e))return;t.uniform2iv(this.addr,e),Pr(n,e)}}function nJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Cr(n,e))return;t.uniform3iv(this.addr,e),Pr(n,e)}}function rJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Cr(n,e))return;t.uniform4iv(this.addr,e),Pr(n,e)}}function iJ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function sJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Cr(n,e))return;t.uniform2uiv(this.addr,e),Pr(n,e)}}function oJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Cr(n,e))return;t.uniform3uiv(this.addr,e),Pr(n,e)}}function aJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Cr(n,e))return;t.uniform4uiv(this.addr,e),Pr(n,e)}}function lJ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||FF,i)}function uJ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||zF,i)}function cJ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||BF,i)}function hJ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||UF,i)}function dJ(t){switch(t){case 5126:return qQ;case 35664:return XQ;case 35665:return YQ;case 35666:return ZQ;case 35674:return KQ;case 35675:return QQ;case 35676:return JQ;case 5124:case 35670:return eJ;case 35667:case 35671:return tJ;case 35668:case 35672:return nJ;case 35669:case 35673:return rJ;case 5125:return iJ;case 36294:return sJ;case 36295:return oJ;case 36296:return aJ;case 35678:case 36198:case 36298:case 36306:case 35682:return lJ;case 35679:case 36299:case 36307:return uJ;case 35680:case 36300:case 36308:case 36293:return cJ;case 36289:case 36303:case 36311:case 36292:return hJ}}function fJ(t,e){t.uniform1fv(this.addr,e)}function pJ(t,e){const n=Mp(e,this.size,2);t.uniform2fv(this.addr,n)}function mJ(t,e){const n=Mp(e,this.size,3);t.uniform3fv(this.addr,n)}function gJ(t,e){const n=Mp(e,this.size,4);t.uniform4fv(this.addr,n)}function vJ(t,e){const n=Mp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function yJ(t,e){const n=Mp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function _J(t,e){const n=Mp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function xJ(t,e){t.uniform1iv(this.addr,e)}function SJ(t,e){t.uniform2iv(this.addr,e)}function wJ(t,e){t.uniform3iv(this.addr,e)}function MJ(t,e){t.uniform4iv(this.addr,e)}function EJ(t,e){t.uniform1uiv(this.addr,e)}function bJ(t,e){t.uniform2uiv(this.addr,e)}function TJ(t,e){t.uniform3uiv(this.addr,e)}function AJ(t,e){t.uniform4uiv(this.addr,e)}function CJ(t,e,n){const r=this.cache,i=e.length,s=GS(n,i);Cr(r,s)||(t.uniform1iv(this.addr,s),Pr(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||FF,s[o])}function PJ(t,e,n){const r=this.cache,i=e.length,s=GS(n,i);Cr(r,s)||(t.uniform1iv(this.addr,s),Pr(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||zF,s[o])}function RJ(t,e,n){const r=this.cache,i=e.length,s=GS(n,i);Cr(r,s)||(t.uniform1iv(this.addr,s),Pr(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||BF,s[o])}function NJ(t,e,n){const r=this.cache,i=e.length,s=GS(n,i);Cr(r,s)||(t.uniform1iv(this.addr,s),Pr(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||UF,s[o])}function IJ(t){switch(t){case 5126:return fJ;case 35664:return pJ;case 35665:return mJ;case 35666:return gJ;case 35674:return vJ;case 35675:return yJ;case 35676:return _J;case 5124:case 35670:return xJ;case 35667:case 35671:return SJ;case 35668:case 35672:return wJ;case 35669:case 35673:return MJ;case 5125:return EJ;case 36294:return bJ;case 36295:return TJ;case 36296:return AJ;case 35678:case 36198:case 36298:case 36306:case 35682:return CJ;case 35679:case 36299:case 36307:return PJ;case 35680:case 36300:case 36308:case 36293:return RJ;case 36289:case 36303:case 36311:case 36292:return NJ}}class OJ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=dJ(n.type)}}class LJ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=IJ(n.type)}}class DJ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const CE=/(\w+)(\])?(\[|\.)?/g;function ZN(t,e){t.seq.push(e),t.map[e.id]=e}function kJ(t,e,n){const r=t.name,i=r.length;for(CE.lastIndex=0;;){const s=CE.exec(r),o=CE.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){ZN(n,u===void 0?new OJ(a,t,e):new LJ(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new DJ(a),ZN(n,d)),n=d}}}class E_{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);kJ(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function KN(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let FJ=0;function UJ(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function zJ(t){switch(t){case Fo:return["Linear","( value )"];case Tt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function QN(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+UJ(t.getShaderSource(e),o)}else return i}function BJ(t,e){const n=zJ(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function VJ(t,e){let n;switch(e){case tF:n="Linear";break;case nF:n="Reinhard";break;case rF:n="OptimizedCineon";break;case CC:n="ACESFilmic";break;case iF:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function jJ(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Gm).join(`
`)}function HJ(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function WJ(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Gm(t){return t!==""}function JN(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function eI(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const GJ=/^[ \t]*#include +<([\w\d./]+)>/gm;function yT(t){return t.replace(GJ,qJ)}const $J=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function qJ(t,e){let n=At[e];if(n===void 0){const r=$J.get(e);if(r!==void 0)n=At[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return yT(n)}const XJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function tI(t){return t.replace(XJ,YJ)}function YJ(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function nI(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function ZJ(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===zS?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===og?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===go&&(e="SHADOWMAP_TYPE_VSM"),e}function KJ(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Wu:case Gu:e="ENVMAP_TYPE_CUBE";break;case Sp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function QJ(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Gu:e="ENVMAP_MODE_REFRACTION";break}return e}function JJ(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Q0:e="ENVMAP_BLENDING_MULTIPLY";break;case J7:e="ENVMAP_BLENDING_MIX";break;case eF:e="ENVMAP_BLENDING_ADD";break}return e}function eee(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function tee(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=ZJ(n),u=KJ(n),c=QJ(n),d=JJ(n),p=eee(n),m=n.isWebGL2?"":jJ(n),g=HJ(s),y=i.createProgram();let _,v,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Gm).join(`
`),_.length>0&&(_+=`
`),v=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Gm).join(`
`),v.length>0&&(v+=`
`)):(_=[nI(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Gm).join(`
`),v=[m,nI(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Lo?"#define TONE_MAPPING":"",n.toneMapping!==Lo?At.tonemapping_pars_fragment:"",n.toneMapping!==Lo?VJ("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",At.colorspace_pars_fragment,BJ("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Gm).join(`
`)),o=yT(o),o=JN(o,n),o=eI(o,n),a=yT(a),a=JN(a,n),a=eI(a,n),o=tI(o),a=tI(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,v=["#define varying in",n.glslVersion===mT?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===mT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const w=x+_+o,M=x+v+a,b=KN(i,i.VERTEX_SHADER,w),T=KN(i,i.FRAGMENT_SHADER,M);if(i.attachShader(y,b),i.attachShader(y,T),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),t.debug.checkShaderErrors){const R=i.getProgramInfoLog(y).trim(),N=i.getShaderInfoLog(b).trim(),z=i.getShaderInfoLog(T).trim();let V=!0,W=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(V=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,b,T);else{const K=QN(i,b,"vertex"),J=QN(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Program Info Log: `+R+`
`+K+`
`+J)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(N===""||z==="")&&(W=!1);W&&(this.diagnostics={runnable:V,programLog:R,vertexShader:{log:N,prefix:_},fragmentShader:{log:z,prefix:v}})}i.deleteShader(b),i.deleteShader(T);let C;this.getUniforms=function(){return C===void 0&&(C=new E_(i,y)),C};let I;return this.getAttributes=function(){return I===void 0&&(I=WJ(i,y)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=FJ++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=b,this.fragmentShader=T,this}let nee=0;class ree{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new iee(e),n.set(e,r)),r}}class iee{constructor(e){this.id=nee++,this.code=e,this.usedTimes=0}}function see(t,e,n,r,i,s,o){const a=new fh,l=new ree,u=[],c=i.isWebGL2,d=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(R){return R===0?"uv":`uv${R}`}function _(R,N,z,V,W){const K=V.fog,J=W.geometry,ne=R.isMeshStandardMaterial?V.environment:null,ee=(R.isMeshStandardMaterial?n:e).get(R.envMap||ne),F=ee&&ee.mapping===Sp?ee.image.height:null,j=g[R.type];R.precision!==null&&(m=i.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const H=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,D=H!==void 0?H.length:0;let U=0;J.morphAttributes.position!==void 0&&(U=1),J.morphAttributes.normal!==void 0&&(U=2),J.morphAttributes.color!==void 0&&(U=3);let Y,q,te,ue;if(j){const hn=wo[j];Y=hn.vertexShader,q=hn.fragmentShader}else Y=R.vertexShader,q=R.fragmentShader,l.update(R),te=l.getVertexShaderID(R),ue=l.getFragmentShaderID(R);const Se=t.getRenderTarget(),pe=W.isInstancedMesh===!0,Ge=!!R.map,nt=!!R.matcap,ze=!!ee,Z=!!R.aoMap,Ne=!!R.lightMap,ye=!!R.bumpMap,he=!!R.normalMap,de=!!R.displacementMap,De=!!R.emissiveMap,Le=!!R.metalnessMap,Ie=!!R.roughnessMap,Ve=R.anisotropy>0,it=R.clearcoat>0,ae=R.iridescence>0,B=R.sheen>0,k=R.transmission>0,le=Ve&&!!R.anisotropyMap,_e=it&&!!R.clearcoatMap,be=it&&!!R.clearcoatNormalMap,Fe=it&&!!R.clearcoatRoughnessMap,qe=ae&&!!R.iridescenceMap,He=ae&&!!R.iridescenceThicknessMap,Me=B&&!!R.sheenColorMap,st=B&&!!R.sheenRoughnessMap,ut=!!R.specularMap,ie=!!R.specularColorMap,re=!!R.specularIntensityMap,me=k&&!!R.transmissionMap,ke=k&&!!R.thicknessMap,Ye=!!R.gradientMap,Q=!!R.alphaMap,Ce=R.alphaTest>0,oe=!!R.alphaHash,xe=!!R.extensions,Ue=!!J.attributes.uv1,Qe=!!J.attributes.uv2,Ct=!!J.attributes.uv3;return{isWebGL2:c,shaderID:j,shaderType:R.type,shaderName:R.name,vertexShader:Y,fragmentShader:q,defines:R.defines,customVertexShaderID:te,customFragmentShaderID:ue,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,instancing:pe,instancingColor:pe&&W.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Se===null?t.outputColorSpace:Se.isXRRenderTarget===!0?Se.texture.colorSpace:Fo,map:Ge,matcap:nt,envMap:ze,envMapMode:ze&&ee.mapping,envMapCubeUVHeight:F,aoMap:Z,lightMap:Ne,bumpMap:ye,normalMap:he,displacementMap:p&&de,emissiveMap:De,normalMapObjectSpace:he&&R.normalMapType===_F,normalMapTangentSpace:he&&R.normalMapType===lc,metalnessMap:Le,roughnessMap:Ie,anisotropy:Ve,anisotropyMap:le,clearcoat:it,clearcoatMap:_e,clearcoatNormalMap:be,clearcoatRoughnessMap:Fe,iridescence:ae,iridescenceMap:qe,iridescenceThicknessMap:He,sheen:B,sheenColorMap:Me,sheenRoughnessMap:st,specularMap:ut,specularColorMap:ie,specularIntensityMap:re,transmission:k,transmissionMap:me,thicknessMap:ke,gradientMap:Ye,opaque:R.transparent===!1&&R.blending===hh,alphaMap:Q,alphaTest:Ce,alphaHash:oe,combine:R.combine,mapUv:Ge&&y(R.map.channel),aoMapUv:Z&&y(R.aoMap.channel),lightMapUv:Ne&&y(R.lightMap.channel),bumpMapUv:ye&&y(R.bumpMap.channel),normalMapUv:he&&y(R.normalMap.channel),displacementMapUv:de&&y(R.displacementMap.channel),emissiveMapUv:De&&y(R.emissiveMap.channel),metalnessMapUv:Le&&y(R.metalnessMap.channel),roughnessMapUv:Ie&&y(R.roughnessMap.channel),anisotropyMapUv:le&&y(R.anisotropyMap.channel),clearcoatMapUv:_e&&y(R.clearcoatMap.channel),clearcoatNormalMapUv:be&&y(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Fe&&y(R.clearcoatRoughnessMap.channel),iridescenceMapUv:qe&&y(R.iridescenceMap.channel),iridescenceThicknessMapUv:He&&y(R.iridescenceThicknessMap.channel),sheenColorMapUv:Me&&y(R.sheenColorMap.channel),sheenRoughnessMapUv:st&&y(R.sheenRoughnessMap.channel),specularMapUv:ut&&y(R.specularMap.channel),specularColorMapUv:ie&&y(R.specularColorMap.channel),specularIntensityMapUv:re&&y(R.specularIntensityMap.channel),transmissionMapUv:me&&y(R.transmissionMap.channel),thicknessMapUv:ke&&y(R.thicknessMap.channel),alphaMapUv:Q&&y(R.alphaMap.channel),vertexTangents:!!J.attributes.tangent&&(he||Ve),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,vertexUv1s:Ue,vertexUv2s:Qe,vertexUv3s:Ct,pointsUvs:W.isPoints===!0&&!!J.attributes.uv&&(Ge||Q),fog:!!K,useFog:R.fog===!0,fogExp2:K&&K.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:W.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:D,morphTextureStride:U,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&z.length>0,shadowMapType:t.shadowMap.type,toneMapping:R.toneMapped?t.toneMapping:Lo,useLegacyLights:t.useLegacyLights,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===da,flipSided:R.side===Pi,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:xe&&R.extensions.derivatives===!0,extensionFragDepth:xe&&R.extensions.fragDepth===!0,extensionDrawBuffers:xe&&R.extensions.drawBuffers===!0,extensionShaderTextureLOD:xe&&R.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}}function v(R){const N=[];if(R.shaderID?N.push(R.shaderID):(N.push(R.customVertexShaderID),N.push(R.customFragmentShaderID)),R.defines!==void 0)for(const z in R.defines)N.push(z),N.push(R.defines[z]);return R.isRawShaderMaterial===!1&&(x(N,R),w(N,R),N.push(t.outputColorSpace)),N.push(R.customProgramCacheKey),N.join()}function x(R,N){R.push(N.precision),R.push(N.outputColorSpace),R.push(N.envMapMode),R.push(N.envMapCubeUVHeight),R.push(N.mapUv),R.push(N.alphaMapUv),R.push(N.lightMapUv),R.push(N.aoMapUv),R.push(N.bumpMapUv),R.push(N.normalMapUv),R.push(N.displacementMapUv),R.push(N.emissiveMapUv),R.push(N.metalnessMapUv),R.push(N.roughnessMapUv),R.push(N.anisotropyMapUv),R.push(N.clearcoatMapUv),R.push(N.clearcoatNormalMapUv),R.push(N.clearcoatRoughnessMapUv),R.push(N.iridescenceMapUv),R.push(N.iridescenceThicknessMapUv),R.push(N.sheenColorMapUv),R.push(N.sheenRoughnessMapUv),R.push(N.specularMapUv),R.push(N.specularColorMapUv),R.push(N.specularIntensityMapUv),R.push(N.transmissionMapUv),R.push(N.thicknessMapUv),R.push(N.combine),R.push(N.fogExp2),R.push(N.sizeAttenuation),R.push(N.morphTargetsCount),R.push(N.morphAttributeCount),R.push(N.numDirLights),R.push(N.numPointLights),R.push(N.numSpotLights),R.push(N.numSpotLightMaps),R.push(N.numHemiLights),R.push(N.numRectAreaLights),R.push(N.numDirLightShadows),R.push(N.numPointLightShadows),R.push(N.numSpotLightShadows),R.push(N.numSpotLightShadowsWithMaps),R.push(N.shadowMapType),R.push(N.toneMapping),R.push(N.numClippingPlanes),R.push(N.numClipIntersection),R.push(N.depthPacking)}function w(R,N){a.disableAll(),N.isWebGL2&&a.enable(0),N.supportsVertexTextures&&a.enable(1),N.instancing&&a.enable(2),N.instancingColor&&a.enable(3),N.matcap&&a.enable(4),N.envMap&&a.enable(5),N.normalMapObjectSpace&&a.enable(6),N.normalMapTangentSpace&&a.enable(7),N.clearcoat&&a.enable(8),N.iridescence&&a.enable(9),N.alphaTest&&a.enable(10),N.vertexColors&&a.enable(11),N.vertexAlphas&&a.enable(12),N.vertexUv1s&&a.enable(13),N.vertexUv2s&&a.enable(14),N.vertexUv3s&&a.enable(15),N.vertexTangents&&a.enable(16),N.anisotropy&&a.enable(17),R.push(a.mask),a.disableAll(),N.fog&&a.enable(0),N.useFog&&a.enable(1),N.flatShading&&a.enable(2),N.logarithmicDepthBuffer&&a.enable(3),N.skinning&&a.enable(4),N.morphTargets&&a.enable(5),N.morphNormals&&a.enable(6),N.morphColors&&a.enable(7),N.premultipliedAlpha&&a.enable(8),N.shadowMapEnabled&&a.enable(9),N.useLegacyLights&&a.enable(10),N.doubleSided&&a.enable(11),N.flipSided&&a.enable(12),N.useDepthPacking&&a.enable(13),N.dithering&&a.enable(14),N.transmission&&a.enable(15),N.sheen&&a.enable(16),N.opaque&&a.enable(17),N.pointsUvs&&a.enable(18),R.push(a.mask)}function M(R){const N=g[R.type];let z;if(N){const V=wo[N];z=OF.clone(V.uniforms)}else z=R.uniforms;return z}function b(R,N){let z;for(let V=0,W=u.length;V<W;V++){const K=u[V];if(K.cacheKey===N){z=K,++z.usedTimes;break}}return z===void 0&&(z=new tee(t,N,R,s),u.push(z)),z}function T(R){if(--R.usedTimes===0){const N=u.indexOf(R);u[N]=u[u.length-1],u.pop(),R.destroy()}}function C(R){l.remove(R)}function I(){l.dispose()}return{getParameters:_,getProgramCacheKey:v,getUniforms:M,acquireProgram:b,releaseProgram:T,releaseShaderCache:C,programs:u,dispose:I}}function oee(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function aee(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function rI(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function iI(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,p,m,g,y,_){let v=t[e];return v===void 0?(v={id:d.id,object:d,geometry:p,material:m,groupOrder:g,renderOrder:d.renderOrder,z:y,group:_},t[e]=v):(v.id=d.id,v.object=d,v.geometry=p,v.material=m,v.groupOrder=g,v.renderOrder=d.renderOrder,v.z=y,v.group=_),e++,v}function a(d,p,m,g,y,_){const v=o(d,p,m,g,y,_);m.transmission>0?r.push(v):m.transparent===!0?i.push(v):n.push(v)}function l(d,p,m,g,y,_){const v=o(d,p,m,g,y,_);m.transmission>0?r.unshift(v):m.transparent===!0?i.unshift(v):n.unshift(v)}function u(d,p){n.length>1&&n.sort(d||aee),r.length>1&&r.sort(p||rI),i.length>1&&i.sort(p||rI)}function c(){for(let d=e,p=t.length;d<p;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function lee(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new iI,t.set(r,[o])):i>=s.length?(o=new iI,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function uee(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new $,color:new Ke};break;case"SpotLight":n={position:new $,direction:new $,color:new Ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new $,color:new Ke,distance:0,decay:0};break;case"HemisphereLight":n={direction:new $,skyColor:new Ke,groundColor:new Ke};break;case"RectAreaLight":n={color:new Ke,position:new $,halfWidth:new $,halfHeight:new $};break}return t[e.id]=n,n}}}function cee(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let hee=0;function dee(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function fee(t,e){const n=new uee,r=cee(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new $);const s=new $,o=new bt,a=new bt;function l(c,d){let p=0,m=0,g=0;for(let z=0;z<9;z++)i.probe[z].set(0,0,0);let y=0,_=0,v=0,x=0,w=0,M=0,b=0,T=0,C=0,I=0;c.sort(dee);const R=d===!0?Math.PI:1;for(let z=0,V=c.length;z<V;z++){const W=c[z],K=W.color,J=W.intensity,ne=W.distance,ee=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=K.r*J*R,m+=K.g*J*R,g+=K.b*J*R;else if(W.isLightProbe)for(let F=0;F<9;F++)i.probe[F].addScaledVector(W.sh.coefficients[F],J);else if(W.isDirectionalLight){const F=n.get(W);if(F.color.copy(W.color).multiplyScalar(W.intensity*R),W.castShadow){const j=W.shadow,H=r.get(W);H.shadowBias=j.bias,H.shadowNormalBias=j.normalBias,H.shadowRadius=j.radius,H.shadowMapSize=j.mapSize,i.directionalShadow[y]=H,i.directionalShadowMap[y]=ee,i.directionalShadowMatrix[y]=W.shadow.matrix,M++}i.directional[y]=F,y++}else if(W.isSpotLight){const F=n.get(W);F.position.setFromMatrixPosition(W.matrixWorld),F.color.copy(K).multiplyScalar(J*R),F.distance=ne,F.coneCos=Math.cos(W.angle),F.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),F.decay=W.decay,i.spot[v]=F;const j=W.shadow;if(W.map&&(i.spotLightMap[C]=W.map,C++,j.updateMatrices(W),W.castShadow&&I++),i.spotLightMatrix[v]=j.matrix,W.castShadow){const H=r.get(W);H.shadowBias=j.bias,H.shadowNormalBias=j.normalBias,H.shadowRadius=j.radius,H.shadowMapSize=j.mapSize,i.spotShadow[v]=H,i.spotShadowMap[v]=ee,T++}v++}else if(W.isRectAreaLight){const F=n.get(W);F.color.copy(K).multiplyScalar(J),F.halfWidth.set(W.width*.5,0,0),F.halfHeight.set(0,W.height*.5,0),i.rectArea[x]=F,x++}else if(W.isPointLight){const F=n.get(W);if(F.color.copy(W.color).multiplyScalar(W.intensity*R),F.distance=W.distance,F.decay=W.decay,W.castShadow){const j=W.shadow,H=r.get(W);H.shadowBias=j.bias,H.shadowNormalBias=j.normalBias,H.shadowRadius=j.radius,H.shadowMapSize=j.mapSize,H.shadowCameraNear=j.camera.near,H.shadowCameraFar=j.camera.far,i.pointShadow[_]=H,i.pointShadowMap[_]=ee,i.pointShadowMatrix[_]=W.shadow.matrix,b++}i.point[_]=F,_++}else if(W.isHemisphereLight){const F=n.get(W);F.skyColor.copy(W.color).multiplyScalar(J*R),F.groundColor.copy(W.groundColor).multiplyScalar(J*R),i.hemi[w]=F,w++}}x>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=$e.LTC_FLOAT_1,i.rectAreaLTC2=$e.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=$e.LTC_HALF_1,i.rectAreaLTC2=$e.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=g;const N=i.hash;(N.directionalLength!==y||N.pointLength!==_||N.spotLength!==v||N.rectAreaLength!==x||N.hemiLength!==w||N.numDirectionalShadows!==M||N.numPointShadows!==b||N.numSpotShadows!==T||N.numSpotMaps!==C)&&(i.directional.length=y,i.spot.length=v,i.rectArea.length=x,i.point.length=_,i.hemi.length=w,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=b,i.spotLightMatrix.length=T+C-I,i.spotLightMap.length=C,i.numSpotLightShadowsWithMaps=I,N.directionalLength=y,N.pointLength=_,N.spotLength=v,N.rectAreaLength=x,N.hemiLength=w,N.numDirectionalShadows=M,N.numPointShadows=b,N.numSpotShadows=T,N.numSpotMaps=C,i.version=hee++)}function u(c,d){let p=0,m=0,g=0,y=0,_=0;const v=d.matrixWorldInverse;for(let x=0,w=c.length;x<w;x++){const M=c[x];if(M.isDirectionalLight){const b=i.directional[p];b.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(v),p++}else if(M.isSpotLight){const b=i.spot[g];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(v),b.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(v),g++}else if(M.isRectAreaLight){const b=i.rectArea[y];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(v),a.identity(),o.copy(M.matrixWorld),o.premultiply(v),a.extractRotation(o),b.halfWidth.set(M.width*.5,0,0),b.halfHeight.set(0,M.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),y++}else if(M.isPointLight){const b=i.point[m];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(v),m++}else if(M.isHemisphereLight){const b=i.hemi[_];b.direction.setFromMatrixPosition(M.matrixWorld),b.direction.transformDirection(v),_++}}}return{setup:l,setupView:u,state:i}}function sI(t,e){const n=new fee(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){n.setup(r,d)}function u(d){n.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function pee(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new sI(t,e),n.set(s,[l])):o>=a.length?(l=new sI(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class GC extends Jr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=vF,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class $C extends Jr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const mee=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,gee=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function vee(t,e,n){let r=new WS;const i=new Oe,s=new Oe,o=new ln,a=new GC({depthPacking:yF}),l=new $C,u={},c=n.maxTextureSize,d={[Al]:Pi,[Pi]:Al,[da]:da},p=new zo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Oe},radius:{value:4}},vertexShader:mee,fragmentShader:gee}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new It;g.setAttribute("position",new vn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Yr(g,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=zS;let v=this.type;this.render=function(b,T,C){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||b.length===0)return;const I=t.getRenderTarget(),R=t.getActiveCubeFace(),N=t.getActiveMipmapLevel(),z=t.state;z.setBlending(_l),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const V=v!==go&&this.type===go,W=v===go&&this.type!==go;for(let K=0,J=b.length;K<J;K++){const ne=b[K],ee=ne.shadow;if(ee===void 0){console.warn("THREE.WebGLShadowMap:",ne,"has no shadow.");continue}if(ee.autoUpdate===!1&&ee.needsUpdate===!1)continue;i.copy(ee.mapSize);const F=ee.getFrameExtents();if(i.multiply(F),s.copy(ee.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/F.x),i.x=s.x*F.x,ee.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/F.y),i.y=s.y*F.y,ee.mapSize.y=s.y)),ee.map===null||V===!0||W===!0){const H=this.type!==go?{minFilter:sr,magFilter:sr}:{};ee.map!==null&&ee.map.dispose(),ee.map=new Uo(i.x,i.y,H),ee.map.texture.name=ne.name+".shadowMap",ee.camera.updateProjectionMatrix()}t.setRenderTarget(ee.map),t.clear();const j=ee.getViewportCount();for(let H=0;H<j;H++){const D=ee.getViewport(H);o.set(s.x*D.x,s.y*D.y,s.x*D.z,s.y*D.w),z.viewport(o),ee.updateMatrices(ne,H),r=ee.getFrustum(),M(T,C,ee.camera,ne,this.type)}ee.isPointLightShadow!==!0&&this.type===go&&x(ee,C),ee.needsUpdate=!1}v=this.type,_.needsUpdate=!1,t.setRenderTarget(I,R,N)};function x(b,T){const C=e.update(y);p.defines.VSM_SAMPLES!==b.blurSamples&&(p.defines.VSM_SAMPLES=b.blurSamples,m.defines.VSM_SAMPLES=b.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new Uo(i.x,i.y)),p.uniforms.shadow_pass.value=b.map.texture,p.uniforms.resolution.value=b.mapSize,p.uniforms.radius.value=b.radius,t.setRenderTarget(b.mapPass),t.clear(),t.renderBufferDirect(T,null,C,p,y,null),m.uniforms.shadow_pass.value=b.mapPass.texture,m.uniforms.resolution.value=b.mapSize,m.uniforms.radius.value=b.radius,t.setRenderTarget(b.map),t.clear(),t.renderBufferDirect(T,null,C,m,y,null)}function w(b,T,C,I){let R=null;const N=C.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(N!==void 0)R=N;else if(R=C.isPointLight===!0?l:a,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const z=R.uuid,V=T.uuid;let W=u[z];W===void 0&&(W={},u[z]=W);let K=W[V];K===void 0&&(K=R.clone(),W[V]=K),R=K}if(R.visible=T.visible,R.wireframe=T.wireframe,I===go?R.side=T.shadowSide!==null?T.shadowSide:T.side:R.side=T.shadowSide!==null?T.shadowSide:d[T.side],R.alphaMap=T.alphaMap,R.alphaTest=T.alphaTest,R.map=T.map,R.clipShadows=T.clipShadows,R.clippingPlanes=T.clippingPlanes,R.clipIntersection=T.clipIntersection,R.displacementMap=T.displacementMap,R.displacementScale=T.displacementScale,R.displacementBias=T.displacementBias,R.wireframeLinewidth=T.wireframeLinewidth,R.linewidth=T.linewidth,C.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const z=t.properties.get(R);z.light=C}return R}function M(b,T,C,I,R){if(b.visible===!1)return;if(b.layers.test(T.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&R===go)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,b.matrixWorld);const V=e.update(b),W=b.material;if(Array.isArray(W)){const K=V.groups;for(let J=0,ne=K.length;J<ne;J++){const ee=K[J],F=W[ee.materialIndex];if(F&&F.visible){const j=w(b,F,I,R);t.renderBufferDirect(C,null,V,j,b,ee)}}}else if(W.visible){const K=w(b,W,I,R);t.renderBufferDirect(C,null,V,K,b,null)}}const z=b.children;for(let V=0,W=z.length;V<W;V++)M(z[V],T,C,I,R)}}function yee(t,e,n){const r=n.isWebGL2;function i(){let Q=!1;const Ce=new ln;let oe=null;const xe=new ln(0,0,0,0);return{setMask:function(Ue){oe!==Ue&&!Q&&(t.colorMask(Ue,Ue,Ue,Ue),oe=Ue)},setLocked:function(Ue){Q=Ue},setClear:function(Ue,Qe,Ct,Ot,hn){hn===!0&&(Ue*=Ot,Qe*=Ot,Ct*=Ot),Ce.set(Ue,Qe,Ct,Ot),xe.equals(Ce)===!1&&(t.clearColor(Ue,Qe,Ct,Ot),xe.copy(Ce))},reset:function(){Q=!1,oe=null,xe.set(-1,0,0,0)}}}function s(){let Q=!1,Ce=null,oe=null,xe=null;return{setTest:function(Ue){Ue?Se(t.DEPTH_TEST):pe(t.DEPTH_TEST)},setMask:function(Ue){Ce!==Ue&&!Q&&(t.depthMask(Ue),Ce=Ue)},setFunc:function(Ue){if(oe!==Ue){switch(Ue){case $7:t.depthFunc(t.NEVER);break;case q7:t.depthFunc(t.ALWAYS);break;case X7:t.depthFunc(t.LESS);break;case vx:t.depthFunc(t.LEQUAL);break;case Y7:t.depthFunc(t.EQUAL);break;case Z7:t.depthFunc(t.GEQUAL);break;case K7:t.depthFunc(t.GREATER);break;case Q7:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}oe=Ue}},setLocked:function(Ue){Q=Ue},setClear:function(Ue){xe!==Ue&&(t.clearDepth(Ue),xe=Ue)},reset:function(){Q=!1,Ce=null,oe=null,xe=null}}}function o(){let Q=!1,Ce=null,oe=null,xe=null,Ue=null,Qe=null,Ct=null,Ot=null,hn=null;return{setTest:function(Bt){Q||(Bt?Se(t.STENCIL_TEST):pe(t.STENCIL_TEST))},setMask:function(Bt){Ce!==Bt&&!Q&&(t.stencilMask(Bt),Ce=Bt)},setFunc:function(Bt,xr,er){(oe!==Bt||xe!==xr||Ue!==er)&&(t.stencilFunc(Bt,xr,er),oe=Bt,xe=xr,Ue=er)},setOp:function(Bt,xr,er){(Qe!==Bt||Ct!==xr||Ot!==er)&&(t.stencilOp(Bt,xr,er),Qe=Bt,Ct=xr,Ot=er)},setLocked:function(Bt){Q=Bt},setClear:function(Bt){hn!==Bt&&(t.clearStencil(Bt),hn=Bt)},reset:function(){Q=!1,Ce=null,oe=null,xe=null,Ue=null,Qe=null,Ct=null,Ot=null,hn=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,d=new WeakMap;let p={},m={},g=new WeakMap,y=[],_=null,v=!1,x=null,w=null,M=null,b=null,T=null,C=null,I=null,R=!1,N=null,z=null,V=null,W=null,K=null;const J=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ne=!1,ee=0;const F=t.getParameter(t.VERSION);F.indexOf("WebGL")!==-1?(ee=parseFloat(/^WebGL (\d)/.exec(F)[1]),ne=ee>=1):F.indexOf("OpenGL ES")!==-1&&(ee=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),ne=ee>=2);let j=null,H={};const D=t.getParameter(t.SCISSOR_BOX),U=t.getParameter(t.VIEWPORT),Y=new ln().fromArray(D),q=new ln().fromArray(U);function te(Q,Ce,oe,xe){const Ue=new Uint8Array(4),Qe=t.createTexture();t.bindTexture(Q,Qe),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Ct=0;Ct<oe;Ct++)r&&(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)?t.texImage3D(Ce,0,t.RGBA,1,1,xe,0,t.RGBA,t.UNSIGNED_BYTE,Ue):t.texImage2D(Ce+Ct,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ue);return Qe}const ue={};ue[t.TEXTURE_2D]=te(t.TEXTURE_2D,t.TEXTURE_2D,1),ue[t.TEXTURE_CUBE_MAP]=te(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ue[t.TEXTURE_2D_ARRAY]=te(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ue[t.TEXTURE_3D]=te(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Se(t.DEPTH_TEST),l.setFunc(vx),de(!1),De(V3),Se(t.CULL_FACE),ye(_l);function Se(Q){p[Q]!==!0&&(t.enable(Q),p[Q]=!0)}function pe(Q){p[Q]!==!1&&(t.disable(Q),p[Q]=!1)}function Ge(Q,Ce){return m[Q]!==Ce?(t.bindFramebuffer(Q,Ce),m[Q]=Ce,r&&(Q===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=Ce),Q===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=Ce)),!0):!1}function nt(Q,Ce){let oe=y,xe=!1;if(Q)if(oe=g.get(Ce),oe===void 0&&(oe=[],g.set(Ce,oe)),Q.isWebGLMultipleRenderTargets){const Ue=Q.texture;if(oe.length!==Ue.length||oe[0]!==t.COLOR_ATTACHMENT0){for(let Qe=0,Ct=Ue.length;Qe<Ct;Qe++)oe[Qe]=t.COLOR_ATTACHMENT0+Qe;oe.length=Ue.length,xe=!0}}else oe[0]!==t.COLOR_ATTACHMENT0&&(oe[0]=t.COLOR_ATTACHMENT0,xe=!0);else oe[0]!==t.BACK&&(oe[0]=t.BACK,xe=!0);xe&&(n.isWebGL2?t.drawBuffers(oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(oe))}function ze(Q){return _!==Q?(t.useProgram(Q),_=Q,!0):!1}const Z={[$c]:t.FUNC_ADD,[D7]:t.FUNC_SUBTRACT,[k7]:t.FUNC_REVERSE_SUBTRACT};if(r)Z[W3]=t.MIN,Z[G3]=t.MAX;else{const Q=e.get("EXT_blend_minmax");Q!==null&&(Z[W3]=Q.MIN_EXT,Z[G3]=Q.MAX_EXT)}const Ne={[F7]:t.ZERO,[U7]:t.ONE,[z7]:t.SRC_COLOR,[TC]:t.SRC_ALPHA,[G7]:t.SRC_ALPHA_SATURATE,[H7]:t.DST_COLOR,[V7]:t.DST_ALPHA,[B7]:t.ONE_MINUS_SRC_COLOR,[AC]:t.ONE_MINUS_SRC_ALPHA,[W7]:t.ONE_MINUS_DST_COLOR,[j7]:t.ONE_MINUS_DST_ALPHA};function ye(Q,Ce,oe,xe,Ue,Qe,Ct,Ot){if(Q===_l){v===!0&&(pe(t.BLEND),v=!1);return}if(v===!1&&(Se(t.BLEND),v=!0),Q!==L7){if(Q!==x||Ot!==R){if((w!==$c||T!==$c)&&(t.blendEquation(t.FUNC_ADD),w=$c,T=$c),Ot)switch(Q){case hh:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case gx:t.blendFunc(t.ONE,t.ONE);break;case j3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case H3:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}else switch(Q){case hh:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case gx:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case j3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case H3:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}M=null,b=null,C=null,I=null,x=Q,R=Ot}return}Ue=Ue||Ce,Qe=Qe||oe,Ct=Ct||xe,(Ce!==w||Ue!==T)&&(t.blendEquationSeparate(Z[Ce],Z[Ue]),w=Ce,T=Ue),(oe!==M||xe!==b||Qe!==C||Ct!==I)&&(t.blendFuncSeparate(Ne[oe],Ne[xe],Ne[Qe],Ne[Ct]),M=oe,b=xe,C=Qe,I=Ct),x=Q,R=!1}function he(Q,Ce){Q.side===da?pe(t.CULL_FACE):Se(t.CULL_FACE);let oe=Q.side===Pi;Ce&&(oe=!oe),de(oe),Q.blending===hh&&Q.transparent===!1?ye(_l):ye(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst,Q.blendEquationAlpha,Q.blendSrcAlpha,Q.blendDstAlpha,Q.premultipliedAlpha),l.setFunc(Q.depthFunc),l.setTest(Q.depthTest),l.setMask(Q.depthWrite),a.setMask(Q.colorWrite);const xe=Q.stencilWrite;u.setTest(xe),xe&&(u.setMask(Q.stencilWriteMask),u.setFunc(Q.stencilFunc,Q.stencilRef,Q.stencilFuncMask),u.setOp(Q.stencilFail,Q.stencilZFail,Q.stencilZPass)),Ie(Q.polygonOffset,Q.polygonOffsetFactor,Q.polygonOffsetUnits),Q.alphaToCoverage===!0?Se(t.SAMPLE_ALPHA_TO_COVERAGE):pe(t.SAMPLE_ALPHA_TO_COVERAGE)}function de(Q){N!==Q&&(Q?t.frontFace(t.CW):t.frontFace(t.CCW),N=Q)}function De(Q){Q!==N7?(Se(t.CULL_FACE),Q!==z&&(Q===V3?t.cullFace(t.BACK):Q===I7?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):pe(t.CULL_FACE),z=Q}function Le(Q){Q!==V&&(ne&&t.lineWidth(Q),V=Q)}function Ie(Q,Ce,oe){Q?(Se(t.POLYGON_OFFSET_FILL),(W!==Ce||K!==oe)&&(t.polygonOffset(Ce,oe),W=Ce,K=oe)):pe(t.POLYGON_OFFSET_FILL)}function Ve(Q){Q?Se(t.SCISSOR_TEST):pe(t.SCISSOR_TEST)}function it(Q){Q===void 0&&(Q=t.TEXTURE0+J-1),j!==Q&&(t.activeTexture(Q),j=Q)}function ae(Q,Ce,oe){oe===void 0&&(j===null?oe=t.TEXTURE0+J-1:oe=j);let xe=H[oe];xe===void 0&&(xe={type:void 0,texture:void 0},H[oe]=xe),(xe.type!==Q||xe.texture!==Ce)&&(j!==oe&&(t.activeTexture(oe),j=oe),t.bindTexture(Q,Ce||ue[Q]),xe.type=Q,xe.texture=Ce)}function B(){const Q=H[j];Q!==void 0&&Q.type!==void 0&&(t.bindTexture(Q.type,null),Q.type=void 0,Q.texture=void 0)}function k(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function le(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function _e(){try{t.texSubImage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function be(){try{t.texSubImage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Fe(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function qe(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function He(){try{t.texStorage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Me(){try{t.texStorage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function st(){try{t.texImage2D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ut(){try{t.texImage3D.apply(t,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ie(Q){Y.equals(Q)===!1&&(t.scissor(Q.x,Q.y,Q.z,Q.w),Y.copy(Q))}function re(Q){q.equals(Q)===!1&&(t.viewport(Q.x,Q.y,Q.z,Q.w),q.copy(Q))}function me(Q,Ce){let oe=d.get(Ce);oe===void 0&&(oe=new WeakMap,d.set(Ce,oe));let xe=oe.get(Q);xe===void 0&&(xe=t.getUniformBlockIndex(Ce,Q.name),oe.set(Q,xe))}function ke(Q,Ce){const xe=d.get(Ce).get(Q);c.get(Ce)!==xe&&(t.uniformBlockBinding(Ce,xe,Q.__bindingPointIndex),c.set(Ce,xe))}function Ye(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},j=null,H={},m={},g=new WeakMap,y=[],_=null,v=!1,x=null,w=null,M=null,b=null,T=null,C=null,I=null,R=!1,N=null,z=null,V=null,W=null,K=null,Y.set(0,0,t.canvas.width,t.canvas.height),q.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Se,disable:pe,bindFramebuffer:Ge,drawBuffers:nt,useProgram:ze,setBlending:ye,setMaterial:he,setFlipSided:de,setCullFace:De,setLineWidth:Le,setPolygonOffset:Ie,setScissorTest:Ve,activeTexture:it,bindTexture:ae,unbindTexture:B,compressedTexImage2D:k,compressedTexImage3D:le,texImage2D:st,texImage3D:ut,updateUBOMapping:me,uniformBlockBinding:ke,texStorage2D:He,texStorage3D:Me,texSubImage2D:_e,texSubImage3D:be,compressedTexSubImage2D:Fe,compressedTexSubImage3D:qe,scissor:ie,viewport:re,reset:Ye}}function _ee(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,d=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let y;const _=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(B,k){return v?new OffscreenCanvas(B,k):Jg("canvas")}function w(B,k,le,_e){let be=1;if((B.width>_e||B.height>_e)&&(be=_e/Math.max(B.width,B.height)),be<1||k===!0)if(typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&B instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&B instanceof ImageBitmap){const Fe=k?xx:Math.floor,qe=Fe(be*B.width),He=Fe(be*B.height);y===void 0&&(y=x(qe,He));const Me=le?x(qe,He):y;return Me.width=qe,Me.height=He,Me.getContext("2d").drawImage(B,0,0,qe,He),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+B.width+"x"+B.height+") to ("+qe+"x"+He+")."),Me}else return"data"in B&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+B.width+"x"+B.height+")."),B;return B}function M(B){return gT(B.width)&&gT(B.height)}function b(B){return a?!1:B.wrapS!==gi||B.wrapT!==gi||B.minFilter!==sr&&B.minFilter!==ar}function T(B,k){return B.generateMipmaps&&k&&B.minFilter!==sr&&B.minFilter!==ar}function C(B){t.generateMipmap(B)}function I(B,k,le,_e,be=!1){if(a===!1)return k;if(B!==null){if(t[B]!==void 0)return t[B];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let Fe=k;return k===t.RED&&(le===t.FLOAT&&(Fe=t.R32F),le===t.HALF_FLOAT&&(Fe=t.R16F),le===t.UNSIGNED_BYTE&&(Fe=t.R8)),k===t.RG&&(le===t.FLOAT&&(Fe=t.RG32F),le===t.HALF_FLOAT&&(Fe=t.RG16F),le===t.UNSIGNED_BYTE&&(Fe=t.RG8)),k===t.RGBA&&(le===t.FLOAT&&(Fe=t.RGBA32F),le===t.HALF_FLOAT&&(Fe=t.RGBA16F),le===t.UNSIGNED_BYTE&&(Fe=_e===Tt&&be===!1?t.SRGB8_ALPHA8:t.RGBA8),le===t.UNSIGNED_SHORT_4_4_4_4&&(Fe=t.RGBA4),le===t.UNSIGNED_SHORT_5_5_5_1&&(Fe=t.RGB5_A1)),(Fe===t.R16F||Fe===t.R32F||Fe===t.RG16F||Fe===t.RG32F||Fe===t.RGBA16F||Fe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Fe}function R(B,k,le){return T(B,le)===!0||B.isFramebufferTexture&&B.minFilter!==sr&&B.minFilter!==ar?Math.log2(Math.max(k.width,k.height))+1:B.mipmaps!==void 0&&B.mipmaps.length>0?B.mipmaps.length:B.isCompressedTexture&&Array.isArray(B.image)?k.mipmaps.length:1}function N(B){return B===sr||B===yx||B===ag?t.NEAREST:t.LINEAR}function z(B){const k=B.target;k.removeEventListener("dispose",z),W(k),k.isVideoTexture&&g.delete(k)}function V(B){const k=B.target;k.removeEventListener("dispose",V),J(k)}function W(B){const k=r.get(B);if(k.__webglInit===void 0)return;const le=B.source,_e=_.get(le);if(_e){const be=_e[k.__cacheKey];be.usedTimes--,be.usedTimes===0&&K(B),Object.keys(_e).length===0&&_.delete(le)}r.remove(B)}function K(B){const k=r.get(B);t.deleteTexture(k.__webglTexture);const le=B.source,_e=_.get(le);delete _e[k.__cacheKey],o.memory.textures--}function J(B){const k=B.texture,le=r.get(B),_e=r.get(k);if(_e.__webglTexture!==void 0&&(t.deleteTexture(_e.__webglTexture),o.memory.textures--),B.depthTexture&&B.depthTexture.dispose(),B.isWebGLCubeRenderTarget)for(let be=0;be<6;be++)t.deleteFramebuffer(le.__webglFramebuffer[be]),le.__webglDepthbuffer&&t.deleteRenderbuffer(le.__webglDepthbuffer[be]);else{if(t.deleteFramebuffer(le.__webglFramebuffer),le.__webglDepthbuffer&&t.deleteRenderbuffer(le.__webglDepthbuffer),le.__webglMultisampledFramebuffer&&t.deleteFramebuffer(le.__webglMultisampledFramebuffer),le.__webglColorRenderbuffer)for(let be=0;be<le.__webglColorRenderbuffer.length;be++)le.__webglColorRenderbuffer[be]&&t.deleteRenderbuffer(le.__webglColorRenderbuffer[be]);le.__webglDepthRenderbuffer&&t.deleteRenderbuffer(le.__webglDepthRenderbuffer)}if(B.isWebGLMultipleRenderTargets)for(let be=0,Fe=k.length;be<Fe;be++){const qe=r.get(k[be]);qe.__webglTexture&&(t.deleteTexture(qe.__webglTexture),o.memory.textures--),r.remove(k[be])}r.remove(k),r.remove(B)}let ne=0;function ee(){ne=0}function F(){const B=ne;return B>=l&&console.warn("THREE.WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+l),ne+=1,B}function j(B){const k=[];return k.push(B.wrapS),k.push(B.wrapT),k.push(B.wrapR||0),k.push(B.magFilter),k.push(B.minFilter),k.push(B.anisotropy),k.push(B.internalFormat),k.push(B.format),k.push(B.type),k.push(B.generateMipmaps),k.push(B.premultiplyAlpha),k.push(B.flipY),k.push(B.unpackAlignment),k.push(B.colorSpace),k.join()}function H(B,k){const le=r.get(B);if(B.isVideoTexture&&it(B),B.isRenderTargetTexture===!1&&B.version>0&&le.__version!==B.version){const _e=B.image;if(_e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ge(le,B,k);return}}n.bindTexture(t.TEXTURE_2D,le.__webglTexture,t.TEXTURE0+k)}function D(B,k){const le=r.get(B);if(B.version>0&&le.__version!==B.version){Ge(le,B,k);return}n.bindTexture(t.TEXTURE_2D_ARRAY,le.__webglTexture,t.TEXTURE0+k)}function U(B,k){const le=r.get(B);if(B.version>0&&le.__version!==B.version){Ge(le,B,k);return}n.bindTexture(t.TEXTURE_3D,le.__webglTexture,t.TEXTURE0+k)}function Y(B,k){const le=r.get(B);if(B.version>0&&le.__version!==B.version){nt(le,B,k);return}n.bindTexture(t.TEXTURE_CUBE_MAP,le.__webglTexture,t.TEXTURE0+k)}const q={[$g]:t.REPEAT,[gi]:t.CLAMP_TO_EDGE,[qg]:t.MIRRORED_REPEAT},te={[sr]:t.NEAREST,[yx]:t.NEAREST_MIPMAP_NEAREST,[ag]:t.NEAREST_MIPMAP_LINEAR,[ar]:t.LINEAR,[PC]:t.LINEAR_MIPMAP_NEAREST,[$u]:t.LINEAR_MIPMAP_LINEAR},ue={[SF]:t.NEVER,[CF]:t.ALWAYS,[wF]:t.LESS,[EF]:t.LEQUAL,[MF]:t.EQUAL,[AF]:t.GEQUAL,[bF]:t.GREATER,[TF]:t.NOTEQUAL};function Se(B,k,le){if(le?(t.texParameteri(B,t.TEXTURE_WRAP_S,q[k.wrapS]),t.texParameteri(B,t.TEXTURE_WRAP_T,q[k.wrapT]),(B===t.TEXTURE_3D||B===t.TEXTURE_2D_ARRAY)&&t.texParameteri(B,t.TEXTURE_WRAP_R,q[k.wrapR]),t.texParameteri(B,t.TEXTURE_MAG_FILTER,te[k.magFilter]),t.texParameteri(B,t.TEXTURE_MIN_FILTER,te[k.minFilter])):(t.texParameteri(B,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(B,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(B===t.TEXTURE_3D||B===t.TEXTURE_2D_ARRAY)&&t.texParameteri(B,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(k.wrapS!==gi||k.wrapT!==gi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(B,t.TEXTURE_MAG_FILTER,N(k.magFilter)),t.texParameteri(B,t.TEXTURE_MIN_FILTER,N(k.minFilter)),k.minFilter!==sr&&k.minFilter!==ar&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),k.compareFunction&&(t.texParameteri(B,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(B,t.TEXTURE_COMPARE_FUNC,ue[k.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const _e=e.get("EXT_texture_filter_anisotropic");if(k.magFilter===sr||k.minFilter!==ag&&k.minFilter!==$u||k.type===fa&&e.has("OES_texture_float_linear")===!1||a===!1&&k.type===$f&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||r.get(k).__currentAnisotropy)&&(t.texParameterf(B,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy)}}function pe(B,k){let le=!1;B.__webglInit===void 0&&(B.__webglInit=!0,k.addEventListener("dispose",z));const _e=k.source;let be=_.get(_e);be===void 0&&(be={},_.set(_e,be));const Fe=j(k);if(Fe!==B.__cacheKey){be[Fe]===void 0&&(be[Fe]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,le=!0),be[Fe].usedTimes++;const qe=be[B.__cacheKey];qe!==void 0&&(be[B.__cacheKey].usedTimes--,qe.usedTimes===0&&K(k)),B.__cacheKey=Fe,B.__webglTexture=be[Fe].texture}return le}function Ge(B,k,le){let _e=t.TEXTURE_2D;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(_e=t.TEXTURE_2D_ARRAY),k.isData3DTexture&&(_e=t.TEXTURE_3D);const be=pe(B,k),Fe=k.source;n.bindTexture(_e,B.__webglTexture,t.TEXTURE0+le);const qe=r.get(Fe);if(Fe.version!==qe.__version||be===!0){n.activeTexture(t.TEXTURE0+le),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const He=b(k)&&M(k.image)===!1;let Me=w(k.image,He,!1,c);Me=ae(k,Me);const st=M(Me)||a,ut=s.convert(k.format,k.colorSpace);let ie=s.convert(k.type),re=I(k.internalFormat,ut,ie,k.colorSpace);Se(_e,k,st);let me;const ke=k.mipmaps,Ye=a&&k.isVideoTexture!==!0,Q=qe.__version===void 0||be===!0,Ce=R(k,Me,st);if(k.isDepthTexture)re=t.DEPTH_COMPONENT,a?k.type===fa?re=t.DEPTH_COMPONENT32F:k.type===dl?re=t.DEPTH_COMPONENT24:k.type===Iu?re=t.DEPTH24_STENCIL8:re=t.DEPTH_COMPONENT16:k.type===fa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===Ou&&re===t.DEPTH_COMPONENT&&k.type!==VS&&k.type!==dl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=dl,ie=s.convert(k.type)),k.format===Ch&&re===t.DEPTH_COMPONENT&&(re=t.DEPTH_STENCIL,k.type!==Iu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=Iu,ie=s.convert(k.type))),Q&&(Ye?n.texStorage2D(t.TEXTURE_2D,1,re,Me.width,Me.height):n.texImage2D(t.TEXTURE_2D,0,re,Me.width,Me.height,0,ut,ie,null));else if(k.isDataTexture)if(ke.length>0&&st){Ye&&Q&&n.texStorage2D(t.TEXTURE_2D,Ce,re,ke[0].width,ke[0].height);for(let oe=0,xe=ke.length;oe<xe;oe++)me=ke[oe],Ye?n.texSubImage2D(t.TEXTURE_2D,oe,0,0,me.width,me.height,ut,ie,me.data):n.texImage2D(t.TEXTURE_2D,oe,re,me.width,me.height,0,ut,ie,me.data);k.generateMipmaps=!1}else Ye?(Q&&n.texStorage2D(t.TEXTURE_2D,Ce,re,Me.width,Me.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Me.width,Me.height,ut,ie,Me.data)):n.texImage2D(t.TEXTURE_2D,0,re,Me.width,Me.height,0,ut,ie,Me.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){Ye&&Q&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ce,re,ke[0].width,ke[0].height,Me.depth);for(let oe=0,xe=ke.length;oe<xe;oe++)me=ke[oe],k.format!==Gi?ut!==null?Ye?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,oe,0,0,0,me.width,me.height,Me.depth,ut,me.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,oe,re,me.width,me.height,Me.depth,0,me.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ye?n.texSubImage3D(t.TEXTURE_2D_ARRAY,oe,0,0,0,me.width,me.height,Me.depth,ut,ie,me.data):n.texImage3D(t.TEXTURE_2D_ARRAY,oe,re,me.width,me.height,Me.depth,0,ut,ie,me.data)}else{Ye&&Q&&n.texStorage2D(t.TEXTURE_2D,Ce,re,ke[0].width,ke[0].height);for(let oe=0,xe=ke.length;oe<xe;oe++)me=ke[oe],k.format!==Gi?ut!==null?Ye?n.compressedTexSubImage2D(t.TEXTURE_2D,oe,0,0,me.width,me.height,ut,me.data):n.compressedTexImage2D(t.TEXTURE_2D,oe,re,me.width,me.height,0,me.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ye?n.texSubImage2D(t.TEXTURE_2D,oe,0,0,me.width,me.height,ut,ie,me.data):n.texImage2D(t.TEXTURE_2D,oe,re,me.width,me.height,0,ut,ie,me.data)}else if(k.isDataArrayTexture)Ye?(Q&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ce,re,Me.width,Me.height,Me.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Me.width,Me.height,Me.depth,ut,ie,Me.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,re,Me.width,Me.height,Me.depth,0,ut,ie,Me.data);else if(k.isData3DTexture)Ye?(Q&&n.texStorage3D(t.TEXTURE_3D,Ce,re,Me.width,Me.height,Me.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Me.width,Me.height,Me.depth,ut,ie,Me.data)):n.texImage3D(t.TEXTURE_3D,0,re,Me.width,Me.height,Me.depth,0,ut,ie,Me.data);else if(k.isFramebufferTexture){if(Q)if(Ye)n.texStorage2D(t.TEXTURE_2D,Ce,re,Me.width,Me.height);else{let oe=Me.width,xe=Me.height;for(let Ue=0;Ue<Ce;Ue++)n.texImage2D(t.TEXTURE_2D,Ue,re,oe,xe,0,ut,ie,null),oe>>=1,xe>>=1}}else if(ke.length>0&&st){Ye&&Q&&n.texStorage2D(t.TEXTURE_2D,Ce,re,ke[0].width,ke[0].height);for(let oe=0,xe=ke.length;oe<xe;oe++)me=ke[oe],Ye?n.texSubImage2D(t.TEXTURE_2D,oe,0,0,ut,ie,me):n.texImage2D(t.TEXTURE_2D,oe,re,ut,ie,me);k.generateMipmaps=!1}else Ye?(Q&&n.texStorage2D(t.TEXTURE_2D,Ce,re,Me.width,Me.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,ut,ie,Me)):n.texImage2D(t.TEXTURE_2D,0,re,ut,ie,Me);T(k,st)&&C(_e),qe.__version=Fe.version,k.onUpdate&&k.onUpdate(k)}B.__version=k.version}function nt(B,k,le){if(k.image.length!==6)return;const _e=pe(B,k),be=k.source;n.bindTexture(t.TEXTURE_CUBE_MAP,B.__webglTexture,t.TEXTURE0+le);const Fe=r.get(be);if(be.version!==Fe.__version||_e===!0){n.activeTexture(t.TEXTURE0+le),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const qe=k.isCompressedTexture||k.image[0].isCompressedTexture,He=k.image[0]&&k.image[0].isDataTexture,Me=[];for(let oe=0;oe<6;oe++)!qe&&!He?Me[oe]=w(k.image[oe],!1,!0,u):Me[oe]=He?k.image[oe].image:k.image[oe],Me[oe]=ae(k,Me[oe]);const st=Me[0],ut=M(st)||a,ie=s.convert(k.format,k.colorSpace),re=s.convert(k.type),me=I(k.internalFormat,ie,re,k.colorSpace),ke=a&&k.isVideoTexture!==!0,Ye=Fe.__version===void 0||_e===!0;let Q=R(k,st,ut);Se(t.TEXTURE_CUBE_MAP,k,ut);let Ce;if(qe){ke&&Ye&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Q,me,st.width,st.height);for(let oe=0;oe<6;oe++){Ce=Me[oe].mipmaps;for(let xe=0;xe<Ce.length;xe++){const Ue=Ce[xe];k.format!==Gi?ie!==null?ke?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,xe,0,0,Ue.width,Ue.height,ie,Ue.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,xe,me,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ke?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,xe,0,0,Ue.width,Ue.height,ie,re,Ue.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,xe,me,Ue.width,Ue.height,0,ie,re,Ue.data)}}}else{Ce=k.mipmaps,ke&&Ye&&(Ce.length>0&&Q++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Q,me,Me[0].width,Me[0].height));for(let oe=0;oe<6;oe++)if(He){ke?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,Me[oe].width,Me[oe].height,ie,re,Me[oe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,me,Me[oe].width,Me[oe].height,0,ie,re,Me[oe].data);for(let xe=0;xe<Ce.length;xe++){const Qe=Ce[xe].image[oe].image;ke?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,xe+1,0,0,Qe.width,Qe.height,ie,re,Qe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,xe+1,me,Qe.width,Qe.height,0,ie,re,Qe.data)}}else{ke?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,ie,re,Me[oe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,me,ie,re,Me[oe]);for(let xe=0;xe<Ce.length;xe++){const Ue=Ce[xe];ke?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,xe+1,0,0,ie,re,Ue.image[oe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,xe+1,me,ie,re,Ue.image[oe])}}}T(k,ut)&&C(t.TEXTURE_CUBE_MAP),Fe.__version=be.version,k.onUpdate&&k.onUpdate(k)}B.__version=k.version}function ze(B,k,le,_e,be){const Fe=s.convert(le.format,le.colorSpace),qe=s.convert(le.type),He=I(le.internalFormat,Fe,qe,le.colorSpace);r.get(k).__hasExternalTextures||(be===t.TEXTURE_3D||be===t.TEXTURE_2D_ARRAY?n.texImage3D(be,0,He,k.width,k.height,k.depth,0,Fe,qe,null):n.texImage2D(be,0,He,k.width,k.height,0,Fe,qe,null)),n.bindFramebuffer(t.FRAMEBUFFER,B),Ve(k)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,_e,be,r.get(le).__webglTexture,0,Ie(k)):(be===t.TEXTURE_2D||be>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&be<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,_e,be,r.get(le).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Z(B,k,le){if(t.bindRenderbuffer(t.RENDERBUFFER,B),k.depthBuffer&&!k.stencilBuffer){let _e=t.DEPTH_COMPONENT16;if(le||Ve(k)){const be=k.depthTexture;be&&be.isDepthTexture&&(be.type===fa?_e=t.DEPTH_COMPONENT32F:be.type===dl&&(_e=t.DEPTH_COMPONENT24));const Fe=Ie(k);Ve(k)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Fe,_e,k.width,k.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Fe,_e,k.width,k.height)}else t.renderbufferStorage(t.RENDERBUFFER,_e,k.width,k.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,B)}else if(k.depthBuffer&&k.stencilBuffer){const _e=Ie(k);le&&Ve(k)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,_e,t.DEPTH24_STENCIL8,k.width,k.height):Ve(k)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_e,t.DEPTH24_STENCIL8,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,k.width,k.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,B)}else{const _e=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let be=0;be<_e.length;be++){const Fe=_e[be],qe=s.convert(Fe.format,Fe.colorSpace),He=s.convert(Fe.type),Me=I(Fe.internalFormat,qe,He,Fe.colorSpace),st=Ie(k);le&&Ve(k)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,st,Me,k.width,k.height):Ve(k)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,st,Me,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,Me,k.width,k.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ne(B,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,B),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),H(k.depthTexture,0);const _e=r.get(k.depthTexture).__webglTexture,be=Ie(k);if(k.depthTexture.format===Ou)Ve(k)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,_e,0,be):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,_e,0);else if(k.depthTexture.format===Ch)Ve(k)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,_e,0,be):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,_e,0);else throw new Error("Unknown depthTexture format")}function ye(B){const k=r.get(B),le=B.isWebGLCubeRenderTarget===!0;if(B.depthTexture&&!k.__autoAllocateDepthBuffer){if(le)throw new Error("target.depthTexture not supported in Cube render targets");Ne(k.__webglFramebuffer,B)}else if(le){k.__webglDepthbuffer=[];for(let _e=0;_e<6;_e++)n.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer[_e]),k.__webglDepthbuffer[_e]=t.createRenderbuffer(),Z(k.__webglDepthbuffer[_e],B,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer=t.createRenderbuffer(),Z(k.__webglDepthbuffer,B,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function he(B,k,le){const _e=r.get(B);k!==void 0&&ze(_e.__webglFramebuffer,B,B.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),le!==void 0&&ye(B)}function de(B){const k=B.texture,le=r.get(B),_e=r.get(k);B.addEventListener("dispose",V),B.isWebGLMultipleRenderTargets!==!0&&(_e.__webglTexture===void 0&&(_e.__webglTexture=t.createTexture()),_e.__version=k.version,o.memory.textures++);const be=B.isWebGLCubeRenderTarget===!0,Fe=B.isWebGLMultipleRenderTargets===!0,qe=M(B)||a;if(be){le.__webglFramebuffer=[];for(let He=0;He<6;He++)le.__webglFramebuffer[He]=t.createFramebuffer()}else{if(le.__webglFramebuffer=t.createFramebuffer(),Fe)if(i.drawBuffers){const He=B.texture;for(let Me=0,st=He.length;Me<st;Me++){const ut=r.get(He[Me]);ut.__webglTexture===void 0&&(ut.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&B.samples>0&&Ve(B)===!1){const He=Fe?k:[k];le.__webglMultisampledFramebuffer=t.createFramebuffer(),le.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,le.__webglMultisampledFramebuffer);for(let Me=0;Me<He.length;Me++){const st=He[Me];le.__webglColorRenderbuffer[Me]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,le.__webglColorRenderbuffer[Me]);const ut=s.convert(st.format,st.colorSpace),ie=s.convert(st.type),re=I(st.internalFormat,ut,ie,st.colorSpace,B.isXRRenderTarget===!0),me=Ie(B);t.renderbufferStorageMultisample(t.RENDERBUFFER,me,re,B.width,B.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Me,t.RENDERBUFFER,le.__webglColorRenderbuffer[Me])}t.bindRenderbuffer(t.RENDERBUFFER,null),B.depthBuffer&&(le.__webglDepthRenderbuffer=t.createRenderbuffer(),Z(le.__webglDepthRenderbuffer,B,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(be){n.bindTexture(t.TEXTURE_CUBE_MAP,_e.__webglTexture),Se(t.TEXTURE_CUBE_MAP,k,qe);for(let He=0;He<6;He++)ze(le.__webglFramebuffer[He],B,k,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+He);T(k,qe)&&C(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Fe){const He=B.texture;for(let Me=0,st=He.length;Me<st;Me++){const ut=He[Me],ie=r.get(ut);n.bindTexture(t.TEXTURE_2D,ie.__webglTexture),Se(t.TEXTURE_2D,ut,qe),ze(le.__webglFramebuffer,B,ut,t.COLOR_ATTACHMENT0+Me,t.TEXTURE_2D),T(ut,qe)&&C(t.TEXTURE_2D)}n.unbindTexture()}else{let He=t.TEXTURE_2D;(B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(a?He=B.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(He,_e.__webglTexture),Se(He,k,qe),ze(le.__webglFramebuffer,B,k,t.COLOR_ATTACHMENT0,He),T(k,qe)&&C(He),n.unbindTexture()}B.depthBuffer&&ye(B)}function De(B){const k=M(B)||a,le=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let _e=0,be=le.length;_e<be;_e++){const Fe=le[_e];if(T(Fe,k)){const qe=B.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,He=r.get(Fe).__webglTexture;n.bindTexture(qe,He),C(qe),n.unbindTexture()}}}function Le(B){if(a&&B.samples>0&&Ve(B)===!1){const k=B.isWebGLMultipleRenderTargets?B.texture:[B.texture],le=B.width,_e=B.height;let be=t.COLOR_BUFFER_BIT;const Fe=[],qe=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,He=r.get(B),Me=B.isWebGLMultipleRenderTargets===!0;if(Me)for(let st=0;st<k.length;st++)n.bindFramebuffer(t.FRAMEBUFFER,He.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+st,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,He.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+st,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,He.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,He.__webglFramebuffer);for(let st=0;st<k.length;st++){Fe.push(t.COLOR_ATTACHMENT0+st),B.depthBuffer&&Fe.push(qe);const ut=He.__ignoreDepthValues!==void 0?He.__ignoreDepthValues:!1;if(ut===!1&&(B.depthBuffer&&(be|=t.DEPTH_BUFFER_BIT),B.stencilBuffer&&(be|=t.STENCIL_BUFFER_BIT)),Me&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,He.__webglColorRenderbuffer[st]),ut===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[qe]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[qe])),Me){const ie=r.get(k[st]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ie,0)}t.blitFramebuffer(0,0,le,_e,0,0,le,_e,be,t.NEAREST),m&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Fe)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Me)for(let st=0;st<k.length;st++){n.bindFramebuffer(t.FRAMEBUFFER,He.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+st,t.RENDERBUFFER,He.__webglColorRenderbuffer[st]);const ut=r.get(k[st]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,He.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+st,t.TEXTURE_2D,ut,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,He.__webglMultisampledFramebuffer)}}function Ie(B){return Math.min(d,B.samples)}function Ve(B){const k=r.get(B);return a&&B.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function it(B){const k=o.render.frame;g.get(B)!==k&&(g.set(B,k),B.update())}function ae(B,k){const le=B.colorSpace,_e=B.format,be=B.type;return B.isCompressedTexture===!0||B.format===_x||le!==Fo&&le!==Du&&(le===Tt?a===!1?e.has("EXT_sRGB")===!0&&_e===Gi?(B.format=_x,B.minFilter=ar,B.generateMipmaps=!1):k=BC.sRGBToLinear(k):(_e!==Gi||be!==xa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",le)),k}this.allocateTextureUnit=F,this.resetTextureUnits=ee,this.setTexture2D=H,this.setTexture2DArray=D,this.setTexture3D=U,this.setTextureCube=Y,this.rebindTextures=he,this.setupRenderTarget=de,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=Le,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=ze,this.useMultisampledRTT=Ve}function VF(t,e,n){const r=n.isWebGL2;function i(s,o=Du){let a;if(s===xa)return t.UNSIGNED_BYTE;if(s===NC)return t.UNSIGNED_SHORT_4_4_4_4;if(s===IC)return t.UNSIGNED_SHORT_5_5_5_1;if(s===sF)return t.BYTE;if(s===oF)return t.SHORT;if(s===VS)return t.UNSIGNED_SHORT;if(s===RC)return t.INT;if(s===dl)return t.UNSIGNED_INT;if(s===fa)return t.FLOAT;if(s===$f)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===aF)return t.ALPHA;if(s===Gi)return t.RGBA;if(s===lF)return t.LUMINANCE;if(s===uF)return t.LUMINANCE_ALPHA;if(s===Ou)return t.DEPTH_COMPONENT;if(s===Ch)return t.DEPTH_STENCIL;if(s===_x)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===cF)return t.RED;if(s===OC)return t.RED_INTEGER;if(s===hF)return t.RG;if(s===LC)return t.RG_INTEGER;if(s===DC)return t.RGBA_INTEGER;if(s===v_||s===y_||s===__||s===x_)if(o===Tt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===v_)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===y_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===__)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===x_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===v_)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===y_)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===__)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===x_)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===$3||s===q3||s===X3||s===Y3)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===$3)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===q3)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===X3)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Y3)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===dF)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Z3||s===K3)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Z3)return o===Tt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===K3)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Q3||s===J3||s===eT||s===tT||s===nT||s===rT||s===iT||s===sT||s===oT||s===aT||s===lT||s===uT||s===cT||s===hT)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Q3)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===J3)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===eT)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===tT)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===nT)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===rT)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===iT)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===sT)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===oT)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===aT)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===lT)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===uT)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===cT)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===hT)return o===Tt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===S_)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===S_)return o===Tt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===fF||s===dT||s===fT||s===pT)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===S_)return a.COMPRESSED_RED_RGTC1_EXT;if(s===dT)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===fT)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===pT)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Iu?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class jF extends zr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class mf extends en{constructor(){super(),this.isGroup=!0,this.type="Group"}}const xee={type:"move"};class PE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new mf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new mf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new mf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const y of e.hand.values()){const _=n.getJointPose(y,r),v=this._getHandJoint(u,y);_!==null&&(v.matrix.fromArray(_.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=_.radius),v.visible=_!==null}const c=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=c.position.distanceTo(d.position),m=.02,g=.005;u.inputState.pinching&&p>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(xee)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new mf;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class HF extends Kn{constructor(e,n,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:Ou,c!==Ou&&c!==Ch)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Ou&&(r=dl),r===void 0&&c===Ch&&(r=Iu),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:sr,this.minFilter=l!==void 0?l:sr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class See extends kl{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,d=null,p=null,m=null,g=null;const y=n.getContextAttributes();let _=null,v=null;const x=[],w=[],M=new zr;M.layers.enable(1),M.viewport=new ln;const b=new zr;b.layers.enable(2),b.viewport=new ln;const T=[M,b],C=new jF;C.layers.enable(1),C.layers.enable(2);let I=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(D){let U=x[D];return U===void 0&&(U=new PE,x[D]=U),U.getTargetRaySpace()},this.getControllerGrip=function(D){let U=x[D];return U===void 0&&(U=new PE,x[D]=U),U.getGripSpace()},this.getHand=function(D){let U=x[D];return U===void 0&&(U=new PE,x[D]=U),U.getHandSpace()};function N(D){const U=w.indexOf(D.inputSource);if(U===-1)return;const Y=x[U];Y!==void 0&&(Y.update(D.inputSource,D.frame,u||o),Y.dispatchEvent({type:D.type,data:D.inputSource}))}function z(){i.removeEventListener("select",N),i.removeEventListener("selectstart",N),i.removeEventListener("selectend",N),i.removeEventListener("squeeze",N),i.removeEventListener("squeezestart",N),i.removeEventListener("squeezeend",N),i.removeEventListener("end",z),i.removeEventListener("inputsourceschange",V);for(let D=0;D<x.length;D++){const U=w[D];U!==null&&(w[D]=null,x[D].disconnect(U))}I=null,R=null,e.setRenderTarget(_),m=null,p=null,d=null,i=null,v=null,H.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(D){s=D,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(D){a=D,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(D){u=D},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(D){if(i=D,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",N),i.addEventListener("selectstart",N),i.addEventListener("selectend",N),i.addEventListener("squeeze",N),i.addEventListener("squeezestart",N),i.addEventListener("squeezeend",N),i.addEventListener("end",z),i.addEventListener("inputsourceschange",V),y.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const U={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,U),i.updateRenderState({baseLayer:m}),v=new Uo(m.framebufferWidth,m.framebufferHeight,{format:Gi,type:xa,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let U=null,Y=null,q=null;y.depth&&(q=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,U=y.stencil?Ch:Ou,Y=y.stencil?Iu:dl);const te={colorFormat:n.RGBA8,depthFormat:q,scaleFactor:s};d=new XRWebGLBinding(i,n),p=d.createProjectionLayer(te),i.updateRenderState({layers:[p]}),v=new Uo(p.textureWidth,p.textureHeight,{format:Gi,type:xa,depthTexture:new HF(p.textureWidth,p.textureHeight,Y,void 0,void 0,void 0,void 0,void 0,void 0,U),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const ue=e.properties.get(v);ue.__ignoreDepthValues=p.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),H.setContext(i),H.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function V(D){for(let U=0;U<D.removed.length;U++){const Y=D.removed[U],q=w.indexOf(Y);q>=0&&(w[q]=null,x[q].disconnect(Y))}for(let U=0;U<D.added.length;U++){const Y=D.added[U];let q=w.indexOf(Y);if(q===-1){for(let ue=0;ue<x.length;ue++)if(ue>=w.length){w.push(Y),q=ue;break}else if(w[ue]===null){w[ue]=Y,q=ue;break}if(q===-1)break}const te=x[q];te&&te.connect(Y)}}const W=new $,K=new $;function J(D,U,Y){W.setFromMatrixPosition(U.matrixWorld),K.setFromMatrixPosition(Y.matrixWorld);const q=W.distanceTo(K),te=U.projectionMatrix.elements,ue=Y.projectionMatrix.elements,Se=te[14]/(te[10]-1),pe=te[14]/(te[10]+1),Ge=(te[9]+1)/te[5],nt=(te[9]-1)/te[5],ze=(te[8]-1)/te[0],Z=(ue[8]+1)/ue[0],Ne=Se*ze,ye=Se*Z,he=q/(-ze+Z),de=he*-ze;U.matrixWorld.decompose(D.position,D.quaternion,D.scale),D.translateX(de),D.translateZ(he),D.matrixWorld.compose(D.position,D.quaternion,D.scale),D.matrixWorldInverse.copy(D.matrixWorld).invert();const De=Se+he,Le=pe+he,Ie=Ne-de,Ve=ye+(q-de),it=Ge*pe/Le*De,ae=nt*pe/Le*De;D.projectionMatrix.makePerspective(Ie,Ve,it,ae,De,Le),D.projectionMatrixInverse.copy(D.projectionMatrix).invert()}function ne(D,U){U===null?D.matrixWorld.copy(D.matrix):D.matrixWorld.multiplyMatrices(U.matrixWorld,D.matrix),D.matrixWorldInverse.copy(D.matrixWorld).invert()}this.updateCamera=function(D){if(i===null)return;C.near=b.near=M.near=D.near,C.far=b.far=M.far=D.far,(I!==C.near||R!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),I=C.near,R=C.far);const U=D.parent,Y=C.cameras;ne(C,U);for(let q=0;q<Y.length;q++)ne(Y[q],U);Y.length===2?J(C,M,b):C.projectionMatrix.copy(M.projectionMatrix),ee(D,C,U)};function ee(D,U,Y){Y===null?D.matrix.copy(U.matrixWorld):(D.matrix.copy(Y.matrixWorld),D.matrix.invert(),D.matrix.multiply(U.matrixWorld)),D.matrix.decompose(D.position,D.quaternion,D.scale),D.updateMatrixWorld(!0);const q=D.children;for(let te=0,ue=q.length;te<ue;te++)q[te].updateMatrixWorld(!0);D.projectionMatrix.copy(U.projectionMatrix),D.projectionMatrixInverse.copy(U.projectionMatrixInverse),D.isPerspectiveCamera&&(D.fov=qf*2*Math.atan(1/D.projectionMatrix.elements[5]),D.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(D){l=D,p!==null&&(p.fixedFoveation=D),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=D)};let F=null;function j(D,U){if(c=U.getViewerPose(u||o),g=U,c!==null){const Y=c.views;m!==null&&(e.setRenderTargetFramebuffer(v,m.framebuffer),e.setRenderTarget(v));let q=!1;Y.length!==C.cameras.length&&(C.cameras.length=0,q=!0);for(let te=0;te<Y.length;te++){const ue=Y[te];let Se=null;if(m!==null)Se=m.getViewport(ue);else{const Ge=d.getViewSubImage(p,ue);Se=Ge.viewport,te===0&&(e.setRenderTargetTextures(v,Ge.colorTexture,p.ignoreDepthValues?void 0:Ge.depthStencilTexture),e.setRenderTarget(v))}let pe=T[te];pe===void 0&&(pe=new zr,pe.layers.enable(te),pe.viewport=new ln,T[te]=pe),pe.matrix.fromArray(ue.transform.matrix),pe.matrix.decompose(pe.position,pe.quaternion,pe.scale),pe.projectionMatrix.fromArray(ue.projectionMatrix),pe.projectionMatrixInverse.copy(pe.projectionMatrix).invert(),pe.viewport.set(Se.x,Se.y,Se.width,Se.height),te===0&&(C.matrix.copy(pe.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),q===!0&&C.cameras.push(pe)}}for(let Y=0;Y<x.length;Y++){const q=w[Y],te=x[Y];q!==null&&te!==void 0&&te.update(q,U,u||o)}F&&F(D,U),U.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:U}),g=null}const H=new kF;H.setAnimationLoop(j),this.setAnimationLoop=function(D){F=D},this.dispose=function(){}}}function wee(t,e){function n(_,v){_.matrixAutoUpdate===!0&&_.updateMatrix(),v.value.copy(_.matrix)}function r(_,v){v.color.getRGB(_.fogColor.value,IF(t)),v.isFog?(_.fogNear.value=v.near,_.fogFar.value=v.far):v.isFogExp2&&(_.fogDensity.value=v.density)}function i(_,v,x,w,M){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(_,v):v.isMeshToonMaterial?(s(_,v),d(_,v)):v.isMeshPhongMaterial?(s(_,v),c(_,v)):v.isMeshStandardMaterial?(s(_,v),p(_,v),v.isMeshPhysicalMaterial&&m(_,v,M)):v.isMeshMatcapMaterial?(s(_,v),g(_,v)):v.isMeshDepthMaterial?s(_,v):v.isMeshDistanceMaterial?(s(_,v),y(_,v)):v.isMeshNormalMaterial?s(_,v):v.isLineBasicMaterial?(o(_,v),v.isLineDashedMaterial&&a(_,v)):v.isPointsMaterial?l(_,v,x,w):v.isSpriteMaterial?u(_,v):v.isShadowMaterial?(_.color.value.copy(v.color),_.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(_,v){_.opacity.value=v.opacity,v.color&&_.diffuse.value.copy(v.color),v.emissive&&_.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(_.map.value=v.map,n(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,n(v.alphaMap,_.alphaMapTransform)),v.bumpMap&&(_.bumpMap.value=v.bumpMap,n(v.bumpMap,_.bumpMapTransform),_.bumpScale.value=v.bumpScale,v.side===Pi&&(_.bumpScale.value*=-1)),v.normalMap&&(_.normalMap.value=v.normalMap,n(v.normalMap,_.normalMapTransform),_.normalScale.value.copy(v.normalScale),v.side===Pi&&_.normalScale.value.negate()),v.displacementMap&&(_.displacementMap.value=v.displacementMap,n(v.displacementMap,_.displacementMapTransform),_.displacementScale.value=v.displacementScale,_.displacementBias.value=v.displacementBias),v.emissiveMap&&(_.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,_.emissiveMapTransform)),v.specularMap&&(_.specularMap.value=v.specularMap,n(v.specularMap,_.specularMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest);const x=e.get(v).envMap;if(x&&(_.envMap.value=x,_.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=v.reflectivity,_.ior.value=v.ior,_.refractionRatio.value=v.refractionRatio),v.lightMap){_.lightMap.value=v.lightMap;const w=t.useLegacyLights===!0?Math.PI:1;_.lightMapIntensity.value=v.lightMapIntensity*w,n(v.lightMap,_.lightMapTransform)}v.aoMap&&(_.aoMap.value=v.aoMap,_.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,_.aoMapTransform))}function o(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,v.map&&(_.map.value=v.map,n(v.map,_.mapTransform))}function a(_,v){_.dashSize.value=v.dashSize,_.totalSize.value=v.dashSize+v.gapSize,_.scale.value=v.scale}function l(_,v,x,w){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.size.value=v.size*x,_.scale.value=w*.5,v.map&&(_.map.value=v.map,n(v.map,_.uvTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,n(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function u(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.rotation.value=v.rotation,v.map&&(_.map.value=v.map,n(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,n(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function c(_,v){_.specular.value.copy(v.specular),_.shininess.value=Math.max(v.shininess,1e-4)}function d(_,v){v.gradientMap&&(_.gradientMap.value=v.gradientMap)}function p(_,v){_.metalness.value=v.metalness,v.metalnessMap&&(_.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,_.metalnessMapTransform)),_.roughness.value=v.roughness,v.roughnessMap&&(_.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,_.roughnessMapTransform)),e.get(v).envMap&&(_.envMapIntensity.value=v.envMapIntensity)}function m(_,v,x){_.ior.value=v.ior,v.sheen>0&&(_.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),_.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(_.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,_.sheenColorMapTransform)),v.sheenRoughnessMap&&(_.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,_.sheenRoughnessMapTransform))),v.clearcoat>0&&(_.clearcoat.value=v.clearcoat,_.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(_.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,_.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(_.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Pi&&_.clearcoatNormalScale.value.negate())),v.iridescence>0&&(_.iridescence.value=v.iridescence,_.iridescenceIOR.value=v.iridescenceIOR,_.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(_.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,_.iridescenceMapTransform)),v.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),v.transmission>0&&(_.transmission.value=v.transmission,_.transmissionSamplerMap.value=x.texture,_.transmissionSamplerSize.value.set(x.width,x.height),v.transmissionMap&&(_.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,_.transmissionMapTransform)),_.thickness.value=v.thickness,v.thicknessMap&&(_.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=v.attenuationDistance,_.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(_.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(_.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=v.specularIntensity,_.specularColor.value.copy(v.specularColor),v.specularColorMap&&(_.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,_.specularColorMapTransform)),v.specularIntensityMap&&(_.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,_.specularIntensityMapTransform))}function g(_,v){v.matcap&&(_.matcap.value=v.matcap)}function y(_,v){const x=e.get(v).light;_.referencePosition.value.setFromMatrixPosition(x.matrixWorld),_.nearDistance.value=x.shadow.camera.near,_.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Mee(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,w){const M=w.program;r.uniformBlockBinding(x,M)}function u(x,w){let M=i[x.id];M===void 0&&(g(x),M=c(x),i[x.id]=M,x.addEventListener("dispose",_));const b=w.program;r.updateUBOMapping(x,b);const T=e.render.frame;s[x.id]!==T&&(p(x),s[x.id]=T)}function c(x){const w=d();x.__bindingPointIndex=w;const M=t.createBuffer(),b=x.__size,T=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,b,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,M),M}function d(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const w=i[x.id],M=x.uniforms,b=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let T=0,C=M.length;T<C;T++){const I=M[T];if(m(I,T,b)===!0){const R=I.__offset,N=Array.isArray(I.value)?I.value:[I.value];let z=0;for(let V=0;V<N.length;V++){const W=N[V],K=y(W);typeof W=="number"?(I.__data[0]=W,t.bufferSubData(t.UNIFORM_BUFFER,R+z,I.__data)):W.isMatrix3?(I.__data[0]=W.elements[0],I.__data[1]=W.elements[1],I.__data[2]=W.elements[2],I.__data[3]=W.elements[0],I.__data[4]=W.elements[3],I.__data[5]=W.elements[4],I.__data[6]=W.elements[5],I.__data[7]=W.elements[0],I.__data[8]=W.elements[6],I.__data[9]=W.elements[7],I.__data[10]=W.elements[8],I.__data[11]=W.elements[0]):(W.toArray(I.__data,z),z+=K.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,R,I.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(x,w,M){const b=x.value;if(M[w]===void 0){if(typeof b=="number")M[w]=b;else{const T=Array.isArray(b)?b:[b],C=[];for(let I=0;I<T.length;I++)C.push(T[I].clone());M[w]=C}return!0}else if(typeof b=="number"){if(M[w]!==b)return M[w]=b,!0}else{const T=Array.isArray(M[w])?M[w]:[M[w]],C=Array.isArray(b)?b:[b];for(let I=0;I<T.length;I++){const R=T[I];if(R.equals(C[I])===!1)return R.copy(C[I]),!0}}return!1}function g(x){const w=x.uniforms;let M=0;const b=16;let T=0;for(let C=0,I=w.length;C<I;C++){const R=w[C],N={boundary:0,storage:0},z=Array.isArray(R.value)?R.value:[R.value];for(let V=0,W=z.length;V<W;V++){const K=z[V],J=y(K);N.boundary+=J.boundary,N.storage+=J.storage}if(R.__data=new Float32Array(N.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=M,C>0){T=M%b;const V=b-T;T!==0&&V-N.boundary<0&&(M+=b-T,R.__offset=M)}M+=N.storage}return T=M%b,T>0&&(M+=b-T),x.__size=M,x.__cache={},this}function y(x){const w={boundary:0,storage:0};return typeof x=="number"?(w.boundary=4,w.storage=4):x.isVector2?(w.boundary=8,w.storage=8):x.isVector3||x.isColor?(w.boundary=16,w.storage=12):x.isVector4?(w.boundary=16,w.storage=16):x.isMatrix3?(w.boundary=48,w.storage=48):x.isMatrix4?(w.boundary=64,w.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),w}function _(x){const w=x.target;w.removeEventListener("dispose",_);const M=o.indexOf(w.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function v(){for(const x in i)t.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:u,dispose:v}}function Eee(){const t=Jg("canvas");return t.style.display="block",t}class qC{constructor(e={}){const{canvas:n=Eee(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),g=new Int32Array(4);let y=null,_=null;const v=[],x=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Tt,this.useLegacyLights=!0,this.toneMapping=Lo,this.toneMappingExposure=1;const w=this;let M=!1,b=0,T=0,C=null,I=-1,R=null;const N=new ln,z=new ln;let V=null;const W=new Ke(0);let K=0,J=n.width,ne=n.height,ee=1,F=null,j=null;const H=new ln(0,0,J,ne),D=new ln(0,0,J,ne);let U=!1;const Y=new WS;let q=!1,te=!1,ue=null;const Se=new bt,pe=new Oe,Ge=new $,nt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ze(){return C===null?ee:1}let Z=r;function Ne(G,ge){for(let Te=0;Te<G.length;Te++){const fe=G[Te],Ae=n.getContext(fe,ge);if(Ae!==null)return Ae}return null}try{const G={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${US}`),n.addEventListener("webglcontextlost",Ce,!1),n.addEventListener("webglcontextrestored",oe,!1),n.addEventListener("webglcontextcreationerror",xe,!1),Z===null){const ge=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&ge.shift(),Z=Ne(ge,G),Z===null)throw Ne(ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Z instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Z.getShaderPrecisionFormat===void 0&&(Z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(G){throw console.error("THREE.WebGLRenderer: "+G.message),G}let ye,he,de,De,Le,Ie,Ve,it,ae,B,k,le,_e,be,Fe,qe,He,Me,st,ut,ie,re,me,ke;function Ye(){ye=new zQ(Z),he=new OQ(Z,ye,e),ye.init(he),re=new VF(Z,ye,he),de=new yee(Z,ye,he),De=new jQ(Z),Le=new oee,Ie=new _ee(Z,ye,de,Le,he,re,De),Ve=new DQ(w),it=new UQ(w),ae=new QY(Z,he),me=new NQ(Z,ye,ae,he),B=new BQ(Z,ae,De,me),k=new $Q(Z,B,ae,De),st=new GQ(Z,he,Ie),qe=new LQ(Le),le=new see(w,Ve,it,ye,he,me,qe),_e=new wee(w,Le),be=new lee,Fe=new pee(ye,he),Me=new RQ(w,Ve,it,de,k,p,l),He=new vee(w,k,he),ke=new Mee(Z,De,he,de),ut=new IQ(Z,ye,De,he),ie=new VQ(Z,ye,De,he),De.programs=le.programs,w.capabilities=he,w.extensions=ye,w.properties=Le,w.renderLists=be,w.shadowMap=He,w.state=de,w.info=De}Ye();const Q=new See(w,Z);this.xr=Q,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const G=ye.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=ye.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(G){G!==void 0&&(ee=G,this.setSize(J,ne,!1))},this.getSize=function(G){return G.set(J,ne)},this.setSize=function(G,ge,Te=!0){if(Q.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}J=G,ne=ge,n.width=Math.floor(G*ee),n.height=Math.floor(ge*ee),Te===!0&&(n.style.width=G+"px",n.style.height=ge+"px"),this.setViewport(0,0,G,ge)},this.getDrawingBufferSize=function(G){return G.set(J*ee,ne*ee).floor()},this.setDrawingBufferSize=function(G,ge,Te){J=G,ne=ge,ee=Te,n.width=Math.floor(G*Te),n.height=Math.floor(ge*Te),this.setViewport(0,0,G,ge)},this.getCurrentViewport=function(G){return G.copy(N)},this.getViewport=function(G){return G.copy(H)},this.setViewport=function(G,ge,Te,fe){G.isVector4?H.set(G.x,G.y,G.z,G.w):H.set(G,ge,Te,fe),de.viewport(N.copy(H).multiplyScalar(ee).floor())},this.getScissor=function(G){return G.copy(D)},this.setScissor=function(G,ge,Te,fe){G.isVector4?D.set(G.x,G.y,G.z,G.w):D.set(G,ge,Te,fe),de.scissor(z.copy(D).multiplyScalar(ee).floor())},this.getScissorTest=function(){return U},this.setScissorTest=function(G){de.setScissorTest(U=G)},this.setOpaqueSort=function(G){F=G},this.setTransparentSort=function(G){j=G},this.getClearColor=function(G){return G.copy(Me.getClearColor())},this.setClearColor=function(){Me.setClearColor.apply(Me,arguments)},this.getClearAlpha=function(){return Me.getClearAlpha()},this.setClearAlpha=function(){Me.setClearAlpha.apply(Me,arguments)},this.clear=function(G=!0,ge=!0,Te=!0){let fe=0;if(G){let Ae=!1;if(C!==null){const et=C.texture.format;Ae=et===DC||et===LC||et===OC}if(Ae){const et=C.texture.type,ht=et===xa||et===dl||et===VS||et===Iu||et===NC||et===IC,pt=Me.getClearColor(),mt=Me.getClearAlpha(),Lt=pt.r,gt=pt.g,vt=pt.b;ht?(m[0]=Lt,m[1]=gt,m[2]=vt,m[3]=mt,Z.clearBufferuiv(Z.COLOR,0,m)):(g[0]=Lt,g[1]=gt,g[2]=vt,g[3]=mt,Z.clearBufferiv(Z.COLOR,0,g))}else fe|=Z.COLOR_BUFFER_BIT}ge&&(fe|=Z.DEPTH_BUFFER_BIT),Te&&(fe|=Z.STENCIL_BUFFER_BIT),Z.clear(fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ce,!1),n.removeEventListener("webglcontextrestored",oe,!1),n.removeEventListener("webglcontextcreationerror",xe,!1),be.dispose(),Fe.dispose(),Le.dispose(),Ve.dispose(),it.dispose(),k.dispose(),me.dispose(),ke.dispose(),le.dispose(),Q.dispose(),Q.removeEventListener("sessionstart",Bt),Q.removeEventListener("sessionend",xr),ue&&(ue.dispose(),ue=null),er.stop()};function Ce(G){G.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function oe(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const G=De.autoReset,ge=He.enabled,Te=He.autoUpdate,fe=He.needsUpdate,Ae=He.type;Ye(),De.autoReset=G,He.enabled=ge,He.autoUpdate=Te,He.needsUpdate=fe,He.type=Ae}function xe(G){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function Ue(G){const ge=G.target;ge.removeEventListener("dispose",Ue),Qe(ge)}function Qe(G){Ct(G),Le.remove(G)}function Ct(G){const ge=Le.get(G).programs;ge!==void 0&&(ge.forEach(function(Te){le.releaseProgram(Te)}),G.isShaderMaterial&&le.releaseShaderCache(G))}this.renderBufferDirect=function(G,ge,Te,fe,Ae,et){ge===null&&(ge=nt);const ht=Ae.isMesh&&Ae.matrixWorld.determinant()<0,pt=dn(G,ge,Te,fe,Ae);de.setMaterial(fe,ht);let mt=Te.index,Lt=1;fe.wireframe===!0&&(mt=B.getWireframeAttribute(Te),Lt=2);const gt=Te.drawRange,vt=Te.attributes.position;let yn=gt.start*Lt,Mn=(gt.start+gt.count)*Lt;et!==null&&(yn=Math.max(yn,et.start*Lt),Mn=Math.min(Mn,(et.start+et.count)*Lt)),mt!==null?(yn=Math.max(yn,0),Mn=Math.min(Mn,mt.count)):vt!=null&&(yn=Math.max(yn,0),Mn=Math.min(Mn,vt.count));const ts=Mn-yn;if(ts<0||ts===1/0)return;me.setup(Ae,fe,pt,Te,mt);let ns,mn=ut;if(mt!==null&&(ns=ae.get(mt),mn=ie,mn.setIndex(ns)),Ae.isMesh)fe.wireframe===!0?(de.setLineWidth(fe.wireframeLinewidth*ze()),mn.setMode(Z.LINES)):mn.setMode(Z.TRIANGLES);else if(Ae.isLine){let St=fe.linewidth;St===void 0&&(St=1),de.setLineWidth(St*ze()),Ae.isLineSegments?mn.setMode(Z.LINES):Ae.isLineLoop?mn.setMode(Z.LINE_LOOP):mn.setMode(Z.LINE_STRIP)}else Ae.isPoints?mn.setMode(Z.POINTS):Ae.isSprite&&mn.setMode(Z.TRIANGLES);if(Ae.isInstancedMesh)mn.renderInstances(yn,ts,Ae.count);else if(Te.isInstancedBufferGeometry){const St=Te._maxInstanceCount!==void 0?Te._maxInstanceCount:1/0,an=Math.min(Te.instanceCount,St);mn.renderInstances(yn,ts,an)}else mn.render(yn,ts)},this.compile=function(G,ge){function Te(fe,Ae,et){fe.transparent===!0&&fe.side===da&&fe.forceSinglePass===!1?(fe.side=Pi,fe.needsUpdate=!0,ki(fe,Ae,et),fe.side=Al,fe.needsUpdate=!0,ki(fe,Ae,et),fe.side=da):ki(fe,Ae,et)}_=Fe.get(G),_.init(),x.push(_),G.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ge.layers)&&(_.pushLight(fe),fe.castShadow&&_.pushShadow(fe))}),_.setupLights(w.useLegacyLights),G.traverse(function(fe){const Ae=fe.material;if(Ae)if(Array.isArray(Ae))for(let et=0;et<Ae.length;et++){const ht=Ae[et];Te(ht,G,fe)}else Te(Ae,G,fe)}),x.pop(),_=null};let Ot=null;function hn(G){Ot&&Ot(G)}function Bt(){er.stop()}function xr(){er.start()}const er=new kF;er.setAnimationLoop(hn),typeof self<"u"&&er.setContext(self),this.setAnimationLoop=function(G){Ot=G,Q.setAnimationLoop(G),G===null?er.stop():er.start()},Q.addEventListener("sessionstart",Bt),Q.addEventListener("sessionend",xr),this.render=function(G,ge){if(ge!==void 0&&ge.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),ge.parent===null&&ge.matrixWorldAutoUpdate===!0&&ge.updateMatrixWorld(),Q.enabled===!0&&Q.isPresenting===!0&&(Q.cameraAutoUpdate===!0&&Q.updateCamera(ge),ge=Q.getCamera()),G.isScene===!0&&G.onBeforeRender(w,G,ge,C),_=Fe.get(G,x.length),_.init(),x.push(_),Se.multiplyMatrices(ge.projectionMatrix,ge.matrixWorldInverse),Y.setFromProjectionMatrix(Se),te=this.localClippingEnabled,q=qe.init(this.clippingPlanes,te),y=be.get(G,v.length),y.init(),v.push(y),Fa(G,ge,0,w.sortObjects),y.finish(),w.sortObjects===!0&&y.sort(F,j),this.info.render.frame++,q===!0&&qe.beginShadows();const Te=_.state.shadowsArray;if(He.render(Te,G,ge),q===!0&&qe.endShadows(),this.info.autoReset===!0&&this.info.reset(),Me.render(y,G),_.setupLights(w.useLegacyLights),ge.isArrayCamera){const fe=ge.cameras;for(let Ae=0,et=fe.length;Ae<et;Ae++){const ht=fe[Ae];Di(y,G,ht,ht.viewport)}}else Di(y,G,ge);C!==null&&(Ie.updateMultisampleRenderTarget(C),Ie.updateRenderTargetMipmap(C)),G.isScene===!0&&G.onAfterRender(w,G,ge),me.resetDefaultState(),I=-1,R=null,x.pop(),x.length>0?_=x[x.length-1]:_=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Fa(G,ge,Te,fe){if(G.visible===!1)return;if(G.layers.test(ge.layers)){if(G.isGroup)Te=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(ge);else if(G.isLight)_.pushLight(G),G.castShadow&&_.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||Y.intersectsSprite(G)){fe&&Ge.setFromMatrixPosition(G.matrixWorld).applyMatrix4(Se);const ht=k.update(G),pt=G.material;pt.visible&&y.push(G,ht,pt,Te,Ge.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||Y.intersectsObject(G))){const ht=k.update(G),pt=G.material;if(fe&&(G.boundingSphere!==void 0?(G.boundingSphere===null&&G.computeBoundingSphere(),Ge.copy(G.boundingSphere.center)):(ht.boundingSphere===null&&ht.computeBoundingSphere(),Ge.copy(ht.boundingSphere.center)),Ge.applyMatrix4(G.matrixWorld).applyMatrix4(Se)),Array.isArray(pt)){const mt=ht.groups;for(let Lt=0,gt=mt.length;Lt<gt;Lt++){const vt=mt[Lt],yn=pt[vt.materialIndex];yn&&yn.visible&&y.push(G,ht,yn,Te,Ge.z,vt)}}else pt.visible&&y.push(G,ht,pt,Te,Ge.z,null)}}const et=G.children;for(let ht=0,pt=et.length;ht<pt;ht++)Fa(et[ht],ge,Te,fe)}function Di(G,ge,Te,fe){const Ae=G.opaque,et=G.transmissive,ht=G.transparent;_.setupLightsView(Te),q===!0&&qe.setGlobalState(w.clippingPlanes,Te),et.length>0&&Ua(Ae,et,ge,Te),fe&&de.viewport(N.copy(fe)),Ae.length>0&&Is(Ae,ge,Te),et.length>0&&Is(et,ge,Te),ht.length>0&&Is(ht,ge,Te),de.buffers.depth.setTest(!0),de.buffers.depth.setMask(!0),de.buffers.color.setMask(!0),de.setPolygonOffset(!1)}function Ua(G,ge,Te,fe){const Ae=he.isWebGL2;ue===null&&(ue=new Uo(1,1,{generateMipmaps:!0,type:ye.has("EXT_color_buffer_half_float")?$f:xa,minFilter:$u,samples:Ae?4:0})),w.getDrawingBufferSize(pe),Ae?ue.setSize(pe.x,pe.y):ue.setSize(xx(pe.x),xx(pe.y));const et=w.getRenderTarget();w.setRenderTarget(ue),w.getClearColor(W),K=w.getClearAlpha(),K<1&&w.setClearColor(16777215,.5),w.clear();const ht=w.toneMapping;w.toneMapping=Lo,Is(G,Te,fe),Ie.updateMultisampleRenderTarget(ue),Ie.updateRenderTargetMipmap(ue);let pt=!1;for(let mt=0,Lt=ge.length;mt<Lt;mt++){const gt=ge[mt],vt=gt.object,yn=gt.geometry,Mn=gt.material,ts=gt.group;if(Mn.side===da&&vt.layers.test(fe.layers)){const ns=Mn.side;Mn.side=Pi,Mn.needsUpdate=!0,Hl(vt,Te,fe,yn,Mn,ts),Mn.side=ns,Mn.needsUpdate=!0,pt=!0}}pt===!0&&(Ie.updateMultisampleRenderTarget(ue),Ie.updateRenderTargetMipmap(ue)),w.setRenderTarget(et),w.setClearColor(W,K),w.toneMapping=ht}function Is(G,ge,Te){const fe=ge.isScene===!0?ge.overrideMaterial:null;for(let Ae=0,et=G.length;Ae<et;Ae++){const ht=G[Ae],pt=ht.object,mt=ht.geometry,Lt=fe===null?ht.material:fe,gt=ht.group;pt.layers.test(Te.layers)&&Hl(pt,ge,Te,mt,Lt,gt)}}function Hl(G,ge,Te,fe,Ae,et){G.onBeforeRender(w,ge,Te,fe,Ae,et),G.modelViewMatrix.multiplyMatrices(Te.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),Ae.onBeforeRender(w,ge,Te,fe,G,et),Ae.transparent===!0&&Ae.side===da&&Ae.forceSinglePass===!1?(Ae.side=Pi,Ae.needsUpdate=!0,w.renderBufferDirect(Te,ge,fe,Ae,G,et),Ae.side=Al,Ae.needsUpdate=!0,w.renderBufferDirect(Te,ge,fe,Ae,G,et),Ae.side=da):w.renderBufferDirect(Te,ge,fe,Ae,G,et),G.onAfterRender(w,ge,Te,fe,Ae,et)}function ki(G,ge,Te){ge.isScene!==!0&&(ge=nt);const fe=Le.get(G),Ae=_.state.lights,et=_.state.shadowsArray,ht=Ae.state.version,pt=le.getParameters(G,Ae.state,et,ge,Te),mt=le.getProgramCacheKey(pt);let Lt=fe.programs;fe.environment=G.isMeshStandardMaterial?ge.environment:null,fe.fog=ge.fog,fe.envMap=(G.isMeshStandardMaterial?it:Ve).get(G.envMap||fe.environment),Lt===void 0&&(G.addEventListener("dispose",Ue),Lt=new Map,fe.programs=Lt);let gt=Lt.get(mt);if(gt!==void 0){if(fe.currentProgram===gt&&fe.lightsStateVersion===ht)return za(G,pt),gt}else pt.uniforms=le.getUniforms(G),G.onBuild(Te,pt,w),G.onBeforeCompile(pt,w),gt=le.acquireProgram(pt,mt),Lt.set(mt,gt),fe.uniforms=pt.uniforms;const vt=fe.uniforms;(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(vt.clippingPlanes=qe.uniform),za(G,pt),fe.needsLights=Jo(G),fe.lightsStateVersion=ht,fe.needsLights&&(vt.ambientLightColor.value=Ae.state.ambient,vt.lightProbe.value=Ae.state.probe,vt.directionalLights.value=Ae.state.directional,vt.directionalLightShadows.value=Ae.state.directionalShadow,vt.spotLights.value=Ae.state.spot,vt.spotLightShadows.value=Ae.state.spotShadow,vt.rectAreaLights.value=Ae.state.rectArea,vt.ltc_1.value=Ae.state.rectAreaLTC1,vt.ltc_2.value=Ae.state.rectAreaLTC2,vt.pointLights.value=Ae.state.point,vt.pointLightShadows.value=Ae.state.pointShadow,vt.hemisphereLights.value=Ae.state.hemi,vt.directionalShadowMap.value=Ae.state.directionalShadowMap,vt.directionalShadowMatrix.value=Ae.state.directionalShadowMatrix,vt.spotShadowMap.value=Ae.state.spotShadowMap,vt.spotLightMatrix.value=Ae.state.spotLightMatrix,vt.spotLightMap.value=Ae.state.spotLightMap,vt.pointShadowMap.value=Ae.state.pointShadowMap,vt.pointShadowMatrix.value=Ae.state.pointShadowMatrix);const yn=gt.getUniforms(),Mn=E_.seqWithValue(yn.seq,vt);return fe.currentProgram=gt,fe.uniformsList=Mn,gt}function za(G,ge){const Te=Le.get(G);Te.outputColorSpace=ge.outputColorSpace,Te.instancing=ge.instancing,Te.skinning=ge.skinning,Te.morphTargets=ge.morphTargets,Te.morphNormals=ge.morphNormals,Te.morphColors=ge.morphColors,Te.morphTargetsCount=ge.morphTargetsCount,Te.numClippingPlanes=ge.numClippingPlanes,Te.numIntersection=ge.numClipIntersection,Te.vertexAlphas=ge.vertexAlphas,Te.vertexTangents=ge.vertexTangents,Te.toneMapping=ge.toneMapping}function dn(G,ge,Te,fe,Ae){ge.isScene!==!0&&(ge=nt),Ie.resetTextureUnits();const et=ge.fog,ht=fe.isMeshStandardMaterial?ge.environment:null,pt=C===null?w.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:Fo,mt=(fe.isMeshStandardMaterial?it:Ve).get(fe.envMap||ht),Lt=fe.vertexColors===!0&&!!Te.attributes.color&&Te.attributes.color.itemSize===4,gt=!!Te.attributes.tangent&&(!!fe.normalMap||fe.anisotropy>0),vt=!!Te.morphAttributes.position,yn=!!Te.morphAttributes.normal,Mn=!!Te.morphAttributes.color,ts=fe.toneMapped?w.toneMapping:Lo,ns=Te.morphAttributes.position||Te.morphAttributes.normal||Te.morphAttributes.color,mn=ns!==void 0?ns.length:0,St=Le.get(fe),an=_.state.lights;if(q===!0&&(te===!0||G!==R)){const ii=G===R&&fe.id===I;qe.setState(fe,G,ii)}let xt=!1;fe.version===St.__version?(St.needsLights&&St.lightsStateVersion!==an.state.version||St.outputColorSpace!==pt||Ae.isInstancedMesh&&St.instancing===!1||!Ae.isInstancedMesh&&St.instancing===!0||Ae.isSkinnedMesh&&St.skinning===!1||!Ae.isSkinnedMesh&&St.skinning===!0||St.envMap!==mt||fe.fog===!0&&St.fog!==et||St.numClippingPlanes!==void 0&&(St.numClippingPlanes!==qe.numPlanes||St.numIntersection!==qe.numIntersection)||St.vertexAlphas!==Lt||St.vertexTangents!==gt||St.morphTargets!==vt||St.morphNormals!==yn||St.morphColors!==Mn||St.toneMapping!==ts||he.isWebGL2===!0&&St.morphTargetsCount!==mn)&&(xt=!0):(xt=!0,St.__version=fe.version);let ri=St.currentProgram;xt===!0&&(ri=ki(fe,ge,Ae));let Sr=!1,dr=!1,io=!1;const Wn=ri.getUniforms(),Gn=St.uniforms;if(de.useProgram(ri.program)&&(Sr=!0,dr=!0,io=!0),fe.id!==I&&(I=fe.id,dr=!0),Sr||R!==G){if(Wn.setValue(Z,"projectionMatrix",G.projectionMatrix),he.logarithmicDepthBuffer&&Wn.setValue(Z,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),R!==G&&(R=G,dr=!0,io=!0),fe.isShaderMaterial||fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshStandardMaterial||fe.envMap){const ii=Wn.map.cameraPosition;ii!==void 0&&ii.setValue(Z,Ge.setFromMatrixPosition(G.matrixWorld))}(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial)&&Wn.setValue(Z,"isOrthographic",G.isOrthographicCamera===!0),(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial||fe.isShadowMaterial||Ae.isSkinnedMesh)&&Wn.setValue(Z,"viewMatrix",G.matrixWorldInverse)}if(Ae.isSkinnedMesh){Wn.setOptional(Z,Ae,"bindMatrix"),Wn.setOptional(Z,Ae,"bindMatrixInverse");const ii=Ae.skeleton;ii&&(he.floatVertexTextures?(ii.boneTexture===null&&ii.computeBoneTexture(),Wn.setValue(Z,"boneTexture",ii.boneTexture,Ie),Wn.setValue(Z,"boneTextureSize",ii.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Wl=Te.morphAttributes;if((Wl.position!==void 0||Wl.normal!==void 0||Wl.color!==void 0&&he.isWebGL2===!0)&&st.update(Ae,Te,ri),(dr||St.receiveShadow!==Ae.receiveShadow)&&(St.receiveShadow=Ae.receiveShadow,Wn.setValue(Z,"receiveShadow",Ae.receiveShadow)),fe.isMeshGouraudMaterial&&fe.envMap!==null&&(Gn.envMap.value=mt,Gn.flipEnvMap.value=mt.isCubeTexture&&mt.isRenderTargetTexture===!1?-1:1),dr&&(Wn.setValue(Z,"toneMappingExposure",w.toneMappingExposure),St.needsLights&&ni(Gn,io),et&&fe.fog===!0&&_e.refreshFogUniforms(Gn,et),_e.refreshMaterialUniforms(Gn,fe,ee,ne,ue),E_.upload(Z,St.uniformsList,Gn,Ie)),fe.isShaderMaterial&&fe.uniformsNeedUpdate===!0&&(E_.upload(Z,St.uniformsList,Gn,Ie),fe.uniformsNeedUpdate=!1),fe.isSpriteMaterial&&Wn.setValue(Z,"center",Ae.center),Wn.setValue(Z,"modelViewMatrix",Ae.modelViewMatrix),Wn.setValue(Z,"normalMatrix",Ae.normalMatrix),Wn.setValue(Z,"modelMatrix",Ae.matrixWorld),fe.isShaderMaterial||fe.isRawShaderMaterial){const ii=fe.uniformsGroups;for(let sd=0,od=ii.length;sd<od;sd++)if(he.isWebGL2){const zp=ii[sd];ke.update(zp,ri),ke.bind(zp,ri)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ri}function ni(G,ge){G.ambientLightColor.needsUpdate=ge,G.lightProbe.needsUpdate=ge,G.directionalLights.needsUpdate=ge,G.directionalLightShadows.needsUpdate=ge,G.pointLights.needsUpdate=ge,G.pointLightShadows.needsUpdate=ge,G.spotLights.needsUpdate=ge,G.spotLightShadows.needsUpdate=ge,G.rectAreaLights.needsUpdate=ge,G.hemisphereLights.needsUpdate=ge}function Jo(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(G,ge,Te){Le.get(G.texture).__webglTexture=ge,Le.get(G.depthTexture).__webglTexture=Te;const fe=Le.get(G);fe.__hasExternalTextures=!0,fe.__hasExternalTextures&&(fe.__autoAllocateDepthBuffer=Te===void 0,fe.__autoAllocateDepthBuffer||ye.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),fe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(G,ge){const Te=Le.get(G);Te.__webglFramebuffer=ge,Te.__useDefaultFramebuffer=ge===void 0},this.setRenderTarget=function(G,ge=0,Te=0){C=G,b=ge,T=Te;let fe=!0,Ae=null,et=!1,ht=!1;if(G){const mt=Le.get(G);mt.__useDefaultFramebuffer!==void 0?(de.bindFramebuffer(Z.FRAMEBUFFER,null),fe=!1):mt.__webglFramebuffer===void 0?Ie.setupRenderTarget(G):mt.__hasExternalTextures&&Ie.rebindTextures(G,Le.get(G.texture).__webglTexture,Le.get(G.depthTexture).__webglTexture);const Lt=G.texture;(Lt.isData3DTexture||Lt.isDataArrayTexture||Lt.isCompressedArrayTexture)&&(ht=!0);const gt=Le.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(Ae=gt[ge],et=!0):he.isWebGL2&&G.samples>0&&Ie.useMultisampledRTT(G)===!1?Ae=Le.get(G).__webglMultisampledFramebuffer:Ae=gt,N.copy(G.viewport),z.copy(G.scissor),V=G.scissorTest}else N.copy(H).multiplyScalar(ee).floor(),z.copy(D).multiplyScalar(ee).floor(),V=U;if(de.bindFramebuffer(Z.FRAMEBUFFER,Ae)&&he.drawBuffers&&fe&&de.drawBuffers(G,Ae),de.viewport(N),de.scissor(z),de.setScissorTest(V),et){const mt=Le.get(G.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+ge,mt.__webglTexture,Te)}else if(ht){const mt=Le.get(G.texture),Lt=ge||0;Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,mt.__webglTexture,Te||0,Lt)}I=-1},this.readRenderTargetPixels=function(G,ge,Te,fe,Ae,et,ht){if(!(G&&G.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pt=Le.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&ht!==void 0&&(pt=pt[ht]),pt){de.bindFramebuffer(Z.FRAMEBUFFER,pt);try{const mt=G.texture,Lt=mt.format,gt=mt.type;if(Lt!==Gi&&re.convert(Lt)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const vt=gt===$f&&(ye.has("EXT_color_buffer_half_float")||he.isWebGL2&&ye.has("EXT_color_buffer_float"));if(gt!==xa&&re.convert(gt)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_TYPE)&&!(gt===fa&&(he.isWebGL2||ye.has("OES_texture_float")||ye.has("WEBGL_color_buffer_float")))&&!vt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ge>=0&&ge<=G.width-fe&&Te>=0&&Te<=G.height-Ae&&Z.readPixels(ge,Te,fe,Ae,re.convert(Lt),re.convert(gt),et)}finally{const mt=C!==null?Le.get(C).__webglFramebuffer:null;de.bindFramebuffer(Z.FRAMEBUFFER,mt)}}},this.copyFramebufferToTexture=function(G,ge,Te=0){const fe=Math.pow(2,-Te),Ae=Math.floor(ge.image.width*fe),et=Math.floor(ge.image.height*fe);Ie.setTexture2D(ge,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,Te,0,0,G.x,G.y,Ae,et),de.unbindTexture()},this.copyTextureToTexture=function(G,ge,Te,fe=0){const Ae=ge.image.width,et=ge.image.height,ht=re.convert(Te.format),pt=re.convert(Te.type);Ie.setTexture2D(Te,0),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,Te.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Te.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,Te.unpackAlignment),ge.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,fe,G.x,G.y,Ae,et,ht,pt,ge.image.data):ge.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,fe,G.x,G.y,ge.mipmaps[0].width,ge.mipmaps[0].height,ht,ge.mipmaps[0].data):Z.texSubImage2D(Z.TEXTURE_2D,fe,G.x,G.y,ht,pt,ge.image),fe===0&&Te.generateMipmaps&&Z.generateMipmap(Z.TEXTURE_2D),de.unbindTexture()},this.copyTextureToTexture3D=function(G,ge,Te,fe,Ae=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const et=G.max.x-G.min.x+1,ht=G.max.y-G.min.y+1,pt=G.max.z-G.min.z+1,mt=re.convert(fe.format),Lt=re.convert(fe.type);let gt;if(fe.isData3DTexture)Ie.setTexture3D(fe,0),gt=Z.TEXTURE_3D;else if(fe.isDataArrayTexture)Ie.setTexture2DArray(fe,0),gt=Z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,fe.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,fe.unpackAlignment);const vt=Z.getParameter(Z.UNPACK_ROW_LENGTH),yn=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),Mn=Z.getParameter(Z.UNPACK_SKIP_PIXELS),ts=Z.getParameter(Z.UNPACK_SKIP_ROWS),ns=Z.getParameter(Z.UNPACK_SKIP_IMAGES),mn=Te.isCompressedTexture?Te.mipmaps[0]:Te.image;Z.pixelStorei(Z.UNPACK_ROW_LENGTH,mn.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,mn.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,G.min.x),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,G.min.y),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,G.min.z),Te.isDataTexture||Te.isData3DTexture?Z.texSubImage3D(gt,Ae,ge.x,ge.y,ge.z,et,ht,pt,mt,Lt,mn.data):Te.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Z.compressedTexSubImage3D(gt,Ae,ge.x,ge.y,ge.z,et,ht,pt,mt,mn.data)):Z.texSubImage3D(gt,Ae,ge.x,ge.y,ge.z,et,ht,pt,mt,Lt,mn),Z.pixelStorei(Z.UNPACK_ROW_LENGTH,vt),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,yn),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,Mn),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,ts),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,ns),Ae===0&&fe.generateMipmaps&&Z.generateMipmap(gt),de.unbindTexture()},this.initTexture=function(G){G.isCubeTexture?Ie.setTextureCube(G,0):G.isData3DTexture?Ie.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?Ie.setTexture2DArray(G,0):Ie.setTexture2D(G,0),de.unbindTexture()},this.resetState=function(){b=0,T=0,C=null,de.reset(),me.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return pa}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Tt?Lu:FC}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Lu?Tt:Fo}}class WF extends qC{}WF.prototype.isWebGL1Renderer=!0;class $S{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ke(e),this.density=n}clone(){return new $S(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class qS{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ke(e),this.near=n,this.far=r}clone(){return new qS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Sx extends en{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class XS{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Kg,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ss()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ss()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ss()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Si=new $;class Ph{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Si.fromBufferAttribute(this,n),Si.applyMatrix4(e),this.setXYZ(n,Si.x,Si.y,Si.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Si.fromBufferAttribute(this,n),Si.applyNormalMatrix(e),this.setXYZ(n,Si.x,Si.y,Si.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Si.fromBufferAttribute(this,n),Si.transformDirection(e),this.setXYZ(n,Si.x,Si.y,Si.z);return this}setX(e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ms(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ms(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ms(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ms(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array),i=Nt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Nt(n,this.array),r=Nt(r,this.array),i=Nt(i,this.array),s=Nt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new vn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ph(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class XC extends Jr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let kd;const Sm=new $,Fd=new $,Ud=new $,zd=new Oe,wm=new Oe,GF=new bt,xy=new $,Mm=new $,Sy=new $,oI=new Oe,RE=new Oe,aI=new Oe;class $F extends en{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",kd===void 0){kd=new It;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new XS(n,5);kd.setIndex([0,1,2,0,2,3]),kd.setAttribute("position",new Ph(r,3,0,!1)),kd.setAttribute("uv",new Ph(r,2,3,!1))}this.geometry=kd,this.material=e!==void 0?e:new XC,this.center=new Oe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fd.setFromMatrixScale(this.matrixWorld),GF.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ud.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fd.multiplyScalar(-Ud.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;wy(xy.set(-.5,-.5,0),Ud,o,Fd,i,s),wy(Mm.set(.5,-.5,0),Ud,o,Fd,i,s),wy(Sy.set(.5,.5,0),Ud,o,Fd,i,s),oI.set(0,0),RE.set(1,0),aI.set(1,1);let a=e.ray.intersectTriangle(xy,Mm,Sy,!1,Sm);if(a===null&&(wy(Mm.set(-.5,.5,0),Ud,o,Fd,i,s),RE.set(0,1),a=e.ray.intersectTriangle(xy,Sy,Mm,!1,Sm),a===null))return;const l=e.ray.origin.distanceTo(Sm);l<e.near||l>e.far||n.push({distance:l,point:Sm.clone(),uv:Hi.getInterpolation(Sm,xy,Mm,Sy,oI,RE,aI,new Oe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function wy(t,e,n,r,i,s){zd.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(wm.x=s*zd.x-i*zd.y,wm.y=i*zd.x+s*zd.y):wm.copy(zd),t.copy(e),t.x+=wm.x,t.y+=wm.y,t.applyMatrix4(GF)}const My=new $,lI=new $;class qF extends en{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){My.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(My);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){My.setFromMatrixPosition(e.matrixWorld),lI.setFromMatrixPosition(this.matrixWorld);const r=My.distanceTo(lI)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const uI=new $,cI=new ln,hI=new ln,bee=new $,dI=new bt,Bd=new $,NE=new $o,fI=new bt,IE=new wp;class XF extends Yr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new bt,this.bindMatrixInverse=new bt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Pa),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Bd.fromBufferAttribute(n,r),this.applyBoneTransform(r,Bd),this.boundingBox.expandByPoint(Bd)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new $o),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Bd.fromBufferAttribute(n,r),this.applyBoneTransform(r,Bd),this.boundingSphere.expandByPoint(Bd)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),NE.copy(this.boundingSphere),NE.applyMatrix4(i),e.ray.intersectsSphere(NE)!==!1&&(fI.copy(i).invert(),IE.copy(e.ray).applyMatrix4(fI),!(this.boundingBox!==null&&IE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,IE)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ln,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;cI.fromBufferAttribute(i.attributes.skinIndex,e),hI.fromBufferAttribute(i.attributes.skinWeight,e),uI.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=hI.getComponent(s);if(o!==0){const a=cI.getComponent(s);dI.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(bee.copy(uI).applyMatrix4(dI),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class YC extends en{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Pf extends Kn{constructor(e=null,n=1,r=1,i,s,o,a,l,u=sr,c=sr,d,p){super(null,o,a,l,u,c,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const pI=new bt,Tee=new bt;class YS{constructor(e=[],n=[]){this.uuid=Ss(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new bt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new bt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Tee;pI.multiplyMatrices(a,n[s]),pI.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new YS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=PF(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Pf(n,e,e,Gi,fa);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new YC),this.bones.push(o),this.boneInverses.push(new bt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Yf extends vn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Vd=new bt,mI=new bt,Ey=[],gI=new Pa,Aee=new bt,Em=new Yr,bm=new $o;class YF extends Yr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Yf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Aee)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Pa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Vd),gI.copy(e.boundingBox).applyMatrix4(Vd),this.boundingBox.union(gI)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new $o),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Vd),bm.copy(e.boundingSphere).applyMatrix4(Vd),this.boundingSphere.union(bm)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Em.geometry=this.geometry,Em.material=this.material,Em.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),bm.copy(this.boundingSphere),bm.applyMatrix4(r),e.ray.intersectsSphere(bm)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Vd),mI.multiplyMatrices(r,Vd),Em.matrixWorld=mI,Em.raycast(e,Ey);for(let o=0,a=Ey.length;o<a;o++){const l=Ey[o];l.instanceId=s,l.object=this,n.push(l)}Ey.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Yf(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Oi extends Jr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ke(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const vI=new $,yI=new $,_I=new bt,OE=new wp,by=new $o;class qu extends en{constructor(e=new It,n=new Oi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)vI.fromBufferAttribute(n,i-1),yI.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=vI.distanceTo(yI);e.setAttribute("lineDistance",new rt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),by.copy(r.boundingSphere),by.applyMatrix4(i),by.radius+=s,e.ray.intersectsSphere(by)===!1)return;_I.copy(i).invert(),OE.copy(e.ray).applyMatrix4(_I);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new $,c=new $,d=new $,p=new $,m=this.isLineSegments?2:1,g=r.index,_=r.attributes.position;if(g!==null){const v=Math.max(0,o.start),x=Math.min(g.count,o.start+o.count);for(let w=v,M=x-1;w<M;w+=m){const b=g.getX(w),T=g.getX(w+1);if(u.fromBufferAttribute(_,b),c.fromBufferAttribute(_,T),OE.distanceSqToSegment(u,c,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(p);I<e.near||I>e.far||n.push({distance:I,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),x=Math.min(_.count,o.start+o.count);for(let w=v,M=x-1;w<M;w+=m){if(u.fromBufferAttribute(_,w),c.fromBufferAttribute(_,w+1),OE.distanceSqToSegment(u,c,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||n.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const xI=new $,SI=new $;class Ra extends qu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)xI.fromBufferAttribute(n,i),SI.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+xI.distanceTo(SI);e.setAttribute("lineDistance",new rt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ZF extends qu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class ZC extends Jr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const wI=new bt,_T=new wp,Ty=new $o,Ay=new $;class KF extends en{constructor(e=new It,n=new ZC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Ty.copy(r.boundingSphere),Ty.applyMatrix4(i),Ty.radius+=s,e.ray.intersectsSphere(Ty)===!1)return;wI.copy(i).invert(),_T.copy(e.ray).applyMatrix4(wI);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,d=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=p,y=m;g<y;g++){const _=u.getX(g);Ay.fromBufferAttribute(d,_),MI(Ay,_,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let g=p,y=m;g<y;g++)Ay.fromBufferAttribute(d,g),MI(Ay,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function MI(t,e,n,r,i,s,o){const a=_T.distanceSqToPoint(t);if(a<n){const l=new $;_T.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Cee extends Kn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:ar,this.magFilter=s!==void 0?s:ar,this.generateMipmaps=!1;const c=this;function d(){c.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Pee extends Kn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=sr,this.minFilter=sr,this.generateMipmaps=!1,this.needsUpdate=!0}}class KC extends Kn{constructor(e,n,r,i,s,o,a,l,u,c,d,p){super(null,o,a,l,u,c,i,s,d,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Ree extends KC{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=gi}}class Nee extends Kn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class qo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],p=r[i+1]-c,m=(o-c)/p;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Oe:new $);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new $,i=[],s=[],o=[],a=new $,l=new bt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new $)}s[0]=new $,o[0]=new $;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Yn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Yn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ZS extends qo{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Oe,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*c-m*d+this.aX,u=p*d+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class QF extends ZS{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function QC(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,d){let p=(o-s)/u-(a-s)/(u+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+d)+(l-a)/d;p*=c,m*=c,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const Cy=new $,LE=new QC,DE=new QC,kE=new QC;class JF extends qo{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new $){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(Cy.subVectors(i[0],i[1]).add(i[0]),u=Cy);const d=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(Cy.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=Cy),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(c),m);y<1e-4&&(y=1),g<1e-4&&(g=y),_<1e-4&&(_=y),LE.initNonuniformCatmullRom(u.x,d.x,p.x,c.x,g,y,_),DE.initNonuniformCatmullRom(u.y,d.y,p.y,c.y,g,y,_),kE.initNonuniformCatmullRom(u.z,d.z,p.z,c.z,g,y,_)}else this.curveType==="catmullrom"&&(LE.initCatmullRom(u.x,d.x,p.x,c.x,this.tension),DE.initCatmullRom(u.y,d.y,p.y,c.y,this.tension),kE.initCatmullRom(u.z,d.z,p.z,c.z,this.tension));return r.set(LE.calc(l),DE.calc(l),kE.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new $().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function EI(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function Iee(t,e){const n=1-t;return n*n*e}function Oee(t,e){return 2*(1-t)*t*e}function Lee(t,e){return t*t*e}function cg(t,e,n,r){return Iee(t,e)+Oee(t,n)+Lee(t,r)}function Dee(t,e){const n=1-t;return n*n*n*e}function kee(t,e){const n=1-t;return 3*n*n*t*e}function Fee(t,e){return 3*(1-t)*t*t*e}function Uee(t,e){return t*t*t*e}function hg(t,e,n,r,i){return Dee(t,e)+kee(t,n)+Fee(t,r)+Uee(t,i)}class JC extends qo{constructor(e=new Oe,n=new Oe,r=new Oe,i=new Oe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Oe){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(hg(e,i.x,s.x,o.x,a.x),hg(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class e9 extends qo{constructor(e=new $,n=new $,r=new $,i=new $){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new $){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(hg(e,i.x,s.x,o.x,a.x),hg(e,i.y,s.y,o.y,a.y),hg(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class KS extends qo{constructor(e=new Oe,n=new Oe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Oe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Oe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class t9 extends qo{constructor(e=new $,n=new $){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new $){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new $){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class e4 extends qo{constructor(e=new Oe,n=new Oe,r=new Oe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Oe){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(cg(e,i.x,s.x,o.x),cg(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class t4 extends qo{constructor(e=new $,n=new $,r=new $){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new $){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(cg(e,i.x,s.x,o.x),cg(e,i.y,s.y,o.y),cg(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class n4 extends qo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Oe){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(EI(a,l.x,u.x,c.x,d.x),EI(a,l.y,u.y,c.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Oe().fromArray(i))}return this}}var r4=Object.freeze({__proto__:null,ArcCurve:QF,CatmullRomCurve3:JF,CubicBezierCurve:JC,CubicBezierCurve3:e9,EllipseCurve:ZS,LineCurve:KS,LineCurve3:t9,QuadraticBezierCurve:e4,QuadraticBezierCurve3:t4,SplineCurve:n4});class n9 extends qo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new KS(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new r4[i.type]().fromJSON(i))}return this}}class e0 extends n9{constructor(e){super(),this.type="Path",this.currentPoint=new Oe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new KS(this.currentPoint.clone(),new Oe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new e4(this.currentPoint.clone(),new Oe(e,n),new Oe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new JC(this.currentPoint.clone(),new Oe(e,n),new Oe(r,i),new Oe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new n4(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new ZS(e,n,r,i,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class iv extends It{constructor(e=[new Oe(0,-.5),new Oe(.5,0),new Oe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Yn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,d=new $,p=new Oe,m=new $,g=new $,y=new $;let _=0,v=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:_=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-_,m.z=v*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:_=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-_,m.z=v*0,g.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(g)}for(let x=0;x<=n;x++){const w=r+x*c*i,M=Math.sin(w),b=Math.cos(w);for(let T=0;T<=e.length-1;T++){d.x=e[T].x*M,d.y=e[T].y,d.z=e[T].x*b,o.push(d.x,d.y,d.z),p.x=x/n,p.y=T/(e.length-1),a.push(p.x,p.y);const C=l[3*T+0]*M,I=l[3*T+1],R=l[3*T+0]*b;u.push(C,I,R)}}for(let x=0;x<n;x++)for(let w=0;w<e.length-1;w++){const M=w+x*e.length,b=M,T=M+e.length,C=M+e.length+1,I=M+1;s.push(b,T,I),s.push(C,I,T)}this.setIndex(s),this.setAttribute("position",new rt(o,3)),this.setAttribute("uv",new rt(a,2)),this.setAttribute("normal",new rt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iv(e.points,e.segments,e.phiStart,e.phiLength)}}class QS extends iv{constructor(e=1,n=1,r=4,i=8){const s=new e0;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new QS(e.radius,e.length,e.capSegments,e.radialSegments)}}class JS extends It{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new $,c=new Oe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=n;d++,p+=3){const m=r+d/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[p]/e+1)/2,c.y=(o[p+1]/e+1)/2,l.push(c.x,c.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new rt(o,3)),this.setAttribute("normal",new rt(a,3)),this.setAttribute("uv",new rt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ep extends It{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],d=[],p=[],m=[];let g=0;const y=[],_=r/2;let v=0;x(),o===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(c),this.setAttribute("position",new rt(d,3)),this.setAttribute("normal",new rt(p,3)),this.setAttribute("uv",new rt(m,2));function x(){const M=new $,b=new $;let T=0;const C=(n-e)/r;for(let I=0;I<=s;I++){const R=[],N=I/s,z=N*(n-e)+e;for(let V=0;V<=i;V++){const W=V/i,K=W*l+a,J=Math.sin(K),ne=Math.cos(K);b.x=z*J,b.y=-N*r+_,b.z=z*ne,d.push(b.x,b.y,b.z),M.set(J,C,ne).normalize(),p.push(M.x,M.y,M.z),m.push(W,1-N),R.push(g++)}y.push(R)}for(let I=0;I<i;I++)for(let R=0;R<s;R++){const N=y[R][I],z=y[R+1][I],V=y[R+1][I+1],W=y[R][I+1];c.push(N,z,W),c.push(z,V,W),T+=6}u.addGroup(v,T,0),v+=T}function w(M){const b=g,T=new Oe,C=new $;let I=0;const R=M===!0?e:n,N=M===!0?1:-1;for(let V=1;V<=i;V++)d.push(0,_*N,0),p.push(0,N,0),m.push(.5,.5),g++;const z=g;for(let V=0;V<=i;V++){const K=V/i*l+a,J=Math.cos(K),ne=Math.sin(K);C.x=R*ne,C.y=_*N,C.z=R*J,d.push(C.x,C.y,C.z),p.push(0,N,0),T.x=J*.5+.5,T.y=ne*.5*N+.5,m.push(T.x,T.y),g++}for(let V=0;V<i;V++){const W=b+V,K=z+V;M===!0?c.push(K,K+1,W):c.push(K+1,K,W),I+=3}u.addGroup(v,I,M===!0?1:2),v+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ep(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class e2 extends Ep{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new e2(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class cc extends It{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new rt(s,3)),this.setAttribute("normal",new rt(s.slice(),3)),this.setAttribute("uv",new rt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const w=new $,M=new $,b=new $;for(let T=0;T<n.length;T+=3)m(n[T+0],w),m(n[T+1],M),m(n[T+2],b),l(w,M,b,x)}function l(x,w,M,b){const T=b+1,C=[];for(let I=0;I<=T;I++){C[I]=[];const R=x.clone().lerp(M,I/T),N=w.clone().lerp(M,I/T),z=T-I;for(let V=0;V<=z;V++)V===0&&I===T?C[I][V]=R:C[I][V]=R.clone().lerp(N,V/z)}for(let I=0;I<T;I++)for(let R=0;R<2*(T-I)-1;R++){const N=Math.floor(R/2);R%2===0?(p(C[I][N+1]),p(C[I+1][N]),p(C[I][N])):(p(C[I][N+1]),p(C[I+1][N+1]),p(C[I+1][N]))}}function u(x){const w=new $;for(let M=0;M<s.length;M+=3)w.x=s[M+0],w.y=s[M+1],w.z=s[M+2],w.normalize().multiplyScalar(x),s[M+0]=w.x,s[M+1]=w.y,s[M+2]=w.z}function c(){const x=new $;for(let w=0;w<s.length;w+=3){x.x=s[w+0],x.y=s[w+1],x.z=s[w+2];const M=_(x)/2/Math.PI+.5,b=v(x)/Math.PI+.5;o.push(M,1-b)}g(),d()}function d(){for(let x=0;x<o.length;x+=6){const w=o[x+0],M=o[x+2],b=o[x+4],T=Math.max(w,M,b),C=Math.min(w,M,b);T>.9&&C<.1&&(w<.2&&(o[x+0]+=1),M<.2&&(o[x+2]+=1),b<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,w){const M=x*3;w.x=e[M+0],w.y=e[M+1],w.z=e[M+2]}function g(){const x=new $,w=new $,M=new $,b=new $,T=new Oe,C=new Oe,I=new Oe;for(let R=0,N=0;R<s.length;R+=9,N+=6){x.set(s[R+0],s[R+1],s[R+2]),w.set(s[R+3],s[R+4],s[R+5]),M.set(s[R+6],s[R+7],s[R+8]),T.set(o[N+0],o[N+1]),C.set(o[N+2],o[N+3]),I.set(o[N+4],o[N+5]),b.copy(x).add(w).add(M).divideScalar(3);const z=_(b);y(T,N+0,x,z),y(C,N+2,w,z),y(I,N+4,M,z)}}function y(x,w,M,b){b<0&&x.x===1&&(o[w]=x.x-1),M.x===0&&M.z===0&&(o[w]=b/2/Math.PI+.5)}function _(x){return Math.atan2(x.z,-x.x)}function v(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cc(e.vertices,e.indices,e.radius,e.details)}}class t2 extends cc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new t2(e.radius,e.detail)}}const Py=new $,Ry=new $,FE=new $,Ny=new Hi;class r9 extends It{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(dh*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],d=new Array(3),p={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:y,b:_,c:v}=Ny;if(y.fromBufferAttribute(a,u[0]),_.fromBufferAttribute(a,u[1]),v.fromBufferAttribute(a,u[2]),Ny.getNormal(FE),d[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,d[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let x=0;x<3;x++){const w=(x+1)%3,M=d[x],b=d[w],T=Ny[c[x]],C=Ny[c[w]],I=`${M}_${b}`,R=`${b}_${M}`;R in p&&p[R]?(FE.dot(p[R].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(C.x,C.y,C.z)),p[R]=null):I in p||(p[I]={index0:u[x],index1:u[w],normal:FE.clone()})}}for(const g in p)if(p[g]){const{index0:y,index1:_}=p[g];Py.fromBufferAttribute(a,y),Ry.fromBufferAttribute(a,_),m.push(Py.x,Py.y,Py.z),m.push(Ry.x,Ry.y,Ry.z)}this.setAttribute("position",new rt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ph extends e0{constructor(e){super(e),this.uuid=Ss(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new e0().fromJSON(i))}return this}}const zee={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=i9(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,d,p,m;if(r&&(s=Wee(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let g=n;g<i;g+=n)d=t[g],p=t[g+1],d<a&&(a=d),p<l&&(l=p),d>u&&(u=d),p>c&&(c=p);m=Math.max(u-a,c-l),m=m!==0?32767/m:0}return t0(s,o,n,a,l,m,0),o}};function i9(t,e,n,r,i){let s,o;if(i===tte(t,e,n,r)>0)for(s=e;s<n;s+=r)o=bI(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=bI(s,t[s],t[s+1],o);return o&&n2(o,o.next)&&(r0(o),o=o.next),o}function Rh(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(n2(n,n.next)||Vn(n.prev,n,n.next)===0)){if(r0(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function t0(t,e,n,r,i,s,o){if(!t)return;!o&&s&&Yee(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?Vee(t,r,i,s):Bee(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),r0(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=jee(Rh(t),e,n),t0(t,e,n,r,i,s,2)):o===2&&Hee(t,e,n,r,i,s):t0(Rh(t),e,n,r,i,s,1);break}}}function Bee(t){const e=t.prev,n=t,r=t.next;if(Vn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=p&&g.y>=d&&g.y<=m&&gf(i,a,s,l,o,u,g.x,g.y)&&Vn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function Vee(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Vn(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,d=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,g=c<d?c<p?c:p:d<p?d:p,y=a>l?a>u?a:u:l>u?l:u,_=c>d?c>p?c:p:d>p?d:p,v=xT(m,g,e,n,r),x=xT(y,_,e,n,r);let w=t.prevZ,M=t.nextZ;for(;w&&w.z>=v&&M&&M.z<=x;){if(w.x>=m&&w.x<=y&&w.y>=g&&w.y<=_&&w!==i&&w!==o&&gf(a,c,l,d,u,p,w.x,w.y)&&Vn(w.prev,w,w.next)>=0||(w=w.prevZ,M.x>=m&&M.x<=y&&M.y>=g&&M.y<=_&&M!==i&&M!==o&&gf(a,c,l,d,u,p,M.x,M.y)&&Vn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;w&&w.z>=v;){if(w.x>=m&&w.x<=y&&w.y>=g&&w.y<=_&&w!==i&&w!==o&&gf(a,c,l,d,u,p,w.x,w.y)&&Vn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;M&&M.z<=x;){if(M.x>=m&&M.x<=y&&M.y>=g&&M.y<=_&&M!==i&&M!==o&&gf(a,c,l,d,u,p,M.x,M.y)&&Vn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function jee(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!n2(i,s)&&s9(i,r,r.next,s)&&n0(i,s)&&n0(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),r0(r),r0(r.next),r=t=s),r=r.next}while(r!==t);return Rh(r)}function Hee(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Qee(o,a)){let l=o9(o,a);o=Rh(o,o.next),l=Rh(l,l.next),t0(o,e,n,r,i,s,0),t0(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Wee(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=i9(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Kee(u));for(i.sort(Gee),s=0;s<i.length;s++)n=$ee(i[s],n);return n}function Gee(t,e){return t.x-e.x}function $ee(t,e){const n=qee(t,e);if(!n)return e;const r=o9(n,t);return Rh(r,r.next),Rh(n,n.next)}function qee(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,d;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&gf(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),n0(n,t)&&(d<c||d===c&&(n.x>i.x||n.x===i.x&&Xee(i,n)))&&(i=n,c=d)),n=n.next;while(n!==a);return i}function Xee(t,e){return Vn(t.prev,t,e.prev)<0&&Vn(e.next,t,t.next)<0}function Yee(t,e,n,r){let i=t;do i.z===0&&(i.z=xT(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Zee(i)}function Zee(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function xT(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Kee(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function gf(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function Qee(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Jee(t,e)&&(n0(t,e)&&n0(e,t)&&ete(t,e)&&(Vn(t.prev,t,e.prev)||Vn(t,e.prev,e))||n2(t,e)&&Vn(t.prev,t,t.next)>0&&Vn(e.prev,e,e.next)>0)}function Vn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function n2(t,e){return t.x===e.x&&t.y===e.y}function s9(t,e,n,r){const i=Oy(Vn(t,e,n)),s=Oy(Vn(t,e,r)),o=Oy(Vn(n,r,t)),a=Oy(Vn(n,r,e));return!!(i!==s&&o!==a||i===0&&Iy(t,n,e)||s===0&&Iy(t,r,e)||o===0&&Iy(n,t,r)||a===0&&Iy(n,e,r))}function Iy(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Oy(t){return t>0?1:t<0?-1:0}function Jee(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&s9(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function n0(t,e){return Vn(t.prev,t,t.next)<0?Vn(t,e,t.next)>=0&&Vn(t,t.prev,e)>=0:Vn(t,e,t.prev)<0||Vn(t,t.next,e)<0}function ete(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function o9(t,e){const n=new ST(t.i,t.x,t.y),r=new ST(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function bI(t,e,n,r){const i=new ST(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function r0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ST(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function tte(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Sa{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Sa.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];TI(e),AI(r,e);let o=e.length;n.forEach(TI);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,AI(r,n[l]);const a=zee.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function TI(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function AI(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class r2 extends It{constructor(e=new ph([new Oe(.5,.5),new Oe(-.5,.5),new Oe(-.5,-.5),new Oe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new rt(i,3)),this.setAttribute("uv",new rt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,_=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:nte;let w,M=!1,b,T,C,I;v&&(w=v.getSpacedPoints(c),M=!0,p=!1,b=v.computeFrenetFrames(c,!1),T=new $,C=new $,I=new $),p||(_=0,m=0,g=0,y=0);const R=a.extractPoints(u);let N=R.shape;const z=R.holes;if(!Sa.isClockWise(N)){N=N.reverse();for(let Z=0,Ne=z.length;Z<Ne;Z++){const ye=z[Z];Sa.isClockWise(ye)&&(z[Z]=ye.reverse())}}const W=Sa.triangulateShape(N,z),K=N;for(let Z=0,Ne=z.length;Z<Ne;Z++){const ye=z[Z];N=N.concat(ye)}function J(Z,Ne,ye){return Ne||console.error("THREE.ExtrudeGeometry: vec does not exist"),Z.clone().addScaledVector(Ne,ye)}const ne=N.length,ee=W.length;function F(Z,Ne,ye){let he,de,De;const Le=Z.x-Ne.x,Ie=Z.y-Ne.y,Ve=ye.x-Z.x,it=ye.y-Z.y,ae=Le*Le+Ie*Ie,B=Le*it-Ie*Ve;if(Math.abs(B)>Number.EPSILON){const k=Math.sqrt(ae),le=Math.sqrt(Ve*Ve+it*it),_e=Ne.x-Ie/k,be=Ne.y+Le/k,Fe=ye.x-it/le,qe=ye.y+Ve/le,He=((Fe-_e)*it-(qe-be)*Ve)/(Le*it-Ie*Ve);he=_e+Le*He-Z.x,de=be+Ie*He-Z.y;const Me=he*he+de*de;if(Me<=2)return new Oe(he,de);De=Math.sqrt(Me/2)}else{let k=!1;Le>Number.EPSILON?Ve>Number.EPSILON&&(k=!0):Le<-Number.EPSILON?Ve<-Number.EPSILON&&(k=!0):Math.sign(Ie)===Math.sign(it)&&(k=!0),k?(he=-Ie,de=Le,De=Math.sqrt(ae)):(he=Le,de=Ie,De=Math.sqrt(ae/2))}return new Oe(he/De,de/De)}const j=[];for(let Z=0,Ne=K.length,ye=Ne-1,he=Z+1;Z<Ne;Z++,ye++,he++)ye===Ne&&(ye=0),he===Ne&&(he=0),j[Z]=F(K[Z],K[ye],K[he]);const H=[];let D,U=j.concat();for(let Z=0,Ne=z.length;Z<Ne;Z++){const ye=z[Z];D=[];for(let he=0,de=ye.length,De=de-1,Le=he+1;he<de;he++,De++,Le++)De===de&&(De=0),Le===de&&(Le=0),D[he]=F(ye[he],ye[De],ye[Le]);H.push(D),U=U.concat(D)}for(let Z=0;Z<_;Z++){const Ne=Z/_,ye=m*Math.cos(Ne*Math.PI/2),he=g*Math.sin(Ne*Math.PI/2)+y;for(let de=0,De=K.length;de<De;de++){const Le=J(K[de],j[de],he);Se(Le.x,Le.y,-ye)}for(let de=0,De=z.length;de<De;de++){const Le=z[de];D=H[de];for(let Ie=0,Ve=Le.length;Ie<Ve;Ie++){const it=J(Le[Ie],D[Ie],he);Se(it.x,it.y,-ye)}}}const Y=g+y;for(let Z=0;Z<ne;Z++){const Ne=p?J(N[Z],U[Z],Y):N[Z];M?(C.copy(b.normals[0]).multiplyScalar(Ne.x),T.copy(b.binormals[0]).multiplyScalar(Ne.y),I.copy(w[0]).add(C).add(T),Se(I.x,I.y,I.z)):Se(Ne.x,Ne.y,0)}for(let Z=1;Z<=c;Z++)for(let Ne=0;Ne<ne;Ne++){const ye=p?J(N[Ne],U[Ne],Y):N[Ne];M?(C.copy(b.normals[Z]).multiplyScalar(ye.x),T.copy(b.binormals[Z]).multiplyScalar(ye.y),I.copy(w[Z]).add(C).add(T),Se(I.x,I.y,I.z)):Se(ye.x,ye.y,d/c*Z)}for(let Z=_-1;Z>=0;Z--){const Ne=Z/_,ye=m*Math.cos(Ne*Math.PI/2),he=g*Math.sin(Ne*Math.PI/2)+y;for(let de=0,De=K.length;de<De;de++){const Le=J(K[de],j[de],he);Se(Le.x,Le.y,d+ye)}for(let de=0,De=z.length;de<De;de++){const Le=z[de];D=H[de];for(let Ie=0,Ve=Le.length;Ie<Ve;Ie++){const it=J(Le[Ie],D[Ie],he);M?Se(it.x,it.y+w[c-1].y,w[c-1].x+ye):Se(it.x,it.y,d+ye)}}}q(),te();function q(){const Z=i.length/3;if(p){let Ne=0,ye=ne*Ne;for(let he=0;he<ee;he++){const de=W[he];pe(de[2]+ye,de[1]+ye,de[0]+ye)}Ne=c+_*2,ye=ne*Ne;for(let he=0;he<ee;he++){const de=W[he];pe(de[0]+ye,de[1]+ye,de[2]+ye)}}else{for(let Ne=0;Ne<ee;Ne++){const ye=W[Ne];pe(ye[2],ye[1],ye[0])}for(let Ne=0;Ne<ee;Ne++){const ye=W[Ne];pe(ye[0]+ne*c,ye[1]+ne*c,ye[2]+ne*c)}}r.addGroup(Z,i.length/3-Z,0)}function te(){const Z=i.length/3;let Ne=0;ue(K,Ne),Ne+=K.length;for(let ye=0,he=z.length;ye<he;ye++){const de=z[ye];ue(de,Ne),Ne+=de.length}r.addGroup(Z,i.length/3-Z,1)}function ue(Z,Ne){let ye=Z.length;for(;--ye>=0;){const he=ye;let de=ye-1;de<0&&(de=Z.length-1);for(let De=0,Le=c+_*2;De<Le;De++){const Ie=ne*De,Ve=ne*(De+1),it=Ne+he+Ie,ae=Ne+de+Ie,B=Ne+de+Ve,k=Ne+he+Ve;Ge(it,ae,B,k)}}}function Se(Z,Ne,ye){l.push(Z),l.push(Ne),l.push(ye)}function pe(Z,Ne,ye){nt(Z),nt(Ne),nt(ye);const he=i.length/3,de=x.generateTopUV(r,i,he-3,he-2,he-1);ze(de[0]),ze(de[1]),ze(de[2])}function Ge(Z,Ne,ye,he){nt(Z),nt(Ne),nt(he),nt(Ne),nt(ye),nt(he);const de=i.length/3,De=x.generateSideWallUV(r,i,de-6,de-3,de-2,de-1);ze(De[0]),ze(De[1]),ze(De[3]),ze(De[1]),ze(De[2]),ze(De[3])}function nt(Z){i.push(l[Z*3+0]),i.push(l[Z*3+1]),i.push(l[Z*3+2])}function ze(Z){s.push(Z.x),s.push(Z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return rte(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new r4[i.type]().fromJSON(i)),new r2(r,e.options)}}const nte={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Oe(s,o),new Oe(a,l),new Oe(u,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],d=e[r*3+2],p=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[s*3],_=e[s*3+1],v=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new Oe(o,1-l),new Oe(u,1-d),new Oe(p,1-g),new Oe(y,1-v)]:[new Oe(a,1-l),new Oe(c,1-d),new Oe(m,1-g),new Oe(_,1-v)]}};function rte(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class i2 extends cc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new i2(e.radius,e.detail)}}class sv extends cc{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new sv(e.radius,e.detail)}}class s2 extends It{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let d=e;const p=(n-e)/i,m=new $,g=new Oe;for(let y=0;y<=i;y++){for(let _=0;_<=r;_++){const v=s+_/r*o;m.x=d*Math.cos(v),m.y=d*Math.sin(v),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,c.push(g.x,g.y)}d+=p}for(let y=0;y<i;y++){const _=y*(r+1);for(let v=0;v<r;v++){const x=v+_,w=x,M=x+r+1,b=x+r+2,T=x+1;a.push(w,M,T),a.push(M,b,T)}}this.setIndex(a),this.setAttribute("position",new rt(l,3)),this.setAttribute("normal",new rt(u,3)),this.setAttribute("uv",new rt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new s2(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class o2 extends It{constructor(e=new ph([new Oe(0,.5),new Oe(-.5,-.5),new Oe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new rt(i,3)),this.setAttribute("normal",new rt(s,3)),this.setAttribute("uv",new rt(o,2));function u(c){const d=i.length/3,p=c.extractPoints(n);let m=p.shape;const g=p.holes;Sa.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,v=g.length;_<v;_++){const x=g[_];Sa.isClockWise(x)===!0&&(g[_]=x.reverse())}const y=Sa.triangulateShape(m,g);for(let _=0,v=g.length;_<v;_++){const x=g[_];m=m.concat(x)}for(let _=0,v=m.length;_<v;_++){const x=m[_];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let _=0,v=y.length;_<v;_++){const x=y[_],w=x[0]+d,M=x[1]+d,b=x[2]+d;r.push(w,M,b),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return ite(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new o2(r,e.curveSegments)}}function ite(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class ov extends It{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],d=new $,p=new $,m=[],g=[],y=[],_=[];for(let v=0;v<=r;v++){const x=[],w=v/r;let M=0;v===0&&o===0?M=.5/n:v===r&&l===Math.PI&&(M=-.5/n);for(let b=0;b<=n;b++){const T=b/n;d.x=-e*Math.cos(i+T*s)*Math.sin(o+w*a),d.y=e*Math.cos(o+w*a),d.z=e*Math.sin(i+T*s)*Math.sin(o+w*a),g.push(d.x,d.y,d.z),p.copy(d).normalize(),y.push(p.x,p.y,p.z),_.push(T+M,1-w),x.push(u++)}c.push(x)}for(let v=0;v<r;v++)for(let x=0;x<n;x++){const w=c[v][x+1],M=c[v][x],b=c[v+1][x],T=c[v+1][x+1];(v!==0||o>0)&&m.push(w,M,T),(v!==r-1||l<Math.PI)&&m.push(M,b,T)}this.setIndex(m),this.setAttribute("position",new rt(g,3)),this.setAttribute("normal",new rt(y,3)),this.setAttribute("uv",new rt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ov(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class a2 extends cc{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new a2(e.radius,e.detail)}}class l2 extends It{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new $,d=new $,p=new $;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const y=g/i*s,_=m/r*Math.PI*2;d.x=(e+n*Math.cos(_))*Math.cos(y),d.y=(e+n*Math.cos(_))*Math.sin(y),d.z=n*Math.sin(_),a.push(d.x,d.y,d.z),c.x=e*Math.cos(y),c.y=e*Math.sin(y),p.subVectors(d,c).normalize(),l.push(p.x,p.y,p.z),u.push(g/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const y=(i+1)*m+g-1,_=(i+1)*(m-1)+g-1,v=(i+1)*(m-1)+g,x=(i+1)*m+g;o.push(y,_,x),o.push(_,v,x)}this.setIndex(o),this.setAttribute("position",new rt(a,3)),this.setAttribute("normal",new rt(l,3)),this.setAttribute("uv",new rt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l2(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class u2 extends It{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],d=new $,p=new $,m=new $,g=new $,y=new $,_=new $,v=new $;for(let w=0;w<=r;++w){const M=w/r*s*Math.PI*2;x(M,s,o,e,m),x(M+.01,s,o,e,g),_.subVectors(g,m),v.addVectors(g,m),y.crossVectors(_,v),v.crossVectors(y,_),y.normalize(),v.normalize();for(let b=0;b<=i;++b){const T=b/i*Math.PI*2,C=-n*Math.cos(T),I=n*Math.sin(T);d.x=m.x+(C*v.x+I*y.x),d.y=m.y+(C*v.y+I*y.y),d.z=m.z+(C*v.z+I*y.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),u.push(p.x,p.y,p.z),c.push(w/r),c.push(b/i)}}for(let w=1;w<=r;w++)for(let M=1;M<=i;M++){const b=(i+1)*(w-1)+(M-1),T=(i+1)*w+(M-1),C=(i+1)*w+M,I=(i+1)*(w-1)+M;a.push(b,T,I),a.push(T,C,I)}this.setIndex(a),this.setAttribute("position",new rt(l,3)),this.setAttribute("normal",new rt(u,3)),this.setAttribute("uv",new rt(c,2));function x(w,M,b,T,C){const I=Math.cos(w),R=Math.sin(w),N=b/M*w,z=Math.cos(N);C.x=T*(2+z)*.5*I,C.y=T*(2+z)*R*.5,C.z=T*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u2(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class c2 extends It{constructor(e=new t4(new $(-1,-1,0),new $(-1,1,0),new $(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new $,l=new $,u=new Oe;let c=new $;const d=[],p=[],m=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new rt(d,3)),this.setAttribute("normal",new rt(p,3)),this.setAttribute("uv",new rt(m,2));function y(){for(let w=0;w<n;w++)_(w);_(s===!1?n:0),x(),v()}function _(w){c=e.getPointAt(w/n,c);const M=o.normals[w],b=o.binormals[w];for(let T=0;T<=i;T++){const C=T/i*Math.PI*2,I=Math.sin(C),R=-Math.cos(C);l.x=R*M.x+I*b.x,l.y=R*M.y+I*b.y,l.z=R*M.z+I*b.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,d.push(a.x,a.y,a.z)}}function v(){for(let w=1;w<=n;w++)for(let M=1;M<=i;M++){const b=(i+1)*(w-1)+(M-1),T=(i+1)*w+(M-1),C=(i+1)*w+M,I=(i+1)*(w-1)+M;g.push(b,T,I),g.push(T,C,I)}}function x(){for(let w=0;w<=n;w++)for(let M=0;M<=i;M++)u.x=w/n,u.y=M/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new c2(new r4[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class a9 extends It{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new $,s=new $;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const d=l[u],p=d.start,m=d.count;for(let g=p,y=p+m;g<y;g+=3)for(let _=0;_<3;_++){const v=a.getX(g+_),x=a.getX(g+(_+1)%3);i.fromBufferAttribute(o,v),s.fromBufferAttribute(o,x),CI(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,d=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,d),CI(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new rt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function CI(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var PI=Object.freeze({__proto__:null,BoxGeometry:Gh,CapsuleGeometry:QS,CircleGeometry:JS,ConeGeometry:e2,CylinderGeometry:Ep,DodecahedronGeometry:t2,EdgesGeometry:r9,ExtrudeGeometry:r2,IcosahedronGeometry:i2,LatheGeometry:iv,OctahedronGeometry:sv,PlaneGeometry:nv,PolyhedronGeometry:cc,RingGeometry:s2,ShapeGeometry:o2,SphereGeometry:ov,TetrahedronGeometry:a2,TorusGeometry:l2,TorusKnotGeometry:u2,TubeGeometry:c2,WireframeGeometry:a9});class l9 extends Jr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ke(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class u9 extends zo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class i4 extends Jr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lc,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class c9 extends i4{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Oe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Yn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ke(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class h9 extends Jr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ke(16777215),this.specular=new Ke(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lc,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Q0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class d9 extends Jr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ke(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lc,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class f9 extends Jr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lc,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class p9 extends Jr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lc,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Q0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class m9 extends Jr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ke(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lc,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class g9 extends Oi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Gs(t,e,n){return s4(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function ih(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function s4(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function v9(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function wT(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function o4(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function ste(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),d=[],p=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<n||g>=r)){d.push(u.times[m]);for(let y=0;y<c;++y)p.push(u.values[m*c+y])}}d.length!==0&&(u.times=ih(d,u.times.constructor),u.values=ih(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function ote(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(u===void 0)continue;let c=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=d/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const g=a.times.length-1;let y;if(s<=a.times[0]){const v=c,x=d-c;y=Gs(a.values,v,x)}else if(s>=a.times[g]){const v=g*d+c,x=v+d-c;y=Gs(a.values,v,x)}else{const v=a.createInterpolant(),x=c,w=d-c;v.evaluate(s),y=Gs(v.resultBuffer,x,w)}l==="quaternion"&&new Zi().fromArray(y).normalize().conjugate().toArray(y);const _=u.times.length;for(let v=0;v<_;++v){const x=v*m+p;if(l==="quaternion")Zi.multiplyQuaternionsFlat(u.values,x,y,0,u.values,x);else{const w=m-p*2;for(let M=0;M<w;++M)u.values[x+M]-=y[M]}}}return t.blendMode=kC,t}const ate={arraySlice:Gs,convertArray:ih,isTypedArray:s4,getKeyframeOrder:v9,sortedArray:wT,flattenJSON:o4,subclip:ste,makeClipAdditive:ote};class av{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class y9 extends av{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:th,endingEnd:th}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case nh:s=e,a=2*n-r;break;case Zg:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case nh:o=e,l=2*r-n;break;case Zg:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,g=(r-n)/(i-n),y=g*g,_=y*g,v=-p*_+2*p*y-p*g,x=(1+p)*_+(-1.5-2*p)*y+(-.5+p)*g+1,w=(-1-m)*_+(1.5+m)*y+.5*g,M=m*_-m*y;for(let b=0;b!==a;++b)s[b]=v*o[c+b]+x*o[u+b]+w*o[l+b]+M*o[d+b];return s}}class a4 extends av{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),d=1-c;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*c;return s}}class _9 extends av{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Xo{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ih(n,this.TimeBufferType),this.values=ih(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:ih(e.times,Array),values:ih(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new _9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new a4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new y9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Xg:n=this.InterpolantFactoryMethodDiscrete;break;case Yg:n=this.InterpolantFactoryMethodLinear;break;case w_:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xg;case this.InterpolantFactoryMethodLinear:return Yg;case this.InterpolantFactoryMethodSmooth:return w_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Gs(r,s,o),this.values=Gs(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&s4(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Gs(this.times),n=Gs(this.values),r=this.getValueSize(),i=this.getInterpolation()===w_,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const d=a*r,p=d-r,m=d+r;for(let g=0;g!==r;++g){const y=n[d+g];if(y!==n[p+g]||y!==n[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=Gs(e,0,o),this.values=Gs(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=Gs(this.times,0),n=Gs(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Xo.prototype.TimeBufferType=Float32Array;Xo.prototype.ValueBufferType=Float32Array;Xo.prototype.DefaultInterpolation=Yg;class $h extends Xo{}$h.prototype.ValueTypeName="bool";$h.prototype.ValueBufferType=Array;$h.prototype.DefaultInterpolation=Xg;$h.prototype.InterpolantFactoryMethodLinear=void 0;$h.prototype.InterpolantFactoryMethodSmooth=void 0;class l4 extends Xo{}l4.prototype.ValueTypeName="color";class i0 extends Xo{}i0.prototype.ValueTypeName="number";class x9 extends av{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)Zi.slerpFlat(s,0,o,u-a,o,u,l);return s}}class bp extends Xo{InterpolantFactoryMethodLinear(e){return new x9(this.times,this.values,this.getValueSize(),e)}}bp.prototype.ValueTypeName="quaternion";bp.prototype.DefaultInterpolation=Yg;bp.prototype.InterpolantFactoryMethodSmooth=void 0;class qh extends Xo{}qh.prototype.ValueTypeName="string";qh.prototype.ValueBufferType=Array;qh.prototype.DefaultInterpolation=Xg;qh.prototype.InterpolantFactoryMethodLinear=void 0;qh.prototype.InterpolantFactoryMethodSmooth=void 0;class s0 extends Xo{}s0.prototype.ValueTypeName="vector";class o0{constructor(e,n=-1,r,i=jS){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ss(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(ute(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Xo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=v9(l);l=wT(l,1,c),u=wT(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new i0(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const d=c[1];let p=i[d];p||(i[d]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,m,g,y){if(m.length!==0){const _=[],v=[];o4(m,_,v,g),_.length!==0&&y.push(new d(p,_,v))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let y=0;y<p[g].morphTargets.length;y++)m[p[g].morphTargets[y]]=-1;for(const y in m){const _=[],v=[];for(let x=0;x!==p[g].morphTargets.length;++x){const w=p[g];_.push(w.time),v.push(w.morphTarget===y?1:0)}i.push(new i0(".morphTargetInfluence["+y+"]",_,v))}l=m.length*o}else{const m=".bones["+n[d].name+"]";r(s0,m+".position",p,"pos",i),r(bp,m+".quaternion",p,"rot",i),r(s0,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function lte(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return i0;case"vector":case"vector2":case"vector3":case"vector4":return s0;case"color":return l4;case"quaternion":return bp;case"bool":case"boolean":return $h;case"string":return qh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function ute(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=lte(t.type);if(t.times===void 0){const n=[],r=[];o4(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Nh={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class u4{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,d){return u.push(c,d),this},this.removeHandler=function(c){const d=u.indexOf(c);return d!==-1&&u.splice(d,2),this},this.getHandler=function(c){for(let d=0,p=u.length;d<p;d+=2){const m=u[d],g=u[d+1];if(m.global&&(m.lastIndex=0),m.test(c))return g}return null}}}const S9=new u4;class es{constructor(e){this.manager=e!==void 0?e:S9,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}es.DEFAULT_MATERIAL_NAME="__DEFAULT";const Qa={};class cte extends Error{constructor(e,n){super(e),this.response=n}}class Cl extends es{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Nh.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Qa[e]!==void 0){Qa[e].push({onLoad:n,onProgress:r,onError:i});return}Qa[e]=[],Qa[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Qa[e],d=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,g=m!==0;let y=0;const _=new ReadableStream({start(v){x();function x(){d.read().then(({done:w,value:M})=>{if(w)v.close();else{y+=M.byteLength;const b=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:m});for(let T=0,C=c.length;T<C;T++){const I=c[T];I.onProgress&&I.onProgress(b)}v.enqueue(M),x()}})}}});return new Response(_)}else throw new cte(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{Nh.add(e,u);const c=Qa[e];delete Qa[e];for(let d=0,p=c.length;d<p;d++){const m=c[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=Qa[e];if(c===void 0)throw this.manager.itemError(e),u;delete Qa[e];for(let d=0,p=c.length;d<p;d++){const m=c[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class hte extends es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Cl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=o0.parse(e[r]);n.push(i)}return n}}class dte extends es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new KC,l=new Cl(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=ar),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)c(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)o[g].mipmaps.push(p.mipmaps[g*p.mipmapCount+y]),o[g].format=p.format,o[g].width=p.width,o[g].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=ar),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class a0 extends es{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Nh.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Jg("img");function l(){c(),Nh.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(d){c(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class fte extends es{constructor(e){super(e)}load(e,n,r,i){const s=new tv;s.colorSpace=Tt;const o=new a0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class pte extends es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Pf,a=new Cl(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:gi,o.wrapT=u.wrapT!==void 0?u.wrapT:gi,o.magFilter=u.magFilter!==void 0?u.magFilter:ar,o.minFilter=u.minFilter!==void 0?u.minFilter:ar,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=$u),u.mipmapCount===1&&(o.minFilter=ar),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class lv extends es{constructor(e){super(e)}load(e,n,r,i){const s=new Kn,o=new a0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class hc extends en{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ke(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class w9 extends hc{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ke(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const UE=new bt,RI=new $,NI=new $;class c4{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Oe(512,512),this.map=null,this.mapPass=null,this.matrix=new bt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new WS,this._frameExtents=new Oe(1,1),this._viewportCount=1,this._viewports=[new ln(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;RI.setFromMatrixPosition(e.matrixWorld),n.position.copy(RI),NI.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(NI),n.updateMatrixWorld(),UE.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(UE),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(UE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class mte extends c4{constructor(){super(new zr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=qf*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class M9 extends hc{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.target=new en,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new mte}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const II=new bt,Tm=new $,zE=new $;class gte extends c4{constructor(){super(new zr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Oe(4,2),this._viewportCount=6,this._viewports=[new ln(2,1,1,1),new ln(0,1,1,1),new ln(3,1,1,1),new ln(1,1,1,1),new ln(3,0,1,1),new ln(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Tm.setFromMatrixPosition(e.matrixWorld),r.position.copy(Tm),zE.copy(r.position),zE.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(zE),r.updateMatrixWorld(),i.makeTranslation(-Tm.x,-Tm.y,-Tm.z),II.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(II)}}class E9 extends hc{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new gte}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class vte extends c4{constructor(){super(new rv(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class b9 extends hc{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.target=new en,this.shadow=new vte}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class T9 extends hc{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class A9 extends hc{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class C9{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new $)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class h2 extends hc{constructor(e=new C9,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class d2 extends es{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Cl(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=d2.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ke().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ke().setHex(o.value);break;case"v2":i.uniforms[s].value=new Oe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new $().fromArray(o.value);break;case"v4":i.uniforms[s].value=new ln().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Rt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new bt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Oe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Oe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:l9,SpriteMaterial:XC,RawShaderMaterial:u9,ShaderMaterial:zo,PointsMaterial:ZC,MeshPhysicalMaterial:c9,MeshStandardMaterial:i4,MeshPhongMaterial:h9,MeshToonMaterial:d9,MeshNormalMaterial:f9,MeshLambertMaterial:p9,MeshDepthMaterial:GC,MeshDistanceMaterial:$C,MeshBasicMaterial:uc,MeshMatcapMaterial:m9,LineDashedMaterial:g9,LineBasicMaterial:Oi,Material:Jr};return new n[e]}}class MT{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class P9 extends It{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class R9 extends es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Cl(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,g){if(n[g]!==void 0)return n[g];const _=m.interleavedBuffers[g],v=s(m,_.buffer),x=ff(_.type,v),w=new XS(x,_.stride);return w.uuid=_.uuid,n[g]=w,w}function s(m,g){if(r[g]!==void 0)return r[g];const _=m.arrayBuffers[g],v=new Uint32Array(_).buffer;return r[g]=v,v}const o=e.isInstancedBufferGeometry?new P9:new It,a=e.data.index;if(a!==void 0){const m=ff(a.type,a.array);o.setIndex(new vn(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let y;if(g.isInterleavedBufferAttribute){const _=i(e.data,g.data);y=new Ph(_,g.itemSize,g.offset,g.normalized)}else{const _=ff(g.type,g.array),v=g.isInstancedBufferAttribute?Yf:vn;y=new v(_,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),g.updateRange!==void 0&&(y.updateRange.offset=g.updateRange.offset,y.updateRange.count=g.updateRange.count),o.setAttribute(m,y)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],y=[];for(let _=0,v=g.length;_<v;_++){const x=g[_];let w;if(x.isInterleavedBufferAttribute){const M=i(e.data,x.data);w=new Ph(M,x.itemSize,x.offset,x.normalized)}else{const M=ff(x.type,x.array);w=new vn(M,x.itemSize,x.normalized)}x.name!==void 0&&(w.name=x.name),y.push(w)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,g=d.length;m!==g;++m){const y=d[m];o.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new $;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new $o(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class yte extends es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?MT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Cl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?MT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Cl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new ph().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new YS().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new R9;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in PI?a=PI[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new d2;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=o0.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:ff(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new u4(n);s=new a0(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const m=[];for(let g=0,y=p.length;g<y;g++){const _=p[g],v=a(_);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new Pf(v.data,v.width,v.height)))}i[d.uuid]=new rh(m)}else{const m=a(d.url);i[d.uuid]=new rh(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:ff(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new a0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let d=0,p=u.length;d<p;d++){const m=u[d],g=await s(m);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new Pf(g.data,g.width,g.height)))}r[l.uuid]=new rh(c)}else{const c=await s(l.url);r[l.uuid]=new rh(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new tv,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Pf:c=new Kn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,_te)),a.channel!==void 0&&(c.channel=a.channel),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],OI),c.wrapT=r(a.wrap[1],OI)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.colorSpace!==void 0&&(c.colorSpace=a.colorSpace),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,LI)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,LI)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(c.compareFunction=a.compareFunction),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let g=0,y=p.length;g<y;g++){const _=p[g];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(r[_])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let c,d;switch(e.type){case"Scene":o=new Sx,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ke(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new qS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new $S(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new zr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new rv(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new T9(e.color,e.intensity);break;case"DirectionalLight":o=new b9(e.color,e.intensity);break;case"PointLight":o=new E9(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new A9(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new M9(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new w9(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new h2().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),d=l(e.material),o=new XF(c,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),d=l(e.material),o=new Yr(c,d);break;case"InstancedMesh":c=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new YF(c,d,p),o.instanceMatrix=new Yf(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new Yf(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new qF;break;case"Line":o=new qu(a(e.geometry),l(e.material));break;case"LineLoop":o=new ZF(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ra(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new KF(a(e.geometry),l(e.material));break;case"Sprite":o=new $F(l(e.material));break;case"Group":o=new mf;break;case"Bone":o=new YC;break;default:o=new en}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const g=p[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const g=p[m],y=o.getObjectByProperty("uuid",g.object);y!==void 0&&o.addLevel(y,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const _te={UVMapping:BS,CubeReflectionMapping:Wu,CubeRefractionMapping:Gu,EquirectangularReflectionMapping:Wg,EquirectangularRefractionMapping:Gg,CubeUVReflectionMapping:Sp},OI={RepeatWrapping:$g,ClampToEdgeWrapping:gi,MirroredRepeatWrapping:qg},LI={NearestFilter:sr,NearestMipmapNearestFilter:yx,NearestMipmapLinearFilter:ag,LinearFilter:ar,LinearMipmapNearestFilter:PC,LinearMipmapLinearFilter:$u};class xte extends es{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Nh.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Nh.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Ly;class h4{static getContext(){return Ly===void 0&&(Ly=new(window.AudioContext||window.webkitAudioContext)),Ly}static setContext(e){Ly=e}}class Ste extends es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Cl(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);h4.getContext().decodeAudioData(u,function(d){n(d)},a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class wte extends h2{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Ke().set(e),s=new Ke().set(n),o=new $(i.r,i.g,i.b),a=new $(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class Mte extends h2{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new Ke().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const DI=new bt,kI=new bt,Nc=new bt;class Ete{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Nc.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(dh*n.fov*.5)/n.zoom;let a,l;kI.elements[12]=-i,DI.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Nc.elements[0]=2*n.near/(l-a),Nc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Nc),a=-o*n.aspect-s,l=o*n.aspect-s,Nc.elements[0]=2*n.near/(l-a),Nc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Nc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(kI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(DI)}}let d4=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=FI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=FI();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}};function FI(){return(typeof performance>"u"?Date:performance).now()}const Ic=new $,UI=new Zi,bte=new $,Oc=new $;class Tte extends en{constructor(){super(),this.type="AudioListener",this.context=h4.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new d4}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ic,UI,bte),Oc.set(0,0,-1).applyQuaternion(UI),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Ic.x,i),n.positionY.linearRampToValueAtTime(Ic.y,i),n.positionZ.linearRampToValueAtTime(Ic.z,i),n.forwardX.linearRampToValueAtTime(Oc.x,i),n.forwardY.linearRampToValueAtTime(Oc.y,i),n.forwardZ.linearRampToValueAtTime(Oc.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Ic.x,Ic.y,Ic.z),n.setOrientation(Oc.x,Oc.y,Oc.z,r.x,r.y,r.z)}}class N9 extends en{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Lc=new $,zI=new Zi,Ate=new $,Dc=new $;class Cte extends N9{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Lc,zI,Ate),Dc.set(0,0,1).applyQuaternion(zI);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Lc.x,r),n.positionY.linearRampToValueAtTime(Lc.y,r),n.positionZ.linearRampToValueAtTime(Lc.z,r),n.orientationX.linearRampToValueAtTime(Dc.x,r),n.orientationY.linearRampToValueAtTime(Dc.y,r),n.orientationZ.linearRampToValueAtTime(Dc.z,r)}else n.setPosition(Lc.x,Lc.y,Lc.z),n.setOrientation(Dc.x,Dc.y,Dc.z)}}class Pte{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class I9{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Zi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Zi.multiplyQuaternionsFlat(e,o,e,n,e,r),Zi.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const f4="\\[\\]\\.:\\/",Rte=new RegExp("["+f4+"]","g"),p4="[^"+f4+"]",Nte="[^"+f4.replace("\\.","")+"]",Ite=/((?:WC+[\/:])*)/.source.replace("WC",p4),Ote=/(WCOD+)?/.source.replace("WCOD",Nte),Lte=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",p4),Dte=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",p4),kte=new RegExp("^"+Ite+Ote+Lte+Dte+"$"),Fte=["material","materials","bones","map"];class Ute{constructor(e,n,r){const i=r||qt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class qt{constructor(e,n,r){this.path=n,this.parsedPath=r||qt.parseTrackName(n),this.node=qt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new qt.Composite(e,n,r):new qt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Rte,"")}static parseTrackName(e){const n=kte.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Fte.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=qt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}qt.Composite=Ute;qt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};qt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};qt.prototype.GetterByBindingType=[qt.prototype._getValue_direct,qt.prototype._getValue_array,qt.prototype._getValue_arrayElement,qt.prototype._getValue_toArray];qt.prototype.SetterByBindingTypeAndVersioning=[[qt.prototype._setValue_direct,qt.prototype._setValue_direct_setNeedsUpdate,qt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qt.prototype._setValue_array,qt.prototype._setValue_array_setNeedsUpdate,qt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qt.prototype._setValue_arrayElement,qt.prototype._setValue_arrayElement_setNeedsUpdate,qt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qt.prototype._setValue_fromArray,qt.prototype._setValue_fromArray_setNeedsUpdate,qt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class zte{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ss(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,d=arguments.length;c!==d;++c){const p=arguments[c],m=p.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(p);for(let y=0,_=o;y!==_;++y)s[y].push(new qt(p,r[y],i[y]))}else if(g<u){a=e[g];const y=--u,_=e[y];n[_.uuid]=g,e[g]=_,n[m]=y,e[y]=p;for(let v=0,x=o;v!==x;++v){const w=s[v],M=w[y];let b=w[g];w[g]=M,b===void 0&&(b=new qt(p,r[v],i[v])),w[y]=b}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const d=s++,p=e[d];n[p.uuid]=c,e[c]=p,n[u]=d,e[d]=l;for(let m=0,g=i;m!==g;++m){const y=r[m],_=y[d],v=y[c];y[c]=_,y[d]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,d=n[c];if(d!==void 0)if(delete n[c],d<s){const p=--s,m=e[p],g=--o,y=e[g];n[m.uuid]=d,e[d]=m,n[y.uuid]=p,e[p]=y,e.pop();for(let _=0,v=i;_!==v;++_){const x=r[_],w=x[p],M=x[g];x[d]=w,x[p]=M,x.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let g=0,y=i;g!==y;++g){const _=r[g];_[d]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,d=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(d);for(let p=c,m=l.length;p!==m;++p){const g=l[p];d[p]=new qt(g,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class O9{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:th,endingEnd:th};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=mF,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case kC:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case jS:default:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===gF;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===pF){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=nh,i.endingEnd=nh):(e?i.endingStart=this.zeroSlopeAtStart?nh:th:i.endingStart=Zg,n?i.endingEnd=this.zeroSlopeAtEnd?nh:th:i.endingEnd=Zg)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const Bte=new Float32Array(1);class Vte extends kl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let d=0;d!==s;++d){const p=i[d],m=p.name;let g=c[m];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const y=n&&n._propertyBindings[d].binding.parsedPath;g=new I9(qt.create(r,m,y),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new a4(new Float32Array(2),new Float32Array(2),1,Bte),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?o0.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=jS),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new O9(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?o0.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,d=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=c,n[c]=d,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class m4{constructor(e){this.value=e}clone(){return new m4(this.value.clone===void 0?this.value:this.value.clone())}}let jte=0;class Hte extends kl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:jte++}),this.name="",this.usage=Kg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Wte extends XS{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Gte{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class L9{constructor(e,n,r=0,i=1/0){this.ray=new wp(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new fh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return ET(e,this,r,n),r.sort(BI),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)ET(e[i],this,r,n);return r.sort(BI),r}}function BI(t,e){return t.distance-e.distance}function ET(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)ET(i[s],e,n,!0)}}class D9{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Yn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class $te{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const VI=new Oe;class qte{constructor(e=new Oe(1/0,1/0),n=new Oe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=VI.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,VI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const jI=new $,Dy=new $;class Xte{constructor(e=new $,n=new $){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){jI.subVectors(e,this.start),Dy.subVectors(this.end,this.start);const r=Dy.dot(Dy);let s=Dy.dot(jI)/r;return n&&(s=Yn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const HI=new $;class Yte extends en{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new It,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new rt(i,3));const s=new Oi({fog:!1,toneMapped:!1});this.cone=new Ra(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),HI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(HI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const iu=new $,ky=new bt,BE=new bt;class Zte extends Ra{constructor(e){const n=k9(e),r=new It,i=[],s=[],o=new Ke(0,0,1),a=new Ke(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new rt(i,3)),r.setAttribute("color",new rt(s,3));const l=new Oi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");BE.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(ky.multiplyMatrices(BE,a.matrixWorld),iu.setFromMatrixPosition(ky),i.setXYZ(o,iu.x,iu.y,iu.z),ky.multiplyMatrices(BE,a.parent.matrixWorld),iu.setFromMatrixPosition(ky),i.setXYZ(o+1,iu.x,iu.y,iu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function k9(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,k9(t.children[n]));return e}class Kte extends Yr{constructor(e,n,r){const i=new ov(n,4,2),s=new uc({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Qte=new $,WI=new Ke,GI=new Ke;class Jte extends en{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new sv(n);i.rotateY(Math.PI*.5),this.material=new uc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new vn(o,3)),this.add(new Yr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");WI.copy(this.light.color),GI.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?WI:GI;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Qte.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ene extends Ra{constructor(e=10,n=10,r=4473924,i=8947848){r=new Ke(r),i=new Ke(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let p=0,m=0,g=-a;p<=n;p++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const y=p===s?r:i;y.toArray(u,m),m+=3,y.toArray(u,m),m+=3,y.toArray(u,m),m+=3,y.toArray(u,m),m+=3}const c=new It;c.setAttribute("position",new rt(l,3)),c.setAttribute("color",new rt(u,3));const d=new Oi({vertexColors:!0,toneMapped:!1});super(c,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class tne extends Ra{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Ke(s),o=new Ke(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const p=d/n*(Math.PI*2),m=Math.sin(p)*e,g=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,g);const y=d&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let d=0;d<r;d++){const p=d&1?s:o,m=e-e/r*d;for(let g=0;g<i;g++){let y=g/i*(Math.PI*2),_=Math.sin(y)*m,v=Math.cos(y)*m;a.push(_,0,v),l.push(p.r,p.g,p.b),y=(g+1)/i*(Math.PI*2),_=Math.sin(y)*m,v=Math.cos(y)*m,a.push(_,0,v),l.push(p.r,p.g,p.b)}}const u=new It;u.setAttribute("position",new rt(a,3)),u.setAttribute("color",new rt(l,3));const c=new Oi({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const $I=new $,Fy=new $,qI=new $;class nne extends en{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new It;i.setAttribute("position",new rt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Oi({fog:!1,toneMapped:!1});this.lightPlane=new qu(i,s),this.add(this.lightPlane),i=new It,i.setAttribute("position",new rt([0,0,0,0,0,1],3)),this.targetLine=new qu(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),$I.setFromMatrixPosition(this.light.matrixWorld),Fy.setFromMatrixPosition(this.light.target.matrixWorld),qI.subVectors(Fy,$I),this.lightPlane.lookAt(Fy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Fy),this.targetLine.scale.z=qI.length()}}const Uy=new $,qn=new ev;class rne extends Ra{constructor(e){const n=new It,r=new Oi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,y){l(g),l(y)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new rt(i,3)),n.setAttribute("color",new rt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Ke(16755200),c=new Ke(16711680),d=new Ke(43775),p=new Ke(16777215),m=new Ke(3355443);this.setColors(u,c,d,p,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;qn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),nr("c",n,e,qn,0,0,-1),nr("t",n,e,qn,0,0,1),nr("n1",n,e,qn,-r,-i,-1),nr("n2",n,e,qn,r,-i,-1),nr("n3",n,e,qn,-r,i,-1),nr("n4",n,e,qn,r,i,-1),nr("f1",n,e,qn,-r,-i,1),nr("f2",n,e,qn,r,-i,1),nr("f3",n,e,qn,-r,i,1),nr("f4",n,e,qn,r,i,1),nr("u1",n,e,qn,r*.7,i*1.1,-1),nr("u2",n,e,qn,-r*.7,i*1.1,-1),nr("u3",n,e,qn,0,i*2,-1),nr("cf1",n,e,qn,-r,0,1),nr("cf2",n,e,qn,r,0,1),nr("cf3",n,e,qn,0,-i,1),nr("cf4",n,e,qn,0,i,1),nr("cn1",n,e,qn,-r,0,-1),nr("cn2",n,e,qn,r,0,-1),nr("cn3",n,e,qn,0,-i,-1),nr("cn4",n,e,qn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function nr(t,e,n,r,i,s,o){Uy.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],Uy.x,Uy.y,Uy.z)}}const zy=new Pa;class ine extends Ra{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new It;s.setIndex(new vn(r,1)),s.setAttribute("position",new vn(i,3)),super(s,new Oi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&zy.setFromObject(this.object),zy.isEmpty())return;const n=zy.min,r=zy.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class sne extends Ra{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new It;s.setIndex(new vn(r,1)),s.setAttribute("position",new rt(i,3)),super(s,new Oi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class one extends qu{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new It;o.setAttribute("position",new rt(s,3)),o.computeBoundingSphere(),super(o,new Oi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new It;l.setAttribute("position",new rt(a,3)),l.computeBoundingSphere(),this.add(new Yr(l,new uc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const XI=new $;let By,VE;class ane extends en{constructor(e=new $(0,0,1),n=new $(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",By===void 0&&(By=new It,By.setAttribute("position",new rt([0,0,0,0,1,0],3)),VE=new Ep(0,.5,1,5,1),VE.translate(0,-.5,0)),this.position.copy(n),this.line=new qu(By,new Oi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Yr(VE,new uc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{XI.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(XI,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class lne extends Ra{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new It;i.setAttribute("position",new rt(n,3)),i.setAttribute("color",new rt(r,3));const s=new Oi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Ke,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class une{constructor(){this.type="ShapePath",this.color=new Ke,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new e0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const x=[];for(let w=0,M=v.length;w<M;w++){const b=v[w],T=new ph;T.curves=b.curves,x.push(T)}return x}function r(v,x){const w=x.length;let M=!1;for(let b=w-1,T=0;T<w;b=T++){let C=x[b],I=x[T],R=I.x-C.x,N=I.y-C.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(C=x[T],R=-R,I=x[b],N=-N),v.y<C.y||v.y>I.y)continue;if(v.y===C.y){if(v.x===C.x)return!0}else{const z=N*(v.x-C.x)-R*(v.y-C.y);if(z===0)return!0;if(z<0)continue;M=!M}}else{if(v.y!==C.y)continue;if(I.x<=v.x&&v.x<=C.x||C.x<=v.x&&v.x<=I.x)return!0}}return M}const i=Sa.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new ph,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const d=[],p=[];let m=[],g=0,y;p[g]=void 0,m[g]=[];for(let v=0,x=s.length;v<x;v++)a=s[v],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!c&&p[g]&&g++,p[g]={s:new ph,p:y},p[g].s.curves=a.curves,c&&g++,m[g]=[]):m[g].push({h:a,p:y[0]});if(!p[0])return n(s);if(p.length>1){let v=!1,x=0;for(let w=0,M=p.length;w<M;w++)d[w]=[];for(let w=0,M=p.length;w<M;w++){const b=m[w];for(let T=0;T<b.length;T++){const C=b[T];let I=!0;for(let R=0;R<p.length;R++)r(C.p,p[R].p)&&(w!==R&&x++,I?(I=!1,d[R].push(C)):v=!0);I&&d[w].push(C)}}x>0&&v===!1&&(m=d)}let _;for(let v=0,x=p.length;v<x;v++){l=p[v].s,u.push(l),_=m[v];for(let w=0,M=_.length;w<M;w++)l.holes.push(_[w].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:US}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=US);const cne=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:CC,AddEquation:$c,AddOperation:eF,AdditiveAnimationBlendMode:kC,AdditiveBlending:gx,AlphaFormat:aF,AlwaysCompare:CF,AlwaysDepth:q7,AlwaysStencilFunc:xF,AmbientLight:T9,AmbientLightProbe:Mte,AnimationAction:O9,AnimationClip:o0,AnimationLoader:hte,AnimationMixer:Vte,AnimationObjectGroup:zte,AnimationUtils:ate,ArcCurve:QF,ArrayCamera:jF,ArrowHelper:ane,Audio:N9,AudioAnalyser:Pte,AudioContext:h4,AudioListener:Tte,AudioLoader:Ste,AxesHelper:lne,BackSide:Pi,BasicDepthPacking:vF,BasicShadowMap:O7,Bone:YC,BooleanKeyframeTrack:$h,Box2:qte,Box3:Pa,Box3Helper:sne,BoxGeometry:Gh,BoxHelper:ine,BufferAttribute:vn,BufferGeometry:It,BufferGeometryLoader:R9,ByteType:sF,Cache:Nh,Camera:ev,CameraHelper:rne,CanvasTexture:Nee,CapsuleGeometry:QS,CatmullRomCurve3:JF,CineonToneMapping:rF,CircleGeometry:JS,ClampToEdgeWrapping:gi,Clock:d4,Color:Ke,ColorKeyframeTrack:l4,ColorManagement:Hs,CompressedArrayTexture:Ree,CompressedTexture:KC,CompressedTextureLoader:dte,ConeGeometry:e2,CubeCamera:LF,CubeReflectionMapping:Wu,CubeRefractionMapping:Gu,CubeTexture:tv,CubeTextureLoader:fte,CubeUVReflectionMapping:Sp,CubicBezierCurve:JC,CubicBezierCurve3:e9,CubicInterpolant:y9,CullFaceBack:V3,CullFaceFront:I7,CullFaceFrontBack:EX,CullFaceNone:N7,Curve:qo,CurvePath:n9,CustomBlending:L7,CustomToneMapping:iF,CylinderGeometry:Ep,Cylindrical:$te,Data3DTexture:VC,DataArrayTexture:HS,DataTexture:Pf,DataTextureLoader:pte,DataUtils:FY,DecrementStencilOp:kX,DecrementWrapStencilOp:UX,DefaultLoadingManager:S9,DepthFormat:Ou,DepthStencilFormat:Ch,DepthTexture:HF,DirectionalLight:b9,DirectionalLightHelper:nne,DiscreteInterpolant:_9,DisplayP3ColorSpace:UC,DodecahedronGeometry:t2,DoubleSide:da,DstAlphaFactor:V7,DstColorFactor:H7,DynamicCopyUsage:JX,DynamicDrawUsage:qX,DynamicReadUsage:ZX,EdgesGeometry:r9,EllipseCurve:ZS,EqualCompare:MF,EqualDepth:Y7,EqualStencilFunc:jX,EquirectangularReflectionMapping:Wg,EquirectangularRefractionMapping:Gg,Euler:J0,EventDispatcher:kl,ExtrudeGeometry:r2,FileLoader:Cl,Float16BufferAttribute:HY,Float32BufferAttribute:rt,Float64BufferAttribute:WY,FloatType:fa,Fog:qS,FogExp2:$S,FramebufferTexture:Pee,FrontSide:Al,Frustum:WS,GLBufferAttribute:Gte,GLSL1:tY,GLSL3:mT,GreaterCompare:bF,GreaterDepth:K7,GreaterEqualCompare:AF,GreaterEqualDepth:Z7,GreaterEqualStencilFunc:$X,GreaterStencilFunc:WX,GridHelper:ene,Group:mf,HalfFloatType:$f,HemisphereLight:w9,HemisphereLightHelper:Jte,HemisphereLightProbe:wte,IcosahedronGeometry:i2,ImageBitmapLoader:xte,ImageLoader:a0,ImageUtils:BC,IncrementStencilOp:DX,IncrementWrapStencilOp:FX,InstancedBufferAttribute:Yf,InstancedBufferGeometry:P9,InstancedInterleavedBuffer:Wte,InstancedMesh:YF,Int16BufferAttribute:VY,Int32BufferAttribute:jY,Int8BufferAttribute:UY,IntType:RC,InterleavedBuffer:XS,InterleavedBufferAttribute:Ph,Interpolant:av,InterpolateDiscrete:Xg,InterpolateLinear:Yg,InterpolateSmooth:w_,InvertStencilOp:zX,KeepStencilOp:M_,KeyframeTrack:Xo,LOD:qF,LatheGeometry:iv,Layers:fh,LessCompare:wF,LessDepth:X7,LessEqualCompare:EF,LessEqualDepth:vx,LessEqualStencilFunc:HX,LessStencilFunc:VX,Light:hc,LightProbe:h2,Line:qu,Line3:Xte,LineBasicMaterial:Oi,LineCurve:KS,LineCurve3:t9,LineDashedMaterial:g9,LineLoop:ZF,LineSegments:Ra,LinearEncoding:FC,LinearFilter:ar,LinearInterpolant:a4,LinearMipMapLinearFilter:PX,LinearMipMapNearestFilter:CX,LinearMipmapLinearFilter:$u,LinearMipmapNearestFilter:PC,LinearSRGBColorSpace:Fo,LinearToneMapping:tF,Loader:es,LoaderUtils:MT,LoadingManager:u4,LoopOnce:pF,LoopPingPong:gF,LoopRepeat:mF,LuminanceAlphaFormat:uF,LuminanceFormat:lF,MOUSE:wX,Material:Jr,MaterialLoader:d2,MathUtils:mY,Matrix3:Rt,Matrix4:bt,MaxEquation:G3,Mesh:Yr,MeshBasicMaterial:uc,MeshDepthMaterial:GC,MeshDistanceMaterial:$C,MeshLambertMaterial:p9,MeshMatcapMaterial:m9,MeshNormalMaterial:f9,MeshPhongMaterial:h9,MeshPhysicalMaterial:c9,MeshStandardMaterial:i4,MeshToonMaterial:d9,MinEquation:W3,MirroredRepeatWrapping:qg,MixOperation:J7,MultiplyBlending:H3,MultiplyOperation:Q0,NearestFilter:sr,NearestMipMapLinearFilter:AX,NearestMipMapNearestFilter:TX,NearestMipmapLinearFilter:ag,NearestMipmapNearestFilter:yx,NeverCompare:SF,NeverDepth:$7,NeverStencilFunc:BX,NoBlending:_l,NoColorSpace:Du,NoToneMapping:Lo,NormalAnimationBlendMode:jS,NormalBlending:hh,NotEqualCompare:TF,NotEqualDepth:Q7,NotEqualStencilFunc:GX,NumberKeyframeTrack:i0,Object3D:en,ObjectLoader:yte,ObjectSpaceNormalMap:_F,OctahedronGeometry:sv,OneFactor:U7,OneMinusDstAlphaFactor:j7,OneMinusDstColorFactor:W7,OneMinusSrcAlphaFactor:AC,OneMinusSrcColorFactor:B7,OrthographicCamera:rv,PCFShadowMap:zS,PCFSoftShadowMap:og,PMREMGenerator:vT,Path:e0,PerspectiveCamera:zr,Plane:hu,PlaneGeometry:nv,PlaneHelper:one,PointLight:E9,PointLightHelper:Kte,Points:KF,PointsMaterial:ZC,PolarGridHelper:tne,PolyhedronGeometry:cc,PositionalAudio:Cte,PropertyBinding:qt,PropertyMixer:I9,QuadraticBezierCurve:e4,QuadraticBezierCurve3:t4,Quaternion:Zi,QuaternionKeyframeTrack:bp,QuaternionLinearInterpolant:x9,RED_GREEN_RGTC2_Format:fT,RED_RGTC1_Format:fF,REVISION:US,RGBADepthPacking:yF,RGBAFormat:Gi,RGBAIntegerFormat:DC,RGBA_ASTC_10x10_Format:uT,RGBA_ASTC_10x5_Format:oT,RGBA_ASTC_10x6_Format:aT,RGBA_ASTC_10x8_Format:lT,RGBA_ASTC_12x10_Format:cT,RGBA_ASTC_12x12_Format:hT,RGBA_ASTC_4x4_Format:Q3,RGBA_ASTC_5x4_Format:J3,RGBA_ASTC_5x5_Format:eT,RGBA_ASTC_6x5_Format:tT,RGBA_ASTC_6x6_Format:nT,RGBA_ASTC_8x5_Format:rT,RGBA_ASTC_8x6_Format:iT,RGBA_ASTC_8x8_Format:sT,RGBA_BPTC_Format:S_,RGBA_ETC2_EAC_Format:K3,RGBA_PVRTC_2BPPV1_Format:Y3,RGBA_PVRTC_4BPPV1_Format:X3,RGBA_S3TC_DXT1_Format:y_,RGBA_S3TC_DXT3_Format:__,RGBA_S3TC_DXT5_Format:x_,RGB_ETC1_Format:dF,RGB_ETC2_Format:Z3,RGB_PVRTC_2BPPV1_Format:q3,RGB_PVRTC_4BPPV1_Format:$3,RGB_S3TC_DXT1_Format:v_,RGFormat:hF,RGIntegerFormat:LC,RawShaderMaterial:u9,Ray:wp,Raycaster:L9,RectAreaLight:A9,RedFormat:cF,RedIntegerFormat:OC,ReinhardToneMapping:nF,RepeatWrapping:$g,ReplaceStencilOp:LX,ReverseSubtractEquation:k7,RingGeometry:s2,SIGNED_RED_GREEN_RGTC2_Format:pT,SIGNED_RED_RGTC1_Format:dT,SRGBColorSpace:Tt,Scene:Sx,ShaderChunk:At,ShaderLib:wo,ShaderMaterial:zo,ShadowMaterial:l9,Shape:ph,ShapeGeometry:o2,ShapePath:une,ShapeUtils:Sa,ShortType:oF,Skeleton:YS,SkeletonHelper:Zte,SkinnedMesh:XF,Source:rh,Sphere:$o,SphereGeometry:ov,Spherical:D9,SphericalHarmonics3:C9,SplineCurve:n4,SpotLight:M9,SpotLightHelper:Yte,Sprite:$F,SpriteMaterial:XC,SrcAlphaFactor:TC,SrcAlphaSaturateFactor:G7,SrcColorFactor:z7,StaticCopyUsage:QX,StaticDrawUsage:Kg,StaticReadUsage:YX,StereoCamera:Ete,StreamCopyUsage:eY,StreamDrawUsage:XX,StreamReadUsage:KX,StringKeyframeTrack:qh,SubtractEquation:D7,SubtractiveBlending:j3,TOUCH:MX,TangentSpaceNormalMap:lc,TetrahedronGeometry:a2,Texture:Kn,TextureLoader:lv,TorusGeometry:l2,TorusKnotGeometry:u2,Triangle:Hi,TriangleFanDrawMode:IX,TriangleStripDrawMode:NX,TrianglesDrawMode:RX,TubeGeometry:c2,TwoPassDoubleSide:bX,UVMapping:BS,Uint16BufferAttribute:jC,Uint32BufferAttribute:HC,Uint8BufferAttribute:zY,Uint8ClampedBufferAttribute:BY,Uniform:m4,UniformsGroup:Hte,UniformsLib:$e,UniformsUtils:OF,UnsignedByteType:xa,UnsignedInt248Type:Iu,UnsignedIntType:dl,UnsignedShort4444Type:NC,UnsignedShort5551Type:IC,UnsignedShortType:VS,VSMShadowMap:go,Vector2:Oe,Vector3:$,Vector4:ln,VectorKeyframeTrack:s0,VideoTexture:Cee,WebGL1Renderer:WF,WebGL3DRenderTarget:TY,WebGLArrayRenderTarget:bY,WebGLCoordinateSystem:pa,WebGLCubeRenderTarget:DF,WebGLMultipleRenderTargets:AY,WebGLRenderTarget:Uo,WebGLRenderer:qC,WebGLUtils:VF,WebGPUCoordinateSystem:Qg,WireframeGeometry:a9,WrapAroundEnding:Zg,ZeroCurvatureEnding:th,ZeroFactor:F7,ZeroSlopeEnding:nh,ZeroStencilOp:OX,_SRGBAFormat:_x,sRGBEncoding:Lu},Symbol.toStringTag,{value:"Module"}));var F9={exports:{}},Xh={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Xh.ConcurrentRoot=1;Xh.ContinuousEventPriority=4;Xh.DefaultEventPriority=16;Xh.DiscreteEventPriority=1;Xh.IdleEventPriority=536870912;Xh.LegacyRoot=0;F9.exports=Xh;var vf=F9.exports;function hne(t){let e;const n=new Set,r=(u,c)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=c?d:Object.assign({},e,d),n.forEach(m=>m(e,p))}},i=()=>e,s=(u,c=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=c(e);function m(){const g=c(e);if(!d(p,g)){const y=p;u(p=g,y)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,d)=>c||d?s(u,c,d):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const dne=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),YI=dne?P.useEffect:P.useLayoutEffect;function fne(t){const e=typeof t=="function"?hne(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=P.useReducer(_=>_+1,0),o=e.getState(),a=P.useRef(o),l=P.useRef(r),u=P.useRef(i),c=P.useRef(!1),d=P.useRef();d.current===void 0&&(d.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(p=r(o),m=!i(d.current,p)),YI(()=>{m&&(d.current=p),a.current=o,l.current=r,u.current=i,c.current=!1});const g=P.useRef(o);YI(()=>{const _=()=>{try{const x=e.getState(),w=l.current(x);u.current(d.current,w)||(a.current=x,d.current=w,s())}catch{c.current=!0,s()}},v=e.subscribe(_);return e.getState()!==g.current&&_(),v},[]);const y=m?p:d.current;return P.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var U9={exports:{}},jE={exports:{}},HE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZI;function pne(){return ZI||(ZI=1,function(t){function e(F,j){var H=F.length;F.push(j);e:for(;0<H;){var D=H-1>>>1,U=F[D];if(0<i(U,j))F[D]=j,F[H]=U,H=D;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],H=F.pop();if(H!==j){F[0]=H;e:for(var D=0,U=F.length,Y=U>>>1;D<Y;){var q=2*(D+1)-1,te=F[q],ue=q+1,Se=F[ue];if(0>i(te,H))ue<U&&0>i(Se,te)?(F[D]=Se,F[ue]=H,D=ue):(F[D]=te,F[q]=H,D=q);else if(ue<U&&0>i(Se,H))F[D]=Se,F[ue]=H,D=ue;else break e}}return j}function i(F,j){var H=F.sortIndex-j.sortIndex;return H!==0?H:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=F)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function M(F){if(y=!1,w(F),!g)if(n(l)!==null)g=!0,ne(b);else{var j=n(u);j!==null&&ee(M,j.startTime-F)}}function b(F,j){g=!1,y&&(y=!1,v(I),I=-1),m=!0;var H=p;try{for(w(j),d=n(l);d!==null&&(!(d.expirationTime>j)||F&&!z());){var D=d.callback;if(typeof D=="function"){d.callback=null,p=d.priorityLevel;var U=D(d.expirationTime<=j);j=t.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),w(j)}else r(l);d=n(l)}if(d!==null)var Y=!0;else{var q=n(u);q!==null&&ee(M,q.startTime-j),Y=!1}return Y}finally{d=null,p=H,m=!1}}var T=!1,C=null,I=-1,R=5,N=-1;function z(){return!(t.unstable_now()-N<R)}function V(){if(C!==null){var F=t.unstable_now();N=F;var j=!0;try{j=C(!0,F)}finally{j?W():(T=!1,C=null)}}else T=!1}var W;if(typeof x=="function")W=function(){x(V)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=V,W=function(){J.postMessage(null)}}else W=function(){_(V,0)};function ne(F){C=F,T||(T=!0,W())}function ee(F,j){I=_(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,ne(b))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var H=p;p=j;try{return F()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=p;p=F;try{return j()}finally{p=H}},t.unstable_scheduleCallback=function(F,j,H){var D=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?D+H:D):H=D,F){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=H+U,F={id:c++,callback:j,priorityLevel:F,startTime:H,expirationTime:U,sortIndex:-1},H>D?(F.sortIndex=H,e(u,F),n(l)===null&&F===n(u)&&(y?(v(I),I=-1):y=!0,ee(M,H-D))):(F.sortIndex=U,e(l,F),g||m||(g=!0,ne(b))),F},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(F){var j=p;return function(){var H=p;p=j;try{return F.apply(this,arguments)}finally{p=H}}}}(HE)),HE}var KI;function mne(){return KI||(KI=1,jE.exports=pne()),jE.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gne=function(e){var n={},r=P,i=mne(),s=Object.assign;function o(h){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)f+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),b=Symbol.iterator;function T(h){return h===null||typeof h!="object"?null:(h=b&&h[b]||h["@@iterator"],typeof h=="function"?h:null)}function C(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case _:return"Suspense";case v:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case y:var f=h.render;return h=h.displayName,h||(h=f.displayName||f.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case x:return f=h.displayName||null,f!==null?f:C(h.type)||"Memo";case w:f=h._payload,h=h._init;try{return C(h(f))}catch{}}return null}function I(h){var f=h.type;switch(h.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=f.render,h=h.displayName||h.name||"",f.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function R(h){var f=h,S=h;if(h.alternate)for(;f.return;)f=f.return;else{h=f;do f=h,f.flags&4098&&(S=f.return),h=f.return;while(h)}return f.tag===3?S:null}function N(h){if(R(h)!==h)throw Error(o(188))}function z(h){var f=h.alternate;if(!f){if(f=R(h),f===null)throw Error(o(188));return f!==h?null:h}for(var S=h,E=f;;){var A=S.return;if(A===null)break;var L=A.alternate;if(L===null){if(E=A.return,E!==null){S=E;continue}break}if(A.child===L.child){for(L=A.child;L;){if(L===S)return N(A),h;if(L===E)return N(A),f;L=L.sibling}throw Error(o(188))}if(S.return!==E.return)S=A,E=L;else{for(var X=!1,se=A.child;se;){if(se===S){X=!0,S=A,E=L;break}if(se===E){X=!0,E=A,S=L;break}se=se.sibling}if(!X){for(se=L.child;se;){if(se===S){X=!0,S=L,E=A;break}if(se===E){X=!0,E=L,S=A;break}se=se.sibling}if(!X)throw Error(o(189))}}if(S.alternate!==E)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?h:f}function V(h){return h=z(h),h!==null?W(h):null}function W(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var f=W(h);if(f!==null)return f;h=h.sibling}return null}function K(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var f=K(h);if(f!==null)return f}h=h.sibling}return null}var J=Array.isArray,ne=e.getPublicInstance,ee=e.getRootHostContext,F=e.getChildHostContext,j=e.prepareForCommit,H=e.resetAfterCommit,D=e.createInstance,U=e.appendInitialChild,Y=e.finalizeInitialChildren,q=e.prepareUpdate,te=e.shouldSetTextContent,ue=e.createTextInstance,Se=e.scheduleTimeout,pe=e.cancelTimeout,Ge=e.noTimeout,nt=e.isPrimaryRenderer,ze=e.supportsMutation,Z=e.supportsPersistence,Ne=e.supportsHydration,ye=e.getInstanceFromNode,he=e.preparePortalMount,de=e.getCurrentEventPriority,De=e.detachDeletedInstance,Le=e.supportsMicrotasks,Ie=e.scheduleMicrotask,Ve=e.supportsTestSelectors,it=e.findFiberRoot,ae=e.getBoundingRect,B=e.getTextContent,k=e.isHiddenSubtree,le=e.matchAccessibilityRole,_e=e.setFocusIfFocusable,be=e.setupIntersectionObserver,Fe=e.appendChild,qe=e.appendChildToContainer,He=e.commitTextUpdate,Me=e.commitMount,st=e.commitUpdate,ut=e.insertBefore,ie=e.insertInContainerBefore,re=e.removeChild,me=e.removeChildFromContainer,ke=e.resetTextContent,Ye=e.hideInstance,Q=e.hideTextInstance,Ce=e.unhideInstance,oe=e.unhideTextInstance,xe=e.clearContainer,Ue=e.cloneInstance,Qe=e.createContainerChildSet,Ct=e.appendChildToContainerChildSet,Ot=e.finalizeContainerChildren,hn=e.replaceContainerChildren,Bt=e.cloneHiddenInstance,xr=e.cloneHiddenTextInstance,er=e.canHydrateInstance,Fa=e.canHydrateTextInstance,Di=e.canHydrateSuspenseInstance,Ua=e.isSuspenseInstancePending,Is=e.isSuspenseInstanceFallback,Hl=e.registerSuspenseInstanceRetry,ki=e.getNextHydratableSibling,za=e.getFirstHydratableChild,dn=e.getFirstHydratableChildWithinContainer,ni=e.getFirstHydratableChildWithinSuspenseInstance,Jo=e.hydrateInstance,G=e.hydrateTextInstance,ge=e.hydrateSuspenseInstance,Te=e.getNextHydratableInstanceAfterSuspenseInstance,fe=e.commitHydratedContainer,Ae=e.commitHydratedSuspenseInstance,et=e.clearSuspenseBoundary,ht=e.clearSuspenseBoundaryFromContainer,pt=e.shouldDeleteUnhydratedTailInstances,mt=e.didNotMatchHydratedContainerTextInstance,Lt=e.didNotMatchHydratedTextInstance,gt;function vt(h){if(gt===void 0)try{throw Error()}catch(S){var f=S.stack.trim().match(/\n( *(at )?)/);gt=f&&f[1]||""}return`
`+gt+h}var yn=!1;function Mn(h,f){if(!h||yn)return"";yn=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(je){var E=je}Reflect.construct(h,[],f)}else{try{f.call()}catch(je){E=je}h.call(f.prototype)}else{try{throw Error()}catch(je){E=je}h()}}catch(je){if(je&&E&&typeof je.stack=="string"){for(var A=je.stack.split(`
`),L=E.stack.split(`
`),X=A.length-1,se=L.length-1;1<=X&&0<=se&&A[X]!==L[se];)se--;for(;1<=X&&0<=se;X--,se--)if(A[X]!==L[se]){if(X!==1||se!==1)do if(X--,se--,0>se||A[X]!==L[se]){var Ee=`
`+A[X].replace(" at new "," at ");return h.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",h.displayName)),Ee}while(1<=X&&0<=se);break}}}finally{yn=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?vt(h):""}var ts=Object.prototype.hasOwnProperty,ns=[],mn=-1;function St(h){return{current:h}}function an(h){0>mn||(h.current=ns[mn],ns[mn]=null,mn--)}function xt(h,f){mn++,ns[mn]=h.current,h.current=f}var ri={},Sr=St(ri),dr=St(!1),io=ri;function Wn(h,f){var S=h.type.contextTypes;if(!S)return ri;var E=h.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===f)return E.__reactInternalMemoizedMaskedChildContext;var A={},L;for(L in S)A[L]=f[L];return E&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=f,h.__reactInternalMemoizedMaskedChildContext=A),A}function Gn(h){return h=h.childContextTypes,h!=null}function Wl(){an(dr),an(Sr)}function ii(h,f,S){if(Sr.current!==ri)throw Error(o(168));xt(Sr,f),xt(dr,S)}function sd(h,f,S){var E=h.stateNode;if(f=f.childContextTypes,typeof E.getChildContext!="function")return S;E=E.getChildContext();for(var A in E)if(!(A in f))throw Error(o(108,I(h)||"Unknown",A));return s({},S,E)}function od(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||ri,io=Sr.current,xt(Sr,h),xt(dr,dr.current),!0}function zp(h,f,S){var E=h.stateNode;if(!E)throw Error(o(169));S?(h=sd(h,f,io),E.__reactInternalMemoizedMergedChildContext=h,an(dr),an(Sr),xt(Sr,h)):an(dr),xt(dr,S)}var so=Math.clz32?Math.clz32:IH,RH=Math.log,NH=Math.LN2;function IH(h){return h>>>=0,h===0?32:31-(RH(h)/NH|0)|0}var Wv=64,Gv=4194304;function Bp(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function $v(h,f){var S=h.pendingLanes;if(S===0)return 0;var E=0,A=h.suspendedLanes,L=h.pingedLanes,X=S&268435455;if(X!==0){var se=X&~A;se!==0?E=Bp(se):(L&=X,L!==0&&(E=Bp(L)))}else X=S&~A,X!==0?E=Bp(X):L!==0&&(E=Bp(L));if(E===0)return 0;if(f!==0&&f!==E&&!(f&A)&&(A=E&-E,L=f&-f,A>=L||A===16&&(L&4194240)!==0))return f;if(E&4&&(E|=S&16),f=h.entangledLanes,f!==0)for(h=h.entanglements,f&=E;0<f;)S=31-so(f),A=1<<S,E|=h[S],f&=~A;return E}function OH(h,f){switch(h){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LH(h,f){for(var S=h.suspendedLanes,E=h.pingedLanes,A=h.expirationTimes,L=h.pendingLanes;0<L;){var X=31-so(L),se=1<<X,Ee=A[X];Ee===-1?(!(se&S)||se&E)&&(A[X]=OH(se,f)):Ee<=f&&(h.expiredLanes|=se),L&=~se}}function Nw(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Iw(h){for(var f=[],S=0;31>S;S++)f.push(h);return f}function Vp(h,f,S){h.pendingLanes|=f,f!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,f=31-so(f),h[f]=S}function DH(h,f){var S=h.pendingLanes&~f;h.pendingLanes=f,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=f,h.mutableReadLanes&=f,h.entangledLanes&=f,f=h.entanglements;var E=h.eventTimes;for(h=h.expirationTimes;0<S;){var A=31-so(S),L=1<<A;f[A]=0,E[A]=-1,h[A]=-1,S&=~L}}function Ow(h,f){var S=h.entangledLanes|=f;for(h=h.entanglements;S;){var E=31-so(S),A=1<<E;A&f|h[E]&f&&(h[E]|=f),S&=~A}}var Kt=0;function y5(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Lw=i.unstable_scheduleCallback,_5=i.unstable_cancelCallback,kH=i.unstable_shouldYield,FH=i.unstable_requestPaint,Ir=i.unstable_now,Dw=i.unstable_ImmediatePriority,UH=i.unstable_UserBlockingPriority,kw=i.unstable_NormalPriority,zH=i.unstable_IdlePriority,qv=null,ea=null;function BH(h){if(ea&&typeof ea.onCommitFiberRoot=="function")try{ea.onCommitFiberRoot(qv,h,void 0,(h.current.flags&128)===128)}catch{}}function VH(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var ta=typeof Object.is=="function"?Object.is:VH,Ba=null,Xv=!1,Fw=!1;function x5(h){Ba===null?Ba=[h]:Ba.push(h)}function jH(h){Xv=!0,x5(h)}function na(){if(!Fw&&Ba!==null){Fw=!0;var h=0,f=Kt;try{var S=Ba;for(Kt=1;h<S.length;h++){var E=S[h];do E=E(!0);while(E!==null)}Ba=null,Xv=!1}catch(A){throw Ba!==null&&(Ba=Ba.slice(h+1)),Lw(Dw,na),A}finally{Kt=f,Fw=!1}}return null}var HH=a.ReactCurrentBatchConfig;function Yv(h,f){if(ta(h,f))return!0;if(typeof h!="object"||h===null||typeof f!="object"||f===null)return!1;var S=Object.keys(h),E=Object.keys(f);if(S.length!==E.length)return!1;for(E=0;E<S.length;E++){var A=S[E];if(!ts.call(f,A)||!ta(h[A],f[A]))return!1}return!0}function WH(h){switch(h.tag){case 5:return vt(h.type);case 16:return vt("Lazy");case 13:return vt("Suspense");case 19:return vt("SuspenseList");case 0:case 2:case 15:return h=Mn(h.type,!1),h;case 11:return h=Mn(h.type.render,!1),h;case 1:return h=Mn(h.type,!0),h;default:return""}}function oo(h,f){if(h&&h.defaultProps){f=s({},f),h=h.defaultProps;for(var S in h)f[S]===void 0&&(f[S]=h[S]);return f}return f}var Zv=St(null),Kv=null,ad=null,Uw=null;function zw(){Uw=ad=Kv=null}function S5(h,f,S){nt?(xt(Zv,f._currentValue),f._currentValue=S):(xt(Zv,f._currentValue2),f._currentValue2=S)}function Bw(h){var f=Zv.current;an(Zv),nt?h._currentValue=f:h._currentValue2=f}function Vw(h,f,S){for(;h!==null;){var E=h.alternate;if((h.childLanes&f)!==f?(h.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),h===S)break;h=h.return}}function ld(h,f){Kv=h,Uw=ad=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&f&&(ss=!0),h.firstContext=null)}function Os(h){var f=nt?h._currentValue:h._currentValue2;if(Uw!==h)if(h={context:h,memoizedValue:f,next:null},ad===null){if(Kv===null)throw Error(o(308));ad=h,Kv.dependencies={lanes:0,firstContext:h}}else ad=ad.next=h;return f}var ra=null,Gl=!1;function jw(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w5(h,f){h=h.updateQueue,f.updateQueue===h&&(f.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Va(h,f){return{eventTime:h,lane:f,tag:0,payload:null,callback:null,next:null}}function $l(h,f){var S=h.updateQueue;S!==null&&(S=S.shared,fr!==null&&h.mode&1&&!(Dt&2)?(h=S.interleaved,h===null?(f.next=f,ra===null?ra=[S]:ra.push(S)):(f.next=h.next,h.next=f),S.interleaved=f):(h=S.pending,h===null?f.next=f:(f.next=h.next,h.next=f),S.pending=f))}function Qv(h,f,S){if(f=f.updateQueue,f!==null&&(f=f.shared,(S&4194240)!==0)){var E=f.lanes;E&=h.pendingLanes,S|=E,f.lanes=S,Ow(h,S)}}function M5(h,f){var S=h.updateQueue,E=h.alternate;if(E!==null&&(E=E.updateQueue,S===E)){var A=null,L=null;if(S=S.firstBaseUpdate,S!==null){do{var X={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};L===null?A=L=X:L=L.next=X,S=S.next}while(S!==null);L===null?A=L=f:L=L.next=f}else A=L=f;S={baseState:E.baseState,firstBaseUpdate:A,lastBaseUpdate:L,shared:E.shared,effects:E.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=f:h.next=f,S.lastBaseUpdate=f}function Jv(h,f,S,E){var A=h.updateQueue;Gl=!1;var L=A.firstBaseUpdate,X=A.lastBaseUpdate,se=A.shared.pending;if(se!==null){A.shared.pending=null;var Ee=se,je=Ee.next;Ee.next=null,X===null?L=je:X.next=je,X=Ee;var tt=h.alternate;tt!==null&&(tt=tt.updateQueue,se=tt.lastBaseUpdate,se!==X&&(se===null?tt.firstBaseUpdate=je:se.next=je,tt.lastBaseUpdate=Ee))}if(L!==null){var wt=A.baseState;X=0,tt=je=Ee=null,se=L;do{var dt=se.lane,gn=se.eventTime;if((E&dt)===dt){tt!==null&&(tt=tt.next={eventTime:gn,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var ct=h,li=se;switch(dt=f,gn=S,li.tag){case 1:if(ct=li.payload,typeof ct=="function"){wt=ct.call(gn,wt,dt);break e}wt=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=li.payload,dt=typeof ct=="function"?ct.call(gn,wt,dt):ct,dt==null)break e;wt=s({},wt,dt);break e;case 2:Gl=!0}}se.callback!==null&&se.lane!==0&&(h.flags|=64,dt=A.effects,dt===null?A.effects=[se]:dt.push(se))}else gn={eventTime:gn,lane:dt,tag:se.tag,payload:se.payload,callback:se.callback,next:null},tt===null?(je=tt=gn,Ee=wt):tt=tt.next=gn,X|=dt;if(se=se.next,se===null){if(se=A.shared.pending,se===null)break;dt=se,se=dt.next,dt.next=null,A.lastBaseUpdate=dt,A.shared.pending=null}}while(1);if(tt===null&&(Ee=wt),A.baseState=Ee,A.firstBaseUpdate=je,A.lastBaseUpdate=tt,f=A.shared.interleaved,f!==null){A=f;do X|=A.lane,A=A.next;while(A!==f)}else L===null&&(A.shared.lanes=0);vd|=X,h.lanes=X,h.memoizedState=wt}}function E5(h,f,S){if(h=f.effects,f.effects=null,h!==null)for(f=0;f<h.length;f++){var E=h[f],A=E.callback;if(A!==null){if(E.callback=null,E=S,typeof A!="function")throw Error(o(191,A));A.call(E)}}}var b5=new r.Component().refs;function Hw(h,f,S,E){f=h.memoizedState,S=S(E,f),S=S==null?f:s({},f,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var e1={isMounted:function(h){return(h=h._reactInternals)?R(h)===h:!1},enqueueSetState:function(h,f,S){h=h._reactInternals;var E=xi(),A=Yl(h),L=Va(E,A);L.payload=f,S!=null&&(L.callback=S),$l(h,L),f=Us(h,A,E),f!==null&&Qv(f,h,A)},enqueueReplaceState:function(h,f,S){h=h._reactInternals;var E=xi(),A=Yl(h),L=Va(E,A);L.tag=1,L.payload=f,S!=null&&(L.callback=S),$l(h,L),f=Us(h,A,E),f!==null&&Qv(f,h,A)},enqueueForceUpdate:function(h,f){h=h._reactInternals;var S=xi(),E=Yl(h),A=Va(S,E);A.tag=2,f!=null&&(A.callback=f),$l(h,A),f=Us(h,E,S),f!==null&&Qv(f,h,E)}};function T5(h,f,S,E,A,L,X){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(E,L,X):f.prototype&&f.prototype.isPureReactComponent?!Yv(S,E)||!Yv(A,L):!0}function A5(h,f,S){var E=!1,A=ri,L=f.contextType;return typeof L=="object"&&L!==null?L=Os(L):(A=Gn(f)?io:Sr.current,E=f.contextTypes,L=(E=E!=null)?Wn(h,A):ri),f=new f(S,L),h.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=e1,h.stateNode=f,f._reactInternals=h,E&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=A,h.__reactInternalMemoizedMaskedChildContext=L),f}function C5(h,f,S,E){h=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(S,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(S,E),f.state!==h&&e1.enqueueReplaceState(f,f.state,null)}function Ww(h,f,S,E){var A=h.stateNode;A.props=S,A.state=h.memoizedState,A.refs=b5,jw(h);var L=f.contextType;typeof L=="object"&&L!==null?A.context=Os(L):(L=Gn(f)?io:Sr.current,A.context=Wn(h,L)),A.state=h.memoizedState,L=f.getDerivedStateFromProps,typeof L=="function"&&(Hw(h,f,L,S),A.state=h.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(f=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),f!==A.state&&e1.enqueueReplaceState(A,A.state,null),Jv(h,S,A,E),A.state=h.memoizedState),typeof A.componentDidMount=="function"&&(h.flags|=4194308)}var ud=[],cd=0,t1=null,n1=0,Ls=[],Ds=0,yc=null,ja=1,Ha="";function _c(h,f){ud[cd++]=n1,ud[cd++]=t1,t1=h,n1=f}function P5(h,f,S){Ls[Ds++]=ja,Ls[Ds++]=Ha,Ls[Ds++]=yc,yc=h;var E=ja;h=Ha;var A=32-so(E)-1;E&=~(1<<A),S+=1;var L=32-so(f)+A;if(30<L){var X=A-A%5;L=(E&(1<<X)-1).toString(32),E>>=X,A-=X,ja=1<<32-so(f)+A|S<<A|E,Ha=L+h}else ja=1<<L|S<<A|E,Ha=h}function Gw(h){h.return!==null&&(_c(h,1),P5(h,1,0))}function $w(h){for(;h===t1;)t1=ud[--cd],ud[cd]=null,n1=ud[--cd],ud[cd]=null;for(;h===yc;)yc=Ls[--Ds],Ls[Ds]=null,Ha=Ls[--Ds],Ls[Ds]=null,ja=Ls[--Ds],Ls[Ds]=null}var rs=null,is=null,Rn=!1,jp=!1,ao=null;function R5(h,f){var S=zs(5,null,null,0);S.elementType="DELETED",S.stateNode=f,S.return=h,f=h.deletions,f===null?(h.deletions=[S],h.flags|=16):f.push(S)}function N5(h,f){switch(h.tag){case 5:return f=er(f,h.type,h.pendingProps),f!==null?(h.stateNode=f,rs=h,is=za(f),!0):!1;case 6:return f=Fa(f,h.pendingProps),f!==null?(h.stateNode=f,rs=h,is=null,!0):!1;case 13:if(f=Di(f),f!==null){var S=yc!==null?{id:ja,overflow:Ha}:null;return h.memoizedState={dehydrated:f,treeContext:S,retryLane:1073741824},S=zs(18,null,null,0),S.stateNode=f,S.return=h,h.child=S,rs=h,is=null,!0}return!1;default:return!1}}function qw(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Xw(h){if(Rn){var f=is;if(f){var S=f;if(!N5(h,f)){if(qw(h))throw Error(o(418));f=ki(S);var E=rs;f&&N5(h,f)?R5(E,S):(h.flags=h.flags&-4097|2,Rn=!1,rs=h)}}else{if(qw(h))throw Error(o(418));h.flags=h.flags&-4097|2,Rn=!1,rs=h}}}function I5(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;rs=h}function Hp(h){if(!Ne||h!==rs)return!1;if(!Rn)return I5(h),Rn=!0,!1;if(h.tag!==3&&(h.tag!==5||pt(h.type)&&!te(h.type,h.memoizedProps))){var f=is;if(f){if(qw(h)){for(h=is;h;)h=ki(h);throw Error(o(418))}for(;f;)R5(h,f),f=ki(f)}}if(I5(h),h.tag===13){if(!Ne)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));is=Te(h)}else is=rs?ki(h.stateNode):null;return!0}function hd(){Ne&&(is=rs=null,jp=Rn=!1)}function Yw(h){ao===null?ao=[h]:ao.push(h)}function Wp(h,f,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var E=S.stateNode}if(!E)throw Error(o(147,h));var A=E,L=""+h;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===L?f.ref:(f=function(X){var se=A.refs;se===b5&&(se=A.refs={}),X===null?delete se[L]:se[L]=X},f._stringRef=L,f)}if(typeof h!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,h))}return h}function r1(h,f){throw h=Object.prototype.toString.call(f),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":h))}function O5(h){var f=h._init;return f(h._payload)}function L5(h){function f(ve,ce){if(h){var we=ve.deletions;we===null?(ve.deletions=[ce],ve.flags|=16):we.push(ce)}}function S(ve,ce){if(!h)return null;for(;ce!==null;)f(ve,ce),ce=ce.sibling;return null}function E(ve,ce){for(ve=new Map;ce!==null;)ce.key!==null?ve.set(ce.key,ce):ve.set(ce.index,ce),ce=ce.sibling;return ve}function A(ve,ce){return ve=Kl(ve,ce),ve.index=0,ve.sibling=null,ve}function L(ve,ce,we){return ve.index=we,h?(we=ve.alternate,we!==null?(we=we.index,we<ce?(ve.flags|=2,ce):we):(ve.flags|=2,ce)):(ve.flags|=1048576,ce)}function X(ve){return h&&ve.alternate===null&&(ve.flags|=2),ve}function se(ve,ce,we,Ze){return ce===null||ce.tag!==6?(ce=IM(we,ve.mode,Ze),ce.return=ve,ce):(ce=A(ce,we),ce.return=ve,ce)}function Ee(ve,ce,we,Ze){var lt=we.type;return lt===c?tt(ve,ce,we.props.children,Ze,we.key):ce!==null&&(ce.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&O5(lt)===ce.type)?(Ze=A(ce,we.props),Ze.ref=Wp(ve,ce,we),Ze.return=ve,Ze):(Ze=L1(we.type,we.key,we.props,null,ve.mode,Ze),Ze.ref=Wp(ve,ce,we),Ze.return=ve,Ze)}function je(ve,ce,we,Ze){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==we.containerInfo||ce.stateNode.implementation!==we.implementation?(ce=OM(we,ve.mode,Ze),ce.return=ve,ce):(ce=A(ce,we.children||[]),ce.return=ve,ce)}function tt(ve,ce,we,Ze,lt){return ce===null||ce.tag!==7?(ce=Tc(we,ve.mode,Ze,lt),ce.return=ve,ce):(ce=A(ce,we),ce.return=ve,ce)}function wt(ve,ce,we){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=IM(""+ce,ve.mode,we),ce.return=ve,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return we=L1(ce.type,ce.key,ce.props,null,ve.mode,we),we.ref=Wp(ve,null,ce),we.return=ve,we;case u:return ce=OM(ce,ve.mode,we),ce.return=ve,ce;case w:var Ze=ce._init;return wt(ve,Ze(ce._payload),we)}if(J(ce)||T(ce))return ce=Tc(ce,ve.mode,we,null),ce.return=ve,ce;r1(ve,ce)}return null}function dt(ve,ce,we,Ze){var lt=ce!==null?ce.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return lt!==null?null:se(ve,ce,""+we,Ze);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case l:return we.key===lt?Ee(ve,ce,we,Ze):null;case u:return we.key===lt?je(ve,ce,we,Ze):null;case w:return lt=we._init,dt(ve,ce,lt(we._payload),Ze)}if(J(we)||T(we))return lt!==null?null:tt(ve,ce,we,Ze,null);r1(ve,we)}return null}function gn(ve,ce,we,Ze,lt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return ve=ve.get(we)||null,se(ce,ve,""+Ze,lt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case l:return ve=ve.get(Ze.key===null?we:Ze.key)||null,Ee(ce,ve,Ze,lt);case u:return ve=ve.get(Ze.key===null?we:Ze.key)||null,je(ce,ve,Ze,lt);case w:var Pt=Ze._init;return gn(ve,ce,we,Pt(Ze._payload),lt)}if(J(Ze)||T(Ze))return ve=ve.get(we)||null,tt(ce,ve,Ze,lt,null);r1(ce,Ze)}return null}function ct(ve,ce,we,Ze){for(var lt=null,Pt=null,Mt=ce,Qt=ce=0,Lr=null;Mt!==null&&Qt<we.length;Qt++){Mt.index>Qt?(Lr=Mt,Mt=null):Lr=Mt.sibling;var Jt=dt(ve,Mt,we[Qt],Ze);if(Jt===null){Mt===null&&(Mt=Lr);break}h&&Mt&&Jt.alternate===null&&f(ve,Mt),ce=L(Jt,ce,Qt),Pt===null?lt=Jt:Pt.sibling=Jt,Pt=Jt,Mt=Lr}if(Qt===we.length)return S(ve,Mt),Rn&&_c(ve,Qt),lt;if(Mt===null){for(;Qt<we.length;Qt++)Mt=wt(ve,we[Qt],Ze),Mt!==null&&(ce=L(Mt,ce,Qt),Pt===null?lt=Mt:Pt.sibling=Mt,Pt=Mt);return Rn&&_c(ve,Qt),lt}for(Mt=E(ve,Mt);Qt<we.length;Qt++)Lr=gn(Mt,ve,Qt,we[Qt],Ze),Lr!==null&&(h&&Lr.alternate!==null&&Mt.delete(Lr.key===null?Qt:Lr.key),ce=L(Lr,ce,Qt),Pt===null?lt=Lr:Pt.sibling=Lr,Pt=Lr);return h&&Mt.forEach(function(Ql){return f(ve,Ql)}),Rn&&_c(ve,Qt),lt}function li(ve,ce,we,Ze){var lt=T(we);if(typeof lt!="function")throw Error(o(150));if(we=lt.call(we),we==null)throw Error(o(151));for(var Pt=lt=null,Mt=ce,Qt=ce=0,Lr=null,Jt=we.next();Mt!==null&&!Jt.done;Qt++,Jt=we.next()){Mt.index>Qt?(Lr=Mt,Mt=null):Lr=Mt.sibling;var Ql=dt(ve,Mt,Jt.value,Ze);if(Ql===null){Mt===null&&(Mt=Lr);break}h&&Mt&&Ql.alternate===null&&f(ve,Mt),ce=L(Ql,ce,Qt),Pt===null?lt=Ql:Pt.sibling=Ql,Pt=Ql,Mt=Lr}if(Jt.done)return S(ve,Mt),Rn&&_c(ve,Qt),lt;if(Mt===null){for(;!Jt.done;Qt++,Jt=we.next())Jt=wt(ve,Jt.value,Ze),Jt!==null&&(ce=L(Jt,ce,Qt),Pt===null?lt=Jt:Pt.sibling=Jt,Pt=Jt);return Rn&&_c(ve,Qt),lt}for(Mt=E(ve,Mt);!Jt.done;Qt++,Jt=we.next())Jt=gn(Mt,ve,Qt,Jt.value,Ze),Jt!==null&&(h&&Jt.alternate!==null&&Mt.delete(Jt.key===null?Qt:Jt.key),ce=L(Jt,ce,Qt),Pt===null?lt=Jt:Pt.sibling=Jt,Pt=Jt);return h&&Mt.forEach(function(xW){return f(ve,xW)}),Rn&&_c(ve,Qt),lt}function Bs(ve,ce,we,Ze){if(typeof we=="object"&&we!==null&&we.type===c&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case l:e:{for(var lt=we.key,Pt=ce;Pt!==null;){if(Pt.key===lt){if(lt=we.type,lt===c){if(Pt.tag===7){S(ve,Pt.sibling),ce=A(Pt,we.props.children),ce.return=ve,ve=ce;break e}}else if(Pt.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&O5(lt)===Pt.type){S(ve,Pt.sibling),ce=A(Pt,we.props),ce.ref=Wp(ve,Pt,we),ce.return=ve,ve=ce;break e}S(ve,Pt);break}else f(ve,Pt);Pt=Pt.sibling}we.type===c?(ce=Tc(we.props.children,ve.mode,Ze,we.key),ce.return=ve,ve=ce):(Ze=L1(we.type,we.key,we.props,null,ve.mode,Ze),Ze.ref=Wp(ve,ce,we),Ze.return=ve,ve=Ze)}return X(ve);case u:e:{for(Pt=we.key;ce!==null;){if(ce.key===Pt)if(ce.tag===4&&ce.stateNode.containerInfo===we.containerInfo&&ce.stateNode.implementation===we.implementation){S(ve,ce.sibling),ce=A(ce,we.children||[]),ce.return=ve,ve=ce;break e}else{S(ve,ce);break}else f(ve,ce);ce=ce.sibling}ce=OM(we,ve.mode,Ze),ce.return=ve,ve=ce}return X(ve);case w:return Pt=we._init,Bs(ve,ce,Pt(we._payload),Ze)}if(J(we))return ct(ve,ce,we,Ze);if(T(we))return li(ve,ce,we,Ze);r1(ve,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,ce!==null&&ce.tag===6?(S(ve,ce.sibling),ce=A(ce,we),ce.return=ve,ve=ce):(S(ve,ce),ce=IM(we,ve.mode,Ze),ce.return=ve,ve=ce),X(ve)):S(ve,ce)}return Bs}var dd=L5(!0),D5=L5(!1),Gp={},ks=St(Gp),$p=St(Gp),fd=St(Gp);function ia(h){if(h===Gp)throw Error(o(174));return h}function Zw(h,f){xt(fd,f),xt($p,h),xt(ks,Gp),h=ee(f),an(ks),xt(ks,h)}function pd(){an(ks),an($p),an(fd)}function k5(h){var f=ia(fd.current),S=ia(ks.current);f=F(S,h.type,f),S!==f&&(xt($p,h),xt(ks,f))}function Kw(h){$p.current===h&&(an(ks),an($p))}var Un=St(0);function i1(h){for(var f=h;f!==null;){if(f.tag===13){var S=f.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Ua(S)||Is(S)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Qw=[];function Jw(){for(var h=0;h<Qw.length;h++){var f=Qw[h];nt?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Qw.length=0}var s1=a.ReactCurrentDispatcher,Fs=a.ReactCurrentBatchConfig,md=0,$n=null,si=null,Or=null,o1=!1,qp=!1,Xp=0,GH=0;function oi(){throw Error(o(321))}function eM(h,f){if(f===null)return!1;for(var S=0;S<f.length&&S<h.length;S++)if(!ta(h[S],f[S]))return!1;return!0}function tM(h,f,S,E,A,L){if(md=L,$n=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,s1.current=h===null||h.memoizedState===null?YH:ZH,h=S(E,A),qp){L=0;do{if(qp=!1,Xp=0,25<=L)throw Error(o(301));L+=1,Or=si=null,f.updateQueue=null,s1.current=KH,h=S(E,A)}while(qp)}if(s1.current=h1,f=si!==null&&si.next!==null,md=0,Or=si=$n=null,o1=!1,f)throw Error(o(300));return h}function nM(){var h=Xp!==0;return Xp=0,h}function Wa(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?$n.memoizedState=Or=h:Or=Or.next=h,Or}function sa(){if(si===null){var h=$n.alternate;h=h!==null?h.memoizedState:null}else h=si.next;var f=Or===null?$n.memoizedState:Or.next;if(f!==null)Or=f,si=h;else{if(h===null)throw Error(o(310));si=h,h={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},Or===null?$n.memoizedState=Or=h:Or=Or.next=h}return Or}function xc(h,f){return typeof f=="function"?f(h):f}function a1(h){var f=sa(),S=f.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var E=si,A=E.baseQueue,L=S.pending;if(L!==null){if(A!==null){var X=A.next;A.next=L.next,L.next=X}E.baseQueue=A=L,S.pending=null}if(A!==null){L=A.next,E=E.baseState;var se=X=null,Ee=null,je=L;do{var tt=je.lane;if((md&tt)===tt)Ee!==null&&(Ee=Ee.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),E=je.hasEagerState?je.eagerState:h(E,je.action);else{var wt={lane:tt,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};Ee===null?(se=Ee=wt,X=E):Ee=Ee.next=wt,$n.lanes|=tt,vd|=tt}je=je.next}while(je!==null&&je!==L);Ee===null?X=E:Ee.next=se,ta(E,f.memoizedState)||(ss=!0),f.memoizedState=E,f.baseState=X,f.baseQueue=Ee,S.lastRenderedState=E}if(h=S.interleaved,h!==null){A=h;do L=A.lane,$n.lanes|=L,vd|=L,A=A.next;while(A!==h)}else A===null&&(S.lanes=0);return[f.memoizedState,S.dispatch]}function l1(h){var f=sa(),S=f.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var E=S.dispatch,A=S.pending,L=f.memoizedState;if(A!==null){S.pending=null;var X=A=A.next;do L=h(L,X.action),X=X.next;while(X!==A);ta(L,f.memoizedState)||(ss=!0),f.memoizedState=L,f.baseQueue===null&&(f.baseState=L),S.lastRenderedState=L}return[L,E]}function F5(){}function U5(h,f){var S=$n,E=sa(),A=f(),L=!ta(E.memoizedState,A);if(L&&(E.memoizedState=A,ss=!0),E=E.queue,Zp(V5.bind(null,S,E,h),[h]),E.getSnapshot!==f||L||Or!==null&&Or.memoizedState.tag&1){if(S.flags|=2048,Yp(9,B5.bind(null,S,E,A,f),void 0,null),fr===null)throw Error(o(349));md&30||z5(S,f,A)}return A}function z5(h,f,S){h.flags|=16384,h={getSnapshot:f,value:S},f=$n.updateQueue,f===null?(f={lastEffect:null,stores:null},$n.updateQueue=f,f.stores=[h]):(S=f.stores,S===null?f.stores=[h]:S.push(h))}function B5(h,f,S,E){f.value=S,f.getSnapshot=E,j5(f)&&Us(h,1,-1)}function V5(h,f,S){return S(function(){j5(f)&&Us(h,1,-1)})}function j5(h){var f=h.getSnapshot;h=h.value;try{var S=f();return!ta(h,S)}catch{return!0}}function rM(h){var f=Wa();return typeof h=="function"&&(h=h()),f.memoizedState=f.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:h},f.queue=h,h=h.dispatch=XH.bind(null,$n,h),[f.memoizedState,h]}function Yp(h,f,S,E){return h={tag:h,create:f,destroy:S,deps:E,next:null},f=$n.updateQueue,f===null?(f={lastEffect:null,stores:null},$n.updateQueue=f,f.lastEffect=h.next=h):(S=f.lastEffect,S===null?f.lastEffect=h.next=h:(E=S.next,S.next=h,h.next=E,f.lastEffect=h)),h}function H5(){return sa().memoizedState}function u1(h,f,S,E){var A=Wa();$n.flags|=h,A.memoizedState=Yp(1|f,S,void 0,E===void 0?null:E)}function c1(h,f,S,E){var A=sa();E=E===void 0?null:E;var L=void 0;if(si!==null){var X=si.memoizedState;if(L=X.destroy,E!==null&&eM(E,X.deps)){A.memoizedState=Yp(f,S,L,E);return}}$n.flags|=h,A.memoizedState=Yp(1|f,S,L,E)}function iM(h,f){return u1(8390656,8,h,f)}function Zp(h,f){return c1(2048,8,h,f)}function W5(h,f){return c1(4,2,h,f)}function G5(h,f){return c1(4,4,h,f)}function $5(h,f){if(typeof f=="function")return h=h(),f(h),function(){f(null)};if(f!=null)return h=h(),f.current=h,function(){f.current=null}}function q5(h,f,S){return S=S!=null?S.concat([h]):null,c1(4,4,$5.bind(null,f,h),S)}function sM(){}function X5(h,f){var S=sa();f=f===void 0?null:f;var E=S.memoizedState;return E!==null&&f!==null&&eM(f,E[1])?E[0]:(S.memoizedState=[h,f],h)}function Y5(h,f){var S=sa();f=f===void 0?null:f;var E=S.memoizedState;return E!==null&&f!==null&&eM(f,E[1])?E[0]:(h=h(),S.memoizedState=[h,f],h)}function $H(h,f){var S=Kt;Kt=S!==0&&4>S?S:4,h(!0);var E=Fs.transition;Fs.transition={};try{h(!1),f()}finally{Kt=S,Fs.transition=E}}function Z5(){return sa().memoizedState}function qH(h,f,S){var E=Yl(h);S={lane:E,action:S,hasEagerState:!1,eagerState:null,next:null},K5(h)?Q5(f,S):(J5(h,f,S),S=xi(),h=Us(h,E,S),h!==null&&eR(h,f,E))}function XH(h,f,S){var E=Yl(h),A={lane:E,action:S,hasEagerState:!1,eagerState:null,next:null};if(K5(h))Q5(f,A);else{J5(h,f,A);var L=h.alternate;if(h.lanes===0&&(L===null||L.lanes===0)&&(L=f.lastRenderedReducer,L!==null))try{var X=f.lastRenderedState,se=L(X,S);if(A.hasEagerState=!0,A.eagerState=se,ta(se,X))return}catch{}finally{}S=xi(),h=Us(h,E,S),h!==null&&eR(h,f,E)}}function K5(h){var f=h.alternate;return h===$n||f!==null&&f===$n}function Q5(h,f){qp=o1=!0;var S=h.pending;S===null?f.next=f:(f.next=S.next,S.next=f),h.pending=f}function J5(h,f,S){fr!==null&&h.mode&1&&!(Dt&2)?(h=f.interleaved,h===null?(S.next=S,ra===null?ra=[f]:ra.push(f)):(S.next=h.next,h.next=S),f.interleaved=S):(h=f.pending,h===null?S.next=S:(S.next=h.next,h.next=S),f.pending=S)}function eR(h,f,S){if(S&4194240){var E=f.lanes;E&=h.pendingLanes,S|=E,f.lanes=S,Ow(h,S)}}var h1={readContext:Os,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useInsertionEffect:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useSyncExternalStore:oi,useId:oi,unstable_isNewReconciler:!1},YH={readContext:Os,useCallback:function(h,f){return Wa().memoizedState=[h,f===void 0?null:f],h},useContext:Os,useEffect:iM,useImperativeHandle:function(h,f,S){return S=S!=null?S.concat([h]):null,u1(4194308,4,$5.bind(null,f,h),S)},useLayoutEffect:function(h,f){return u1(4194308,4,h,f)},useInsertionEffect:function(h,f){return u1(4,2,h,f)},useMemo:function(h,f){var S=Wa();return f=f===void 0?null:f,h=h(),S.memoizedState=[h,f],h},useReducer:function(h,f,S){var E=Wa();return f=S!==void 0?S(f):f,E.memoizedState=E.baseState=f,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:f},E.queue=h,h=h.dispatch=qH.bind(null,$n,h),[E.memoizedState,h]},useRef:function(h){var f=Wa();return h={current:h},f.memoizedState=h},useState:rM,useDebugValue:sM,useDeferredValue:function(h){var f=rM(h),S=f[0],E=f[1];return iM(function(){var A=Fs.transition;Fs.transition={};try{E(h)}finally{Fs.transition=A}},[h]),S},useTransition:function(){var h=rM(!1),f=h[0];return h=$H.bind(null,h[1]),Wa().memoizedState=h,[f,h]},useMutableSource:function(){},useSyncExternalStore:function(h,f,S){var E=$n,A=Wa();if(Rn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=f(),fr===null)throw Error(o(349));md&30||z5(E,f,S)}A.memoizedState=S;var L={value:S,getSnapshot:f};return A.queue=L,iM(V5.bind(null,E,L,h),[h]),E.flags|=2048,Yp(9,B5.bind(null,E,L,S,f),void 0,null),S},useId:function(){var h=Wa(),f=fr.identifierPrefix;if(Rn){var S=Ha,E=ja;S=(E&~(1<<32-so(E)-1)).toString(32)+S,f=":"+f+"R"+S,S=Xp++,0<S&&(f+="H"+S.toString(32)),f+=":"}else S=GH++,f=":"+f+"r"+S.toString(32)+":";return h.memoizedState=f},unstable_isNewReconciler:!1},ZH={readContext:Os,useCallback:X5,useContext:Os,useEffect:Zp,useImperativeHandle:q5,useInsertionEffect:W5,useLayoutEffect:G5,useMemo:Y5,useReducer:a1,useRef:H5,useState:function(){return a1(xc)},useDebugValue:sM,useDeferredValue:function(h){var f=a1(xc),S=f[0],E=f[1];return Zp(function(){var A=Fs.transition;Fs.transition={};try{E(h)}finally{Fs.transition=A}},[h]),S},useTransition:function(){var h=a1(xc)[0],f=sa().memoizedState;return[h,f]},useMutableSource:F5,useSyncExternalStore:U5,useId:Z5,unstable_isNewReconciler:!1},KH={readContext:Os,useCallback:X5,useContext:Os,useEffect:Zp,useImperativeHandle:q5,useInsertionEffect:W5,useLayoutEffect:G5,useMemo:Y5,useReducer:l1,useRef:H5,useState:function(){return l1(xc)},useDebugValue:sM,useDeferredValue:function(h){var f=l1(xc),S=f[0],E=f[1];return Zp(function(){var A=Fs.transition;Fs.transition={};try{E(h)}finally{Fs.transition=A}},[h]),S},useTransition:function(){var h=l1(xc)[0],f=sa().memoizedState;return[h,f]},useMutableSource:F5,useSyncExternalStore:U5,useId:Z5,unstable_isNewReconciler:!1};function oM(h,f){try{var S="",E=f;do S+=WH(E),E=E.return;while(E);var A=S}catch(L){A=`
Error generating stack: `+L.message+`
`+L.stack}return{value:h,source:f,stack:A}}function aM(h,f){try{console.error(f.value)}catch(S){setTimeout(function(){throw S})}}var QH=typeof WeakMap=="function"?WeakMap:Map;function tR(h,f,S){S=Va(-1,S),S.tag=3,S.payload={element:null};var E=f.value;return S.callback=function(){A1||(A1=!0,bM=E),aM(h,f)},S}function nR(h,f,S){S=Va(-1,S),S.tag=3;var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var A=f.value;S.payload=function(){return E(A)},S.callback=function(){aM(h,f)}}var L=h.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(S.callback=function(){aM(h,f),typeof E!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var X=f.stack;this.componentDidCatch(f.value,{componentStack:X!==null?X:""})}),S}function rR(h,f,S){var E=h.pingCache;if(E===null){E=h.pingCache=new QH;var A=new Set;E.set(f,A)}else A=E.get(f),A===void 0&&(A=new Set,E.set(f,A));A.has(S)||(A.add(S),h=dW.bind(null,h,f,S),f.then(h,h))}function iR(h){do{var f;if((f=h.tag===13)&&(f=h.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return h;h=h.return}while(h!==null);return null}function sR(h,f,S,E,A){return h.mode&1?(h.flags|=65536,h.lanes=A,h):(h===f?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(f=Va(-1,1),f.tag=2,$l(S,f))),S.lanes|=1),h)}function oa(h){h.flags|=4}function oR(h,f){if(h!==null&&h.child===f.child)return!0;if(f.flags&16)return!1;for(h=f.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var Kp,Qp,d1,f1;if(ze)Kp=function(h,f){for(var S=f.child;S!==null;){if(S.tag===5||S.tag===6)U(h,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Qp=function(){},d1=function(h,f,S,E,A){if(h=h.memoizedProps,h!==E){var L=f.stateNode,X=ia(ks.current);S=q(L,S,h,E,A,X),(f.updateQueue=S)&&oa(f)}},f1=function(h,f,S,E){S!==E&&oa(f)};else if(Z){Kp=function(h,f,S,E){for(var A=f.child;A!==null;){if(A.tag===5){var L=A.stateNode;S&&E&&(L=Bt(L,A.type,A.memoizedProps,A)),U(h,L)}else if(A.tag===6)L=A.stateNode,S&&E&&(L=xr(L,A.memoizedProps,A)),U(h,L);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)L=A.child,L!==null&&(L.return=A),Kp(h,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var aR=function(h,f,S,E){for(var A=f.child;A!==null;){if(A.tag===5){var L=A.stateNode;S&&E&&(L=Bt(L,A.type,A.memoizedProps,A)),Ct(h,L)}else if(A.tag===6)L=A.stateNode,S&&E&&(L=xr(L,A.memoizedProps,A)),Ct(h,L);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)L=A.child,L!==null&&(L.return=A),aR(h,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};Qp=function(h,f){var S=f.stateNode;if(!oR(h,f)){h=S.containerInfo;var E=Qe(h);aR(E,f,!1,!1),S.pendingChildren=E,oa(f),Ot(h,E)}},d1=function(h,f,S,E,A){var L=h.stateNode,X=h.memoizedProps;if((h=oR(h,f))&&X===E)f.stateNode=L;else{var se=f.stateNode,Ee=ia(ks.current),je=null;X!==E&&(je=q(se,S,X,E,A,Ee)),h&&je===null?f.stateNode=L:(L=Ue(L,je,S,X,E,f,h,se),Y(L,S,E,A,Ee)&&oa(f),f.stateNode=L,h?oa(f):Kp(L,f,!1,!1))}},f1=function(h,f,S,E){S!==E?(h=ia(fd.current),S=ia(ks.current),f.stateNode=ue(E,h,S,f),oa(f)):f.stateNode=h.stateNode}}else Qp=function(){},d1=function(){},f1=function(){};function Jp(h,f){if(!Rn)switch(h.tailMode){case"hidden":f=h.tail;for(var S=null;f!==null;)f.alternate!==null&&(S=f),f=f.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var E=null;S!==null;)S.alternate!==null&&(E=S),S=S.sibling;E===null?f||h.tail===null?h.tail=null:h.tail.sibling=null:E.sibling=null}}function ai(h){var f=h.alternate!==null&&h.alternate.child===h.child,S=0,E=0;if(f)for(var A=h.child;A!==null;)S|=A.lanes|A.childLanes,E|=A.subtreeFlags&14680064,E|=A.flags&14680064,A.return=h,A=A.sibling;else for(A=h.child;A!==null;)S|=A.lanes|A.childLanes,E|=A.subtreeFlags,E|=A.flags,A.return=h,A=A.sibling;return h.subtreeFlags|=E,h.childLanes=S,f}function JH(h,f,S){var E=f.pendingProps;switch($w(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(f),null;case 1:return Gn(f.type)&&Wl(),ai(f),null;case 3:return E=f.stateNode,pd(),an(dr),an(Sr),Jw(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(h===null||h.child===null)&&(Hp(f)?oa(f):h===null||h.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,ao!==null&&(CM(ao),ao=null))),Qp(h,f),ai(f),null;case 5:Kw(f),S=ia(fd.current);var A=f.type;if(h!==null&&f.stateNode!=null)d1(h,f,A,E,S),h.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!E){if(f.stateNode===null)throw Error(o(166));return ai(f),null}if(h=ia(ks.current),Hp(f)){if(!Ne)throw Error(o(175));h=Jo(f.stateNode,f.type,f.memoizedProps,S,h,f,!jp),f.updateQueue=h,h!==null&&oa(f)}else{var L=D(A,E,S,h,f);Kp(L,f,!1,!1),f.stateNode=L,Y(L,A,E,S,h)&&oa(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ai(f),null;case 6:if(h&&f.stateNode!=null)f1(h,f,h.memoizedProps,E);else{if(typeof E!="string"&&f.stateNode===null)throw Error(o(166));if(h=ia(fd.current),S=ia(ks.current),Hp(f)){if(!Ne)throw Error(o(176));if(h=f.stateNode,E=f.memoizedProps,(S=G(h,E,f,!jp))&&(A=rs,A!==null))switch(L=(A.mode&1)!==0,A.tag){case 3:mt(A.stateNode.containerInfo,h,E,L);break;case 5:Lt(A.type,A.memoizedProps,A.stateNode,h,E,L)}S&&oa(f)}else f.stateNode=ue(E,h,S,f)}return ai(f),null;case 13:if(an(Un),E=f.memoizedState,Rn&&is!==null&&f.mode&1&&!(f.flags&128)){for(h=is;h;)h=ki(h);return hd(),f.flags|=98560,f}if(E!==null&&E.dehydrated!==null){if(E=Hp(f),h===null){if(!E)throw Error(o(318));if(!Ne)throw Error(o(344));if(h=f.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));ge(h,f)}else hd(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return ai(f),null}return ao!==null&&(CM(ao),ao=null),f.flags&128?(f.lanes=S,f):(E=E!==null,S=!1,h===null?Hp(f):S=h.memoizedState!==null,E&&!S&&(f.child.flags|=8192,f.mode&1&&(h===null||Un.current&1?wr===0&&(wr=3):RM())),f.updateQueue!==null&&(f.flags|=4),ai(f),null);case 4:return pd(),Qp(h,f),h===null&&he(f.stateNode.containerInfo),ai(f),null;case 10:return Bw(f.type._context),ai(f),null;case 17:return Gn(f.type)&&Wl(),ai(f),null;case 19:if(an(Un),A=f.memoizedState,A===null)return ai(f),null;if(E=(f.flags&128)!==0,L=A.rendering,L===null)if(E)Jp(A,!1);else{if(wr!==0||h!==null&&h.flags&128)for(h=f.child;h!==null;){if(L=i1(h),L!==null){for(f.flags|=128,Jp(A,!1),h=L.updateQueue,h!==null&&(f.updateQueue=h,f.flags|=4),f.subtreeFlags=0,h=S,E=f.child;E!==null;)S=E,A=h,S.flags&=14680066,L=S.alternate,L===null?(S.childLanes=0,S.lanes=A,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=L.childLanes,S.lanes=L.lanes,S.child=L.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=L.memoizedProps,S.memoizedState=L.memoizedState,S.updateQueue=L.updateQueue,S.type=L.type,A=L.dependencies,S.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),E=E.sibling;return xt(Un,Un.current&1|2),f.child}h=h.sibling}A.tail!==null&&Ir()>EM&&(f.flags|=128,E=!0,Jp(A,!1),f.lanes=4194304)}else{if(!E)if(h=i1(L),h!==null){if(f.flags|=128,E=!0,h=h.updateQueue,h!==null&&(f.updateQueue=h,f.flags|=4),Jp(A,!0),A.tail===null&&A.tailMode==="hidden"&&!L.alternate&&!Rn)return ai(f),null}else 2*Ir()-A.renderingStartTime>EM&&S!==1073741824&&(f.flags|=128,E=!0,Jp(A,!1),f.lanes=4194304);A.isBackwards?(L.sibling=f.child,f.child=L):(h=A.last,h!==null?h.sibling=L:f.child=L,A.last=L)}return A.tail!==null?(f=A.tail,A.rendering=f,A.tail=f.sibling,A.renderingStartTime=Ir(),f.sibling=null,h=Un.current,xt(Un,E?h&1|2:h&1),f):(ai(f),null);case 22:case 23:return PM(),E=f.memoizedState!==null,h!==null&&h.memoizedState!==null!==E&&(f.flags|=8192),E&&f.mode&1?os&1073741824&&(ai(f),ze&&f.subtreeFlags&6&&(f.flags|=8192)):ai(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var eW=a.ReactCurrentOwner,ss=!1;function _i(h,f,S,E){f.child=h===null?D5(f,null,S,E):dd(f,h.child,S,E)}function lR(h,f,S,E,A){S=S.render;var L=f.ref;return ld(f,A),E=tM(h,f,S,E,L,A),S=nM(),h!==null&&!ss?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~A,Ga(h,f,A)):(Rn&&S&&Gw(f),f.flags|=1,_i(h,f,E,A),f.child)}function uR(h,f,S,E,A){if(h===null){var L=S.type;return typeof L=="function"&&!NM(L)&&L.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(f.tag=15,f.type=L,cR(h,f,L,E,A)):(h=L1(S.type,null,E,f,f.mode,A),h.ref=f.ref,h.return=f,f.child=h)}if(L=h.child,!(h.lanes&A)){var X=L.memoizedProps;if(S=S.compare,S=S!==null?S:Yv,S(X,E)&&h.ref===f.ref)return Ga(h,f,A)}return f.flags|=1,h=Kl(L,E),h.ref=f.ref,h.return=f,f.child=h}function cR(h,f,S,E,A){if(h!==null&&Yv(h.memoizedProps,E)&&h.ref===f.ref)if(ss=!1,(h.lanes&A)!==0)h.flags&131072&&(ss=!0);else return f.lanes=h.lanes,Ga(h,f,A);return lM(h,f,S,E,A)}function hR(h,f,S){var E=f.pendingProps,A=E.children,L=h!==null?h.memoizedState:null;if(E.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},xt(gd,os),os|=S;else if(S&1073741824)f.memoizedState={baseLanes:0,cachePool:null},E=L!==null?L.baseLanes:S,xt(gd,os),os|=E;else return h=L!==null?L.baseLanes|S:S,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:h,cachePool:null},f.updateQueue=null,xt(gd,os),os|=h,null;else L!==null?(E=L.baseLanes|S,f.memoizedState=null):E=S,xt(gd,os),os|=E;return _i(h,f,A,S),f.child}function dR(h,f){var S=f.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(f.flags|=512,f.flags|=2097152)}function lM(h,f,S,E,A){var L=Gn(S)?io:Sr.current;return L=Wn(f,L),ld(f,A),S=tM(h,f,S,E,L,A),E=nM(),h!==null&&!ss?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~A,Ga(h,f,A)):(Rn&&E&&Gw(f),f.flags|=1,_i(h,f,S,A),f.child)}function fR(h,f,S,E,A){if(Gn(S)){var L=!0;od(f)}else L=!1;if(ld(f,A),f.stateNode===null)h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),A5(f,S,E),Ww(f,S,E,A),E=!0;else if(h===null){var X=f.stateNode,se=f.memoizedProps;X.props=se;var Ee=X.context,je=S.contextType;typeof je=="object"&&je!==null?je=Os(je):(je=Gn(S)?io:Sr.current,je=Wn(f,je));var tt=S.getDerivedStateFromProps,wt=typeof tt=="function"||typeof X.getSnapshotBeforeUpdate=="function";wt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(se!==E||Ee!==je)&&C5(f,X,E,je),Gl=!1;var dt=f.memoizedState;X.state=dt,Jv(f,E,X,A),Ee=f.memoizedState,se!==E||dt!==Ee||dr.current||Gl?(typeof tt=="function"&&(Hw(f,S,tt,E),Ee=f.memoizedState),(se=Gl||T5(f,S,se,E,dt,Ee,je))?(wt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(f.flags|=4194308)):(typeof X.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=Ee),X.props=E,X.state=Ee,X.context=je,E=se):(typeof X.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{X=f.stateNode,w5(h,f),se=f.memoizedProps,je=f.type===f.elementType?se:oo(f.type,se),X.props=je,wt=f.pendingProps,dt=X.context,Ee=S.contextType,typeof Ee=="object"&&Ee!==null?Ee=Os(Ee):(Ee=Gn(S)?io:Sr.current,Ee=Wn(f,Ee));var gn=S.getDerivedStateFromProps;(tt=typeof gn=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(se!==wt||dt!==Ee)&&C5(f,X,E,Ee),Gl=!1,dt=f.memoizedState,X.state=dt,Jv(f,E,X,A);var ct=f.memoizedState;se!==wt||dt!==ct||dr.current||Gl?(typeof gn=="function"&&(Hw(f,S,gn,E),ct=f.memoizedState),(je=Gl||T5(f,S,je,E,dt,ct,Ee)||!1)?(tt||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(E,ct,Ee),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(E,ct,Ee)),typeof X.componentDidUpdate=="function"&&(f.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof X.componentDidUpdate!="function"||se===h.memoizedProps&&dt===h.memoizedState||(f.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||se===h.memoizedProps&&dt===h.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=ct),X.props=E,X.state=ct,X.context=Ee,E=je):(typeof X.componentDidUpdate!="function"||se===h.memoizedProps&&dt===h.memoizedState||(f.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||se===h.memoizedProps&&dt===h.memoizedState||(f.flags|=1024),E=!1)}return uM(h,f,S,E,L,A)}function uM(h,f,S,E,A,L){dR(h,f);var X=(f.flags&128)!==0;if(!E&&!X)return A&&zp(f,S,!1),Ga(h,f,L);E=f.stateNode,eW.current=f;var se=X&&typeof S.getDerivedStateFromError!="function"?null:E.render();return f.flags|=1,h!==null&&X?(f.child=dd(f,h.child,null,L),f.child=dd(f,null,se,L)):_i(h,f,se,L),f.memoizedState=E.state,A&&zp(f,S,!0),f.child}function pR(h){var f=h.stateNode;f.pendingContext?ii(h,f.pendingContext,f.pendingContext!==f.context):f.context&&ii(h,f.context,!1),Zw(h,f.containerInfo)}function mR(h,f,S,E,A){return hd(),Yw(A),f.flags|=256,_i(h,f,S,E),f.child}var p1={dehydrated:null,treeContext:null,retryLane:0};function m1(h){return{baseLanes:h,cachePool:null}}function gR(h,f,S){var E=f.pendingProps,A=Un.current,L=!1,X=(f.flags&128)!==0,se;if((se=X)||(se=h!==null&&h.memoizedState===null?!1:(A&2)!==0),se?(L=!0,f.flags&=-129):(h===null||h.memoizedState!==null)&&(A|=1),xt(Un,A&1),h===null)return Xw(f),h=f.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(f.mode&1?Is(h)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(A=E.children,h=E.fallback,L?(E=f.mode,L=f.child,A={mode:"hidden",children:A},!(E&1)&&L!==null?(L.childLanes=0,L.pendingProps=A):L=D1(A,E,0,null),h=Tc(h,E,S,null),L.return=f,h.return=f,L.sibling=h,f.child=L,f.child.memoizedState=m1(S),f.memoizedState=p1,h):cM(f,A));if(A=h.memoizedState,A!==null){if(se=A.dehydrated,se!==null){if(X)return f.flags&256?(f.flags&=-257,g1(h,f,S,Error(o(422)))):f.memoizedState!==null?(f.child=h.child,f.flags|=128,null):(L=E.fallback,A=f.mode,E=D1({mode:"visible",children:E.children},A,0,null),L=Tc(L,A,S,null),L.flags|=2,E.return=f,L.return=f,E.sibling=L,f.child=E,f.mode&1&&dd(f,h.child,null,S),f.child.memoizedState=m1(S),f.memoizedState=p1,L);if(!(f.mode&1))f=g1(h,f,S,null);else if(Is(se))f=g1(h,f,S,Error(o(419)));else if(E=(S&h.childLanes)!==0,ss||E){if(E=fr,E!==null){switch(S&-S){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}E=L&(E.suspendedLanes|S)?0:L,E!==0&&E!==A.retryLane&&(A.retryLane=E,Us(h,E,-1))}RM(),f=g1(h,f,S,Error(o(421)))}else Ua(se)?(f.flags|=128,f.child=h.child,f=fW.bind(null,h),Hl(se,f),f=null):(S=A.treeContext,Ne&&(is=ni(se),rs=f,Rn=!0,ao=null,jp=!1,S!==null&&(Ls[Ds++]=ja,Ls[Ds++]=Ha,Ls[Ds++]=yc,ja=S.id,Ha=S.overflow,yc=f)),f=cM(f,f.pendingProps.children),f.flags|=4096);return f}return L?(E=yR(h,f,E.children,E.fallback,S),L=f.child,A=h.child.memoizedState,L.memoizedState=A===null?m1(S):{baseLanes:A.baseLanes|S,cachePool:null},L.childLanes=h.childLanes&~S,f.memoizedState=p1,E):(S=vR(h,f,E.children,S),f.memoizedState=null,S)}return L?(E=yR(h,f,E.children,E.fallback,S),L=f.child,A=h.child.memoizedState,L.memoizedState=A===null?m1(S):{baseLanes:A.baseLanes|S,cachePool:null},L.childLanes=h.childLanes&~S,f.memoizedState=p1,E):(S=vR(h,f,E.children,S),f.memoizedState=null,S)}function cM(h,f){return f=D1({mode:"visible",children:f},h.mode,0,null),f.return=h,h.child=f}function vR(h,f,S,E){var A=h.child;return h=A.sibling,S=Kl(A,{mode:"visible",children:S}),!(f.mode&1)&&(S.lanes=E),S.return=f,S.sibling=null,h!==null&&(E=f.deletions,E===null?(f.deletions=[h],f.flags|=16):E.push(h)),f.child=S}function yR(h,f,S,E,A){var L=f.mode;h=h.child;var X=h.sibling,se={mode:"hidden",children:S};return!(L&1)&&f.child!==h?(S=f.child,S.childLanes=0,S.pendingProps=se,f.deletions=null):(S=Kl(h,se),S.subtreeFlags=h.subtreeFlags&14680064),X!==null?E=Kl(X,E):(E=Tc(E,L,A,null),E.flags|=2),E.return=f,S.return=f,S.sibling=E,f.child=S,E}function g1(h,f,S,E){return E!==null&&Yw(E),dd(f,h.child,null,S),h=cM(f,f.pendingProps.children),h.flags|=2,f.memoizedState=null,h}function _R(h,f,S){h.lanes|=f;var E=h.alternate;E!==null&&(E.lanes|=f),Vw(h.return,f,S)}function hM(h,f,S,E,A){var L=h.memoizedState;L===null?h.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:S,tailMode:A}:(L.isBackwards=f,L.rendering=null,L.renderingStartTime=0,L.last=E,L.tail=S,L.tailMode=A)}function xR(h,f,S){var E=f.pendingProps,A=E.revealOrder,L=E.tail;if(_i(h,f,E.children,S),E=Un.current,E&2)E=E&1|2,f.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=f.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&_R(h,S,f);else if(h.tag===19)_R(h,S,f);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}E&=1}if(xt(Un,E),!(f.mode&1))f.memoizedState=null;else switch(A){case"forwards":for(S=f.child,A=null;S!==null;)h=S.alternate,h!==null&&i1(h)===null&&(A=S),S=S.sibling;S=A,S===null?(A=f.child,f.child=null):(A=S.sibling,S.sibling=null),hM(f,!1,A,S,L);break;case"backwards":for(S=null,A=f.child,f.child=null;A!==null;){if(h=A.alternate,h!==null&&i1(h)===null){f.child=A;break}h=A.sibling,A.sibling=S,S=A,A=h}hM(f,!0,S,null,L);break;case"together":hM(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ga(h,f,S){if(h!==null&&(f.dependencies=h.dependencies),vd|=f.lanes,!(S&f.childLanes))return null;if(h!==null&&f.child!==h.child)throw Error(o(153));if(f.child!==null){for(h=f.child,S=Kl(h,h.pendingProps),f.child=S,S.return=f;h.sibling!==null;)h=h.sibling,S=S.sibling=Kl(h,h.pendingProps),S.return=f;S.sibling=null}return f.child}function tW(h,f,S){switch(f.tag){case 3:pR(f),hd();break;case 5:k5(f);break;case 1:Gn(f.type)&&od(f);break;case 4:Zw(f,f.stateNode.containerInfo);break;case 10:S5(f,f.type._context,f.memoizedProps.value);break;case 13:var E=f.memoizedState;if(E!==null)return E.dehydrated!==null?(xt(Un,Un.current&1),f.flags|=128,null):S&f.child.childLanes?gR(h,f,S):(xt(Un,Un.current&1),h=Ga(h,f,S),h!==null?h.sibling:null);xt(Un,Un.current&1);break;case 19:if(E=(S&f.childLanes)!==0,h.flags&128){if(E)return xR(h,f,S);f.flags|=128}var A=f.memoizedState;if(A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),xt(Un,Un.current),E)break;return null;case 22:case 23:return f.lanes=0,hR(h,f,S)}return Ga(h,f,S)}function nW(h,f){switch($w(f),f.tag){case 1:return Gn(f.type)&&Wl(),h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 3:return pd(),an(dr),an(Sr),Jw(),h=f.flags,h&65536&&!(h&128)?(f.flags=h&-65537|128,f):null;case 5:return Kw(f),null;case 13:if(an(Un),h=f.memoizedState,h!==null&&h.dehydrated!==null){if(f.alternate===null)throw Error(o(340));hd()}return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 19:return an(Un),null;case 4:return pd(),null;case 10:return Bw(f.type._context),null;case 22:case 23:return PM(),null;case 24:return null;default:return null}}var v1=!1,Sc=!1,rW=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function y1(h,f){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(E){zi(h,f,E)}else S.current=null}function dM(h,f,S){try{S()}catch(E){zi(h,f,E)}}var SR=!1;function iW(h,f){for(j(h.containerInfo),Xe=f;Xe!==null;)if(h=Xe,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,Xe=f;else for(;Xe!==null;){h=Xe;try{var S=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,A=S.memoizedState,L=h.stateNode,X=L.getSnapshotBeforeUpdate(h.elementType===h.type?E:oo(h.type,E),A);L.__reactInternalSnapshotBeforeUpdate=X}break;case 3:ze&&xe(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(se){zi(h,h.return,se)}if(f=h.sibling,f!==null){f.return=h.return,Xe=f;break}Xe=h.return}return S=SR,SR=!1,S}function wc(h,f,S){var E=f.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var A=E=E.next;do{if((A.tag&h)===h){var L=A.destroy;A.destroy=void 0,L!==void 0&&dM(f,S,L)}A=A.next}while(A!==E)}}function em(h,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var S=f=f.next;do{if((S.tag&h)===h){var E=S.create;S.destroy=E()}S=S.next}while(S!==f)}}function fM(h){var f=h.ref;if(f!==null){var S=h.stateNode;switch(h.tag){case 5:h=ne(S);break;default:h=S}typeof f=="function"?f(h):f.current=h}}function wR(h,f,S){if(ea&&typeof ea.onCommitFiberUnmount=="function")try{ea.onCommitFiberUnmount(qv,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(h=f.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var E=h=h.next;do{var A=E,L=A.destroy;A=A.tag,L!==void 0&&(A&2||A&4)&&dM(f,S,L),E=E.next}while(E!==h)}break;case 1:if(y1(f,S),h=f.stateNode,typeof h.componentWillUnmount=="function")try{h.props=f.memoizedProps,h.state=f.memoizedState,h.componentWillUnmount()}catch(X){zi(f,S,X)}break;case 5:y1(f,S);break;case 4:ze?CR(h,f,S):Z&&Z&&(f=f.stateNode.containerInfo,S=Qe(f),hn(f,S))}}function MR(h,f,S){for(var E=f;;)if(wR(h,E,S),E.child===null||ze&&E.tag===4){if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else E.child.return=E,E=E.child}function ER(h){var f=h.alternate;f!==null&&(h.alternate=null,ER(f)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(f=h.stateNode,f!==null&&De(f)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function bR(h){return h.tag===5||h.tag===3||h.tag===4}function TR(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||bR(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function AR(h){if(ze){e:{for(var f=h.return;f!==null;){if(bR(f))break e;f=f.return}throw Error(o(160))}var S=f;switch(S.tag){case 5:f=S.stateNode,S.flags&32&&(ke(f),S.flags&=-33),S=TR(h),mM(h,S,f);break;case 3:case 4:f=S.stateNode.containerInfo,S=TR(h),pM(h,S,f);break;default:throw Error(o(161))}}}function pM(h,f,S){var E=h.tag;if(E===5||E===6)h=h.stateNode,f?ie(S,h,f):qe(S,h);else if(E!==4&&(h=h.child,h!==null))for(pM(h,f,S),h=h.sibling;h!==null;)pM(h,f,S),h=h.sibling}function mM(h,f,S){var E=h.tag;if(E===5||E===6)h=h.stateNode,f?ut(S,h,f):Fe(S,h);else if(E!==4&&(h=h.child,h!==null))for(mM(h,f,S),h=h.sibling;h!==null;)mM(h,f,S),h=h.sibling}function CR(h,f,S){for(var E=f,A=!1,L,X;;){if(!A){A=E.return;e:for(;;){if(A===null)throw Error(o(160));switch(L=A.stateNode,A.tag){case 5:X=!1;break e;case 3:L=L.containerInfo,X=!0;break e;case 4:L=L.containerInfo,X=!0;break e}A=A.return}A=!0}if(E.tag===5||E.tag===6)MR(h,E,S),X?me(L,E.stateNode):re(L,E.stateNode);else if(E.tag===18)X?ht(L,E.stateNode):et(L,E.stateNode);else if(E.tag===4){if(E.child!==null){L=E.stateNode.containerInfo,X=!0,E.child.return=E,E=E.child;continue}}else if(wR(h,E,S),E.child!==null){E.child.return=E,E=E.child;continue}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return,E.tag===4&&(A=!1)}E.sibling.return=E.return,E=E.sibling}}function gM(h,f){if(ze){switch(f.tag){case 0:case 11:case 14:case 15:wc(3,f,f.return),em(3,f),wc(5,f,f.return);return;case 1:return;case 5:var S=f.stateNode;if(S!=null){var E=f.memoizedProps;h=h!==null?h.memoizedProps:E;var A=f.type,L=f.updateQueue;f.updateQueue=null,L!==null&&st(S,L,A,h,E,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));S=f.memoizedProps,He(f.stateNode,h!==null?h.memoizedProps:S,S);return;case 3:Ne&&h!==null&&h.memoizedState.isDehydrated&&fe(f.stateNode.containerInfo);return;case 12:return;case 13:_1(f);return;case 19:_1(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:wc(3,f,f.return),em(3,f),wc(5,f,f.return);return;case 12:return;case 13:_1(f);return;case 19:_1(f);return;case 3:Ne&&h!==null&&h.memoizedState.isDehydrated&&fe(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(Z){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,hn(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function _1(h){var f=h.updateQueue;if(f!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new rW),f.forEach(function(E){var A=pW.bind(null,h,E);S.has(E)||(S.add(E),E.then(A,A))})}}function sW(h,f){for(Xe=f;Xe!==null;){f=Xe;var S=f.deletions;if(S!==null)for(var E=0;E<S.length;E++){var A=S[E];try{var L=h;ze?CR(L,A,f):MR(L,A,f);var X=A.alternate;X!==null&&(X.return=null),A.return=null}catch(lt){zi(A,f,lt)}}if(S=f.child,f.subtreeFlags&12854&&S!==null)S.return=f,Xe=S;else for(;Xe!==null;){f=Xe;try{var se=f.flags;if(se&32&&ze&&ke(f.stateNode),se&512){var Ee=f.alternate;if(Ee!==null){var je=Ee.ref;je!==null&&(typeof je=="function"?je(null):je.current=null)}}if(se&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var tt=f.alternate;(tt===null||tt.memoizedState===null)&&(MM=Ir())}break;case 22:var wt=f.memoizedState!==null,dt=f.alternate,gn=dt!==null&&dt.memoizedState!==null;if(S=f,ze){e:if(E=S,A=wt,L=null,ze)for(var ct=E;;){if(ct.tag===5){if(L===null){L=ct;var li=ct.stateNode;A?Ye(li):Ce(ct.stateNode,ct.memoizedProps)}}else if(ct.tag===6){if(L===null){var Bs=ct.stateNode;A?Q(Bs):oe(Bs,ct.memoizedProps)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===E)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===E)break;for(;ct.sibling===null;){if(ct.return===null||ct.return===E)break e;L===ct&&(L=null),ct=ct.return}L===ct&&(L=null),ct.sibling.return=ct.return,ct=ct.sibling}}if(wt&&!gn&&S.mode&1){Xe=S;for(var ve=S.child;ve!==null;){for(S=Xe=ve;Xe!==null;){E=Xe;var ce=E.child;switch(E.tag){case 0:case 11:case 14:case 15:wc(4,E,E.return);break;case 1:y1(E,E.return);var we=E.stateNode;if(typeof we.componentWillUnmount=="function"){var Ze=E.return;try{we.props=E.memoizedProps,we.state=E.memoizedState,we.componentWillUnmount()}catch(lt){zi(E,Ze,lt)}}break;case 5:y1(E,E.return);break;case 22:if(E.memoizedState!==null){NR(S);continue}}ce!==null?(ce.return=E,Xe=ce):NR(S)}ve=ve.sibling}}}switch(se&4102){case 2:AR(f),f.flags&=-3;break;case 6:AR(f),f.flags&=-3,gM(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,gM(f.alternate,f);break;case 4:gM(f.alternate,f)}}catch(lt){zi(f,f.return,lt)}if(S=f.sibling,S!==null){S.return=f.return,Xe=S;break}Xe=f.return}}}function oW(h,f,S){Xe=h,PR(h)}function PR(h,f,S){for(var E=(h.mode&1)!==0;Xe!==null;){var A=Xe,L=A.child;if(A.tag===22&&E){var X=A.memoizedState!==null||v1;if(!X){var se=A.alternate,Ee=se!==null&&se.memoizedState!==null||Sc;se=v1;var je=Sc;if(v1=X,(Sc=Ee)&&!je)for(Xe=A;Xe!==null;)X=Xe,Ee=X.child,X.tag===22&&X.memoizedState!==null?IR(A):Ee!==null?(Ee.return=X,Xe=Ee):IR(A);for(;L!==null;)Xe=L,PR(L),L=L.sibling;Xe=A,v1=se,Sc=je}RR(h)}else A.subtreeFlags&8772&&L!==null?(L.return=A,Xe=L):RR(h)}}function RR(h){for(;Xe!==null;){var f=Xe;if(f.flags&8772){var S=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Sc||em(5,f);break;case 1:var E=f.stateNode;if(f.flags&4&&!Sc)if(S===null)E.componentDidMount();else{var A=f.elementType===f.type?S.memoizedProps:oo(f.type,S.memoizedProps);E.componentDidUpdate(A,S.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var L=f.updateQueue;L!==null&&E5(f,L,E);break;case 3:var X=f.updateQueue;if(X!==null){if(S=null,f.child!==null)switch(f.child.tag){case 5:S=ne(f.child.stateNode);break;case 1:S=f.child.stateNode}E5(f,X,S)}break;case 5:var se=f.stateNode;S===null&&f.flags&4&&Me(se,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(Ne&&f.memoizedState===null){var Ee=f.alternate;if(Ee!==null){var je=Ee.memoizedState;if(je!==null){var tt=je.dehydrated;tt!==null&&Ae(tt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Sc||f.flags&512&&fM(f)}catch(wt){zi(f,f.return,wt)}}if(f===h){Xe=null;break}if(S=f.sibling,S!==null){S.return=f.return,Xe=S;break}Xe=f.return}}function NR(h){for(;Xe!==null;){var f=Xe;if(f===h){Xe=null;break}var S=f.sibling;if(S!==null){S.return=f.return,Xe=S;break}Xe=f.return}}function IR(h){for(;Xe!==null;){var f=Xe;try{switch(f.tag){case 0:case 11:case 15:var S=f.return;try{em(4,f)}catch(Ee){zi(f,S,Ee)}break;case 1:var E=f.stateNode;if(typeof E.componentDidMount=="function"){var A=f.return;try{E.componentDidMount()}catch(Ee){zi(f,A,Ee)}}var L=f.return;try{fM(f)}catch(Ee){zi(f,L,Ee)}break;case 5:var X=f.return;try{fM(f)}catch(Ee){zi(f,X,Ee)}}}catch(Ee){zi(f,f.return,Ee)}if(f===h){Xe=null;break}var se=f.sibling;if(se!==null){se.return=f.return,Xe=se;break}Xe=f.return}}var x1=0,S1=1,w1=2,M1=3,E1=4;if(typeof Symbol=="function"&&Symbol.for){var tm=Symbol.for;x1=tm("selector.component"),S1=tm("selector.has_pseudo_class"),w1=tm("selector.role"),M1=tm("selector.test_id"),E1=tm("selector.text")}function vM(h){var f=ye(h);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(h=it(h),h===null)throw Error(o(362));return h.stateNode.current}function yM(h,f){switch(f.$$typeof){case x1:if(h.type===f.value)return!0;break;case S1:e:{f=f.value,h=[h,0];for(var S=0;S<h.length;){var E=h[S++],A=h[S++],L=f[A];if(E.tag!==5||!k(E)){for(;L!=null&&yM(E,L);)A++,L=f[A];if(A===f.length){f=!0;break e}else for(E=E.child;E!==null;)h.push(E,A),E=E.sibling}}f=!1}return f;case w1:if(h.tag===5&&le(h.stateNode,f.value))return!0;break;case E1:if((h.tag===5||h.tag===6)&&(h=B(h),h!==null&&0<=h.indexOf(f.value)))return!0;break;case M1:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function _M(h){switch(h.$$typeof){case x1:return"<"+(C(h.value)||"Unknown")+">";case S1:return":has("+(_M(h)||"")+")";case w1:return'[role="'+h.value+'"]';case E1:return'"'+h.value+'"';case M1:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function OR(h,f){var S=[];h=[h,0];for(var E=0;E<h.length;){var A=h[E++],L=h[E++],X=f[L];if(A.tag!==5||!k(A)){for(;X!=null&&yM(A,X);)L++,X=f[L];if(L===f.length)S.push(A);else for(A=A.child;A!==null;)h.push(A,L),A=A.sibling}}return S}function xM(h,f){if(!Ve)throw Error(o(363));h=vM(h),h=OR(h,f),f=[],h=Array.from(h);for(var S=0;S<h.length;){var E=h[S++];if(E.tag===5)k(E)||f.push(E.stateNode);else for(E=E.child;E!==null;)h.push(E),E=E.sibling}return f}var aW=Math.ceil,b1=a.ReactCurrentDispatcher,SM=a.ReactCurrentOwner,tr=a.ReactCurrentBatchConfig,Dt=0,fr=null,pr=null,Gr=0,os=0,gd=St(0),wr=0,nm=null,vd=0,T1=0,wM=0,rm=null,Fi=null,MM=0,EM=1/0;function yd(){EM=Ir()+500}var A1=!1,bM=null,ql=null,C1=!1,Xl=null,P1=0,im=0,TM=null,R1=-1,N1=0;function xi(){return Dt&6?Ir():R1!==-1?R1:R1=Ir()}function Yl(h){return h.mode&1?Dt&2&&Gr!==0?Gr&-Gr:HH.transition!==null?(N1===0&&(h=Wv,Wv<<=1,!(Wv&4194240)&&(Wv=64),N1=h),N1):(h=Kt,h!==0?h:de()):1}function Us(h,f,S){if(50<im)throw im=0,TM=null,Error(o(185));var E=I1(h,f);return E===null?null:(Vp(E,f,S),(!(Dt&2)||E!==fr)&&(E===fr&&(!(Dt&2)&&(T1|=f),wr===4&&Zl(E,Gr)),Ui(E,S),f===1&&Dt===0&&!(h.mode&1)&&(yd(),Xv&&na())),E)}function I1(h,f){h.lanes|=f;var S=h.alternate;for(S!==null&&(S.lanes|=f),S=h,h=h.return;h!==null;)h.childLanes|=f,S=h.alternate,S!==null&&(S.childLanes|=f),S=h,h=h.return;return S.tag===3?S.stateNode:null}function Ui(h,f){var S=h.callbackNode;LH(h,f);var E=$v(h,h===fr?Gr:0);if(E===0)S!==null&&_5(S),h.callbackNode=null,h.callbackPriority=0;else if(f=E&-E,h.callbackPriority!==f){if(S!=null&&_5(S),f===1)h.tag===0?jH(DR.bind(null,h)):x5(DR.bind(null,h)),Le?Ie(function(){Dt===0&&na()}):Lw(Dw,na),S=null;else{switch(y5(E)){case 1:S=Dw;break;case 4:S=UH;break;case 16:S=kw;break;case 536870912:S=zH;break;default:S=kw}S=WR(S,LR.bind(null,h))}h.callbackPriority=f,h.callbackNode=S}}function LR(h,f){if(R1=-1,N1=0,Dt&6)throw Error(o(327));var S=h.callbackNode;if(bc()&&h.callbackNode!==S)return null;var E=$v(h,h===fr?Gr:0);if(E===0)return null;if(E&30||E&h.expiredLanes||f)f=O1(h,E);else{f=E;var A=Dt;Dt|=2;var L=UR();(fr!==h||Gr!==f)&&(yd(),Mc(h,f));do try{cW();break}catch(se){FR(h,se)}while(1);zw(),b1.current=L,Dt=A,pr!==null?f=0:(fr=null,Gr=0,f=wr)}if(f!==0){if(f===2&&(A=Nw(h),A!==0&&(E=A,f=AM(h,A))),f===1)throw S=nm,Mc(h,0),Zl(h,E),Ui(h,Ir()),S;if(f===6)Zl(h,E);else{if(A=h.current.alternate,!(E&30)&&!lW(A)&&(f=O1(h,E),f===2&&(L=Nw(h),L!==0&&(E=L,f=AM(h,L))),f===1))throw S=nm,Mc(h,0),Zl(h,E),Ui(h,Ir()),S;switch(h.finishedWork=A,h.finishedLanes=E,f){case 0:case 1:throw Error(o(345));case 2:Ec(h,Fi);break;case 3:if(Zl(h,E),(E&130023424)===E&&(f=MM+500-Ir(),10<f)){if($v(h,0)!==0)break;if(A=h.suspendedLanes,(A&E)!==E){xi(),h.pingedLanes|=h.suspendedLanes&A;break}h.timeoutHandle=Se(Ec.bind(null,h,Fi),f);break}Ec(h,Fi);break;case 4:if(Zl(h,E),(E&4194240)===E)break;for(f=h.eventTimes,A=-1;0<E;){var X=31-so(E);L=1<<X,X=f[X],X>A&&(A=X),E&=~L}if(E=A,E=Ir()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*aW(E/1960))-E,10<E){h.timeoutHandle=Se(Ec.bind(null,h,Fi),E);break}Ec(h,Fi);break;case 5:Ec(h,Fi);break;default:throw Error(o(329))}}}return Ui(h,Ir()),h.callbackNode===S?LR.bind(null,h):null}function AM(h,f){var S=rm;return h.current.memoizedState.isDehydrated&&(Mc(h,f).flags|=256),h=O1(h,f),h!==2&&(f=Fi,Fi=S,f!==null&&CM(f)),h}function CM(h){Fi===null?Fi=h:Fi.push.apply(Fi,h)}function lW(h){for(var f=h;;){if(f.flags&16384){var S=f.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var E=0;E<S.length;E++){var A=S[E],L=A.getSnapshot;A=A.value;try{if(!ta(L(),A))return!1}catch{return!1}}}if(S=f.child,f.subtreeFlags&16384&&S!==null)S.return=f,f=S;else{if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Zl(h,f){for(f&=~wM,f&=~T1,h.suspendedLanes|=f,h.pingedLanes&=~f,h=h.expirationTimes;0<f;){var S=31-so(f),E=1<<S;h[S]=-1,f&=~E}}function DR(h){if(Dt&6)throw Error(o(327));bc();var f=$v(h,0);if(!(f&1))return Ui(h,Ir()),null;var S=O1(h,f);if(h.tag!==0&&S===2){var E=Nw(h);E!==0&&(f=E,S=AM(h,E))}if(S===1)throw S=nm,Mc(h,0),Zl(h,f),Ui(h,Ir()),S;if(S===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=f,Ec(h,Fi),Ui(h,Ir()),null}function kR(h){Xl!==null&&Xl.tag===0&&!(Dt&6)&&bc();var f=Dt;Dt|=1;var S=tr.transition,E=Kt;try{if(tr.transition=null,Kt=1,h)return h()}finally{Kt=E,tr.transition=S,Dt=f,!(Dt&6)&&na()}}function PM(){os=gd.current,an(gd)}function Mc(h,f){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==Ge&&(h.timeoutHandle=Ge,pe(S)),pr!==null)for(S=pr.return;S!==null;){var E=S;switch($w(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Wl();break;case 3:pd(),an(dr),an(Sr),Jw();break;case 5:Kw(E);break;case 4:pd();break;case 13:an(Un);break;case 19:an(Un);break;case 10:Bw(E.type._context);break;case 22:case 23:PM()}S=S.return}if(fr=h,pr=h=Kl(h.current,null),Gr=os=f,wr=0,nm=null,wM=T1=vd=0,Fi=rm=null,ra!==null){for(f=0;f<ra.length;f++)if(S=ra[f],E=S.interleaved,E!==null){S.interleaved=null;var A=E.next,L=S.pending;if(L!==null){var X=L.next;L.next=A,E.next=X}S.pending=E}ra=null}return h}function FR(h,f){do{var S=pr;try{if(zw(),s1.current=h1,o1){for(var E=$n.memoizedState;E!==null;){var A=E.queue;A!==null&&(A.pending=null),E=E.next}o1=!1}if(md=0,Or=si=$n=null,qp=!1,Xp=0,SM.current=null,S===null||S.return===null){wr=1,nm=f,pr=null;break}e:{var L=h,X=S.return,se=S,Ee=f;if(f=Gr,se.flags|=32768,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var je=Ee,tt=se,wt=tt.tag;if(!(tt.mode&1)&&(wt===0||wt===11||wt===15)){var dt=tt.alternate;dt?(tt.updateQueue=dt.updateQueue,tt.memoizedState=dt.memoizedState,tt.lanes=dt.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var gn=iR(X);if(gn!==null){gn.flags&=-257,sR(gn,X,se,L,f),gn.mode&1&&rR(L,je,f),f=gn,Ee=je;var ct=f.updateQueue;if(ct===null){var li=new Set;li.add(Ee),f.updateQueue=li}else ct.add(Ee);break e}else{if(!(f&1)){rR(L,je,f),RM();break e}Ee=Error(o(426))}}else if(Rn&&se.mode&1){var Bs=iR(X);if(Bs!==null){!(Bs.flags&65536)&&(Bs.flags|=256),sR(Bs,X,se,L,f),Yw(Ee);break e}}L=Ee,wr!==4&&(wr=2),rm===null?rm=[L]:rm.push(L),Ee=oM(Ee,se),se=X;do{switch(se.tag){case 3:se.flags|=65536,f&=-f,se.lanes|=f;var ve=tR(se,Ee,f);M5(se,ve);break e;case 1:L=Ee;var ce=se.type,we=se.stateNode;if(!(se.flags&128)&&(typeof ce.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(ql===null||!ql.has(we)))){se.flags|=65536,f&=-f,se.lanes|=f;var Ze=nR(se,L,f);M5(se,Ze);break e}}se=se.return}while(se!==null)}BR(S)}catch(lt){f=lt,pr===S&&S!==null&&(pr=S=S.return);continue}break}while(1)}function UR(){var h=b1.current;return b1.current=h1,h===null?h1:h}function RM(){(wr===0||wr===3||wr===2)&&(wr=4),fr===null||!(vd&268435455)&&!(T1&268435455)||Zl(fr,Gr)}function O1(h,f){var S=Dt;Dt|=2;var E=UR();fr===h&&Gr===f||Mc(h,f);do try{uW();break}catch(A){FR(h,A)}while(1);if(zw(),Dt=S,b1.current=E,pr!==null)throw Error(o(261));return fr=null,Gr=0,wr}function uW(){for(;pr!==null;)zR(pr)}function cW(){for(;pr!==null&&!kH();)zR(pr)}function zR(h){var f=HR(h.alternate,h,os);h.memoizedProps=h.pendingProps,f===null?BR(h):pr=f,SM.current=null}function BR(h){var f=h;do{var S=f.alternate;if(h=f.return,f.flags&32768){if(S=nW(S,f),S!==null){S.flags&=32767,pr=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{wr=6,pr=null;return}}else if(S=JH(S,f,os),S!==null){pr=S;return}if(f=f.sibling,f!==null){pr=f;return}pr=f=h}while(f!==null);wr===0&&(wr=5)}function Ec(h,f){var S=Kt,E=tr.transition;try{tr.transition=null,Kt=1,hW(h,f,S)}finally{tr.transition=E,Kt=S}return null}function hW(h,f,S){do bc();while(Xl!==null);if(Dt&6)throw Error(o(327));var E=h.finishedWork,A=h.finishedLanes;if(E===null)return null;if(h.finishedWork=null,h.finishedLanes=0,E===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var L=E.lanes|E.childLanes;if(DH(h,L),h===fr&&(pr=fr=null,Gr=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||C1||(C1=!0,WR(kw,function(){return bc(),null})),L=(E.flags&15990)!==0,E.subtreeFlags&15990||L){L=tr.transition,tr.transition=null;var X=Kt;Kt=1;var se=Dt;Dt|=4,SM.current=null,iW(h,E),sW(h,E),H(h.containerInfo),h.current=E,oW(E),FH(),Dt=se,Kt=X,tr.transition=L}else h.current=E;if(C1&&(C1=!1,Xl=h,P1=A),L=h.pendingLanes,L===0&&(ql=null),BH(E.stateNode),Ui(h,Ir()),f!==null)for(S=h.onRecoverableError,E=0;E<f.length;E++)S(f[E]);if(A1)throw A1=!1,h=bM,bM=null,h;return P1&1&&h.tag!==0&&bc(),L=h.pendingLanes,L&1?h===TM?im++:(im=0,TM=h):im=0,na(),null}function bc(){if(Xl!==null){var h=y5(P1),f=tr.transition,S=Kt;try{if(tr.transition=null,Kt=16>h?16:h,Xl===null)var E=!1;else{if(h=Xl,Xl=null,P1=0,Dt&6)throw Error(o(331));var A=Dt;for(Dt|=4,Xe=h.current;Xe!==null;){var L=Xe,X=L.child;if(Xe.flags&16){var se=L.deletions;if(se!==null){for(var Ee=0;Ee<se.length;Ee++){var je=se[Ee];for(Xe=je;Xe!==null;){var tt=Xe;switch(tt.tag){case 0:case 11:case 15:wc(8,tt,L)}var wt=tt.child;if(wt!==null)wt.return=tt,Xe=wt;else for(;Xe!==null;){tt=Xe;var dt=tt.sibling,gn=tt.return;if(ER(tt),tt===je){Xe=null;break}if(dt!==null){dt.return=gn,Xe=dt;break}Xe=gn}}}var ct=L.alternate;if(ct!==null){var li=ct.child;if(li!==null){ct.child=null;do{var Bs=li.sibling;li.sibling=null,li=Bs}while(li!==null)}}Xe=L}}if(L.subtreeFlags&2064&&X!==null)X.return=L,Xe=X;else e:for(;Xe!==null;){if(L=Xe,L.flags&2048)switch(L.tag){case 0:case 11:case 15:wc(9,L,L.return)}var ve=L.sibling;if(ve!==null){ve.return=L.return,Xe=ve;break e}Xe=L.return}}var ce=h.current;for(Xe=ce;Xe!==null;){X=Xe;var we=X.child;if(X.subtreeFlags&2064&&we!==null)we.return=X,Xe=we;else e:for(X=ce;Xe!==null;){if(se=Xe,se.flags&2048)try{switch(se.tag){case 0:case 11:case 15:em(9,se)}}catch(lt){zi(se,se.return,lt)}if(se===X){Xe=null;break e}var Ze=se.sibling;if(Ze!==null){Ze.return=se.return,Xe=Ze;break e}Xe=se.return}}if(Dt=A,na(),ea&&typeof ea.onPostCommitFiberRoot=="function")try{ea.onPostCommitFiberRoot(qv,h)}catch{}E=!0}return E}finally{Kt=S,tr.transition=f}}return!1}function VR(h,f,S){f=oM(S,f),f=tR(h,f,1),$l(h,f),f=xi(),h=I1(h,1),h!==null&&(Vp(h,1,f),Ui(h,f))}function zi(h,f,S){if(h.tag===3)VR(h,h,S);else for(;f!==null;){if(f.tag===3){VR(f,h,S);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(ql===null||!ql.has(E))){h=oM(S,h),h=nR(f,h,1),$l(f,h),h=xi(),f=I1(f,1),f!==null&&(Vp(f,1,h),Ui(f,h));break}}f=f.return}}function dW(h,f,S){var E=h.pingCache;E!==null&&E.delete(f),f=xi(),h.pingedLanes|=h.suspendedLanes&S,fr===h&&(Gr&S)===S&&(wr===4||wr===3&&(Gr&130023424)===Gr&&500>Ir()-MM?Mc(h,0):wM|=S),Ui(h,f)}function jR(h,f){f===0&&(h.mode&1?(f=Gv,Gv<<=1,!(Gv&130023424)&&(Gv=4194304)):f=1);var S=xi();h=I1(h,f),h!==null&&(Vp(h,f,S),Ui(h,S))}function fW(h){var f=h.memoizedState,S=0;f!==null&&(S=f.retryLane),jR(h,S)}function pW(h,f){var S=0;switch(h.tag){case 13:var E=h.stateNode,A=h.memoizedState;A!==null&&(S=A.retryLane);break;case 19:E=h.stateNode;break;default:throw Error(o(314))}E!==null&&E.delete(f),jR(h,S)}var HR;HR=function(h,f,S){if(h!==null)if(h.memoizedProps!==f.pendingProps||dr.current)ss=!0;else{if(!(h.lanes&S)&&!(f.flags&128))return ss=!1,tW(h,f,S);ss=!!(h.flags&131072)}else ss=!1,Rn&&f.flags&1048576&&P5(f,n1,f.index);switch(f.lanes=0,f.tag){case 2:var E=f.type;h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),h=f.pendingProps;var A=Wn(f,Sr.current);ld(f,S),A=tM(null,f,E,h,A,S);var L=nM();return f.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Gn(E)?(L=!0,od(f)):L=!1,f.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,jw(f),A.updater=e1,f.stateNode=A,A._reactInternals=f,Ww(f,E,h,S),f=uM(null,f,E,!0,L,S)):(f.tag=0,Rn&&L&&Gw(f),_i(null,f,A,S),f=f.child),f;case 16:E=f.elementType;e:{switch(h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),h=f.pendingProps,A=E._init,E=A(E._payload),f.type=E,A=f.tag=gW(E),h=oo(E,h),A){case 0:f=lM(null,f,E,h,S);break e;case 1:f=fR(null,f,E,h,S);break e;case 11:f=lR(null,f,E,h,S);break e;case 14:f=uR(null,f,E,oo(E.type,h),S);break e}throw Error(o(306,E,""))}return f;case 0:return E=f.type,A=f.pendingProps,A=f.elementType===E?A:oo(E,A),lM(h,f,E,A,S);case 1:return E=f.type,A=f.pendingProps,A=f.elementType===E?A:oo(E,A),fR(h,f,E,A,S);case 3:e:{if(pR(f),h===null)throw Error(o(387));E=f.pendingProps,L=f.memoizedState,A=L.element,w5(h,f),Jv(f,E,null,S);var X=f.memoizedState;if(E=X.element,Ne&&L.isDehydrated)if(L={element:E,isDehydrated:!1,cache:X.cache,transitions:X.transitions},f.updateQueue.baseState=L,f.memoizedState=L,f.flags&256){A=Error(o(423)),f=mR(h,f,E,S,A);break e}else if(E!==A){A=Error(o(424)),f=mR(h,f,E,S,A);break e}else for(Ne&&(is=dn(f.stateNode.containerInfo),rs=f,Rn=!0,ao=null,jp=!1),S=D5(f,null,E,S),f.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(hd(),E===A){f=Ga(h,f,S);break e}_i(h,f,E,S)}f=f.child}return f;case 5:return k5(f),h===null&&Xw(f),E=f.type,A=f.pendingProps,L=h!==null?h.memoizedProps:null,X=A.children,te(E,A)?X=null:L!==null&&te(E,L)&&(f.flags|=32),dR(h,f),_i(h,f,X,S),f.child;case 6:return h===null&&Xw(f),null;case 13:return gR(h,f,S);case 4:return Zw(f,f.stateNode.containerInfo),E=f.pendingProps,h===null?f.child=dd(f,null,E,S):_i(h,f,E,S),f.child;case 11:return E=f.type,A=f.pendingProps,A=f.elementType===E?A:oo(E,A),lR(h,f,E,A,S);case 7:return _i(h,f,f.pendingProps,S),f.child;case 8:return _i(h,f,f.pendingProps.children,S),f.child;case 12:return _i(h,f,f.pendingProps.children,S),f.child;case 10:e:{if(E=f.type._context,A=f.pendingProps,L=f.memoizedProps,X=A.value,S5(f,E,X),L!==null)if(ta(L.value,X)){if(L.children===A.children&&!dr.current){f=Ga(h,f,S);break e}}else for(L=f.child,L!==null&&(L.return=f);L!==null;){var se=L.dependencies;if(se!==null){X=L.child;for(var Ee=se.firstContext;Ee!==null;){if(Ee.context===E){if(L.tag===1){Ee=Va(-1,S&-S),Ee.tag=2;var je=L.updateQueue;if(je!==null){je=je.shared;var tt=je.pending;tt===null?Ee.next=Ee:(Ee.next=tt.next,tt.next=Ee),je.pending=Ee}}L.lanes|=S,Ee=L.alternate,Ee!==null&&(Ee.lanes|=S),Vw(L.return,S,f),se.lanes|=S;break}Ee=Ee.next}}else if(L.tag===10)X=L.type===f.type?null:L.child;else if(L.tag===18){if(X=L.return,X===null)throw Error(o(341));X.lanes|=S,se=X.alternate,se!==null&&(se.lanes|=S),Vw(X,S,f),X=L.sibling}else X=L.child;if(X!==null)X.return=L;else for(X=L;X!==null;){if(X===f){X=null;break}if(L=X.sibling,L!==null){L.return=X.return,X=L;break}X=X.return}L=X}_i(h,f,A.children,S),f=f.child}return f;case 9:return A=f.type,E=f.pendingProps.children,ld(f,S),A=Os(A),E=E(A),f.flags|=1,_i(h,f,E,S),f.child;case 14:return E=f.type,A=oo(E,f.pendingProps),A=oo(E.type,A),uR(h,f,E,A,S);case 15:return cR(h,f,f.type,f.pendingProps,S);case 17:return E=f.type,A=f.pendingProps,A=f.elementType===E?A:oo(E,A),h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Gn(E)?(h=!0,od(f)):h=!1,ld(f,S),A5(f,E,A),Ww(f,E,A,S),uM(null,f,E,!0,h,S);case 19:return xR(h,f,S);case 22:return hR(h,f,S)}throw Error(o(156,f.tag))};function WR(h,f){return Lw(h,f)}function mW(h,f,S,E){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zs(h,f,S,E){return new mW(h,f,S,E)}function NM(h){return h=h.prototype,!(!h||!h.isReactComponent)}function gW(h){if(typeof h=="function")return NM(h)?1:0;if(h!=null){if(h=h.$$typeof,h===y)return 11;if(h===x)return 14}return 2}function Kl(h,f){var S=h.alternate;return S===null?(S=zs(h.tag,f,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=f,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,f=h.dependencies,S.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function L1(h,f,S,E,A,L){var X=2;if(E=h,typeof h=="function")NM(h)&&(X=1);else if(typeof h=="string")X=5;else e:switch(h){case c:return Tc(S.children,A,L,f);case d:X=8,A|=8;break;case p:return h=zs(12,S,f,A|2),h.elementType=p,h.lanes=L,h;case _:return h=zs(13,S,f,A),h.elementType=_,h.lanes=L,h;case v:return h=zs(19,S,f,A),h.elementType=v,h.lanes=L,h;case M:return D1(S,A,L,f);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:X=10;break e;case g:X=9;break e;case y:X=11;break e;case x:X=14;break e;case w:X=16,E=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return f=zs(X,S,f,A),f.elementType=h,f.type=E,f.lanes=L,f}function Tc(h,f,S,E){return h=zs(7,h,E,f),h.lanes=S,h}function D1(h,f,S,E){return h=zs(22,h,E,f),h.elementType=M,h.lanes=S,h.stateNode={},h}function IM(h,f,S){return h=zs(6,h,null,f),h.lanes=S,h}function OM(h,f,S){return f=zs(4,h.children!==null?h.children:[],h.key,f),f.lanes=S,f.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},f}function vW(h,f,S,E,A){this.tag=f,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ge,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iw(0),this.expirationTimes=Iw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iw(0),this.identifierPrefix=E,this.onRecoverableError=A,Ne&&(this.mutableSourceEagerHydrationData=null)}function GR(h,f,S,E,A,L,X,se,Ee){return h=new vW(h,f,S,se,Ee),f===1?(f=1,L===!0&&(f|=8)):f=0,L=zs(3,null,null,f),h.current=L,L.stateNode=h,L.memoizedState={element:E,isDehydrated:S,cache:null,transitions:null},jw(L),h}function $R(h){if(!h)return ri;h=h._reactInternals;e:{if(R(h)!==h||h.tag!==1)throw Error(o(170));var f=h;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Gn(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(h.tag===1){var S=h.type;if(Gn(S))return sd(h,S,f)}return f}function qR(h){var f=h._reactInternals;if(f===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=V(f),h===null?null:h.stateNode}function XR(h,f){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<f?S:f}}function LM(h,f){XR(h,f),(h=h.alternate)&&XR(h,f)}function yW(h){return h=V(h),h===null?null:h.stateNode}function _W(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var f=xi();Us(h,134217728,f),LM(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var f=xi(),S=Yl(h);Us(h,S,f),LM(h,S)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var f=h.stateNode;if(f.current.memoizedState.isDehydrated){var S=Bp(f.pendingLanes);S!==0&&(Ow(f,S|1),Ui(f,Ir()),!(Dt&6)&&(yd(),na()))}break;case 13:var E=xi();kR(function(){return Us(h,1,E)}),LM(h,1)}},n.batchedUpdates=function(h,f){var S=Dt;Dt|=1;try{return h(f)}finally{Dt=S,Dt===0&&(yd(),Xv&&na())}},n.createComponentSelector=function(h){return{$$typeof:x1,value:h}},n.createContainer=function(h,f,S,E,A,L,X){return GR(h,f,!1,null,S,E,A,L,X)},n.createHasPseudoClassSelector=function(h){return{$$typeof:S1,value:h}},n.createHydrationContainer=function(h,f,S,E,A,L,X,se,Ee){return h=GR(S,E,!0,h,A,L,X,se,Ee),h.context=$R(null),S=h.current,E=xi(),A=Yl(S),L=Va(E,A),L.callback=f??null,$l(S,L),h.current.lanes=A,Vp(h,A,E),Ui(h,E),h},n.createPortal=function(h,f,S){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:h,containerInfo:f,implementation:S}},n.createRoleSelector=function(h){return{$$typeof:w1,value:h}},n.createTestNameSelector=function(h){return{$$typeof:M1,value:h}},n.createTextSelector=function(h){return{$$typeof:E1,value:h}},n.deferredUpdates=function(h){var f=Kt,S=tr.transition;try{return tr.transition=null,Kt=16,h()}finally{Kt=f,tr.transition=S}},n.discreteUpdates=function(h,f,S,E,A){var L=Kt,X=tr.transition;try{return tr.transition=null,Kt=1,h(f,S,E,A)}finally{Kt=L,tr.transition=X,Dt===0&&yd()}},n.findAllNodes=xM,n.findBoundingRects=function(h,f){if(!Ve)throw Error(o(363));f=xM(h,f),h=[];for(var S=0;S<f.length;S++)h.push(ae(f[S]));for(f=h.length-1;0<f;f--){S=h[f];for(var E=S.x,A=E+S.width,L=S.y,X=L+S.height,se=f-1;0<=se;se--)if(f!==se){var Ee=h[se],je=Ee.x,tt=je+Ee.width,wt=Ee.y,dt=wt+Ee.height;if(E>=je&&L>=wt&&A<=tt&&X<=dt){h.splice(f,1);break}else if(E!==je||S.width!==Ee.width||dt<L||wt>X){if(!(L!==wt||S.height!==Ee.height||tt<E||je>A)){je>E&&(Ee.width+=je-E,Ee.x=E),tt<A&&(Ee.width=A-je),h.splice(f,1);break}}else{wt>L&&(Ee.height+=wt-L,Ee.y=L),dt<X&&(Ee.height=X-wt),h.splice(f,1);break}}}return h},n.findHostInstance=qR,n.findHostInstanceWithNoPortals=function(h){return h=z(h),h=h!==null?K(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return qR(h)},n.flushControlled=function(h){var f=Dt;Dt|=1;var S=tr.transition,E=Kt;try{tr.transition=null,Kt=1,h()}finally{Kt=E,tr.transition=S,Dt=f,Dt===0&&(yd(),na())}},n.flushPassiveEffects=bc,n.flushSync=kR,n.focusWithin=function(h,f){if(!Ve)throw Error(o(363));for(h=vM(h),f=OR(h,f),f=Array.from(f),h=0;h<f.length;){var S=f[h++];if(!k(S)){if(S.tag===5&&_e(S.stateNode))return!0;for(S=S.child;S!==null;)f.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Kt},n.getFindAllNodesFailureDescription=function(h,f){if(!Ve)throw Error(o(363));var S=0,E=[];h=[vM(h),0];for(var A=0;A<h.length;){var L=h[A++],X=h[A++],se=f[X];if((L.tag!==5||!k(L))&&(yM(L,se)&&(E.push(_M(se)),X++,X>S&&(S=X)),X<f.length))for(L=L.child;L!==null;)h.push(L,X),L=L.sibling}if(S<f.length){for(h=[];S<f.length;S++)h.push(_M(f[S]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return ne(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:yW,findFiberByHostInstance:h.findFiberByHostInstance||_W,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)h=!0;else{try{qv=f.inject(h),ea=f}catch{}h=!!f.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,f,S,E){if(!Ve)throw Error(o(363));h=xM(h,f);var A=be(h,S,E).disconnect;return{disconnect:function(){A()}}},n.registerMutableSourceForHydration=function(h,f){var S=f._getVersion;S=S(f._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[f,S]:h.mutableSourceEagerHydrationData.push(f,S)},n.runWithPriority=function(h,f){var S=Kt;try{return Kt=h,f()}finally{Kt=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,f,S,E){var A=f.current,L=xi(),X=Yl(A);return S=$R(S),f.context===null?f.context=S:f.pendingContext=S,f=Va(L,X),f.payload={element:h},E=E===void 0?null:E,E!==null&&(f.callback=E),$l(A,f),h=Us(A,X,L),h!==null&&Qv(h,A,X),X},n};U9.exports=gne;var vne=U9.exports;const yne=G0(vne);var z9={exports:{}},B9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,j){var H=F.length;F.push(j);e:for(;0<H;){var D=H-1>>>1,U=F[D];if(0<i(U,j))F[D]=j,F[H]=U,H=D;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],H=F.pop();if(H!==j){F[0]=H;e:for(var D=0,U=F.length,Y=U>>>1;D<Y;){var q=2*(D+1)-1,te=F[q],ue=q+1,Se=F[ue];if(0>i(te,H))ue<U&&0>i(Se,te)?(F[D]=Se,F[ue]=H,D=ue):(F[D]=te,F[q]=H,D=q);else if(ue<U&&0>i(Se,H))F[D]=Se,F[ue]=H,D=ue;else break e}}return j}function i(F,j){var H=F.sortIndex-j.sortIndex;return H!==0?H:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=F)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function M(F){if(y=!1,w(F),!g)if(n(l)!==null)g=!0,ne(b);else{var j=n(u);j!==null&&ee(M,j.startTime-F)}}function b(F,j){g=!1,y&&(y=!1,v(I),I=-1),m=!0;var H=p;try{for(w(j),d=n(l);d!==null&&(!(d.expirationTime>j)||F&&!z());){var D=d.callback;if(typeof D=="function"){d.callback=null,p=d.priorityLevel;var U=D(d.expirationTime<=j);j=t.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),w(j)}else r(l);d=n(l)}if(d!==null)var Y=!0;else{var q=n(u);q!==null&&ee(M,q.startTime-j),Y=!1}return Y}finally{d=null,p=H,m=!1}}var T=!1,C=null,I=-1,R=5,N=-1;function z(){return!(t.unstable_now()-N<R)}function V(){if(C!==null){var F=t.unstable_now();N=F;var j=!0;try{j=C(!0,F)}finally{j?W():(T=!1,C=null)}}else T=!1}var W;if(typeof x=="function")W=function(){x(V)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=V,W=function(){J.postMessage(null)}}else W=function(){_(V,0)};function ne(F){C=F,T||(T=!0,W())}function ee(F,j){I=_(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,ne(b))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var H=p;p=j;try{return F()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=p;p=F;try{return j()}finally{p=H}},t.unstable_scheduleCallback=function(F,j,H){var D=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?D+H:D):H=D,F){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=H+U,F={id:c++,callback:j,priorityLevel:F,startTime:H,expirationTime:U,sortIndex:-1},H>D?(F.sortIndex=H,e(u,F),n(l)===null&&F===n(u)&&(y?(v(I),I=-1):y=!0,ee(M,H-D))):(F.sortIndex=U,e(l,F),g||m||(g=!0,ne(b))),F},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(F){var j=p;return function(){var H=p;p=j;try{return F.apply(this,arguments)}finally{p=H}}}})(B9);z9.exports=B9;var QI=z9.exports;const _ne=t=>typeof t=="object"&&typeof t.then=="function",sh=[];function V9(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function j9(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of sh)if(V9(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=sh.indexOf(i);s!==-1&&sh.splice(s,1)},promise:(_ne(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(sh.push(i),!n)throw i.promise}const xne=(t,e,n)=>j9(t,e,!1,n),Sne=(t,e,n)=>void j9(t,e,!0,n),wne=t=>{if(t===void 0||t.length===0)sh.splice(0,sh.length);else{const e=sh.find(n=>V9(t,n.keys,n.equal));e&&e.remove()}},g4={},Mne=t=>void Object.assign(g4,t);function Ene(t,e){function n(c,{args:d=[],attach:p,...m},g){let y=`${c[0].toUpperCase()}${c.slice(1)}`,_;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;_=Xd(v,{type:c,root:g,attach:p,primitive:!0})}else{const v=g4[y];if(!v)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");_=Xd(new v(...d),{type:c,root:g,attach:p,memoizedProps:{args:d}})}return _.__r3f.attach===void 0&&(_ instanceof It?_.__r3f.attach="geometry":_ instanceof Jr&&(_.__r3f.attach="material")),y!=="inject"&&$E(_,m),_}function r(c,d){let p=!1;if(d){var m,g;(m=d.__r3f)!=null&&m.attach?GE(c,d,d.__r3f.attach):d.isObject3D&&c.isObject3D&&(c.add(d),p=!0),p||(g=c.__r3f)==null||g.objects.push(d),d.__r3f||Xd(d,{}),d.__r3f.parent=c,TT(d),Yd(d)}}function i(c,d,p){let m=!1;if(d){var g,y;if((g=d.__r3f)!=null&&g.attach)GE(c,d,d.__r3f.attach);else if(d.isObject3D&&c.isObject3D){d.parent=c,d.dispatchEvent({type:"added"});const _=c.children.filter(x=>x!==d),v=_.indexOf(p);c.children=[..._.slice(0,v),d,..._.slice(v)],m=!0}m||(y=c.__r3f)==null||y.objects.push(d),d.__r3f||Xd(d,{}),d.__r3f.parent=c,TT(d),Yd(d)}}function s(c,d,p=!1){c&&[...c].forEach(m=>o(d,m,p))}function o(c,d,p){if(d){var m,g,y;if(d.__r3f&&(d.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(M=>M!==d)),(g=d.__r3f)!=null&&g.attach)rO(c,d,d.__r3f.attach);else if(d.isObject3D&&c.isObject3D){var _;c.remove(d),(_=d.__r3f)!=null&&_.root&&Ine(d.__r3f.root,d)}const x=(y=d.__r3f)==null?void 0:y.primitive,w=p===void 0?d.dispose!==null&&!x:p;if(!x){var v;s((v=d.__r3f)==null?void 0:v.objects,d,w),s(d.children,d,w)}delete d.__r3f,w&&d.dispose&&d.type!=="Scene"&&QI.unstable_scheduleCallback(QI.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Yd(c)}}function a(c,d,p,m){var g;const y=(g=c.__r3f)==null?void 0:g.parent;if(!y)return;const _=n(d,p,c.__r3f.root);if(c.children){for(const v of c.children)v.__r3f&&r(_,v);c.children=c.children.filter(v=>!v.__r3f)}c.__r3f.objects.forEach(v=>r(_,v)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(y,c),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(y,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=_,v.ref&&(typeof v.ref=="function"?v.ref(_):v.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:yne({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,d)=>{if(!d)return;const p=c.getState().scene;p.__r3f&&(p.__r3f.root=c,r(p,d))},removeChildFromContainer:(c,d)=>{d&&o(c.getState().scene,d)},insertInContainerBefore:(c,d,p)=>{if(!d||!p)return;const m=c.getState().scene;m.__r3f&&i(m,d,p)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var d;return!!((d=c==null?void 0:c.__r3f)!=null?d:{}).handlers},prepareUpdate(c,d,p,m){var g;if(((g=c==null?void 0:c.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:_=[],children:v,...x}=m,{args:w=[],children:M,...b}=p;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((C,I)=>C!==w[I]))return[!0];const T=Y9(c,x,b,!0);return T.changes.length?[!1,T]:null}},commitUpdate(c,[d,p],m,g,y,_){d?a(c,m,y,_):$E(c,p)},commitMount(c,d,p,m){var g;const y=(g=c.__r3f)!=null?g:{};c.raycast&&y.handlers&&y.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Xd(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var d;const{attach:p,parent:m}=(d=c.__r3f)!=null?d:{};p&&m&&rO(m,c,p),c.isObject3D&&(c.visible=!1),Yd(c)},unhideInstance(c,d){var p;const{attach:m,parent:g}=(p=c.__r3f)!=null?p:{};m&&g&&GE(g,c,m),(c.isObject3D&&d.visible==null||d.visible)&&(c.visible=!0),Yd(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():vf.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Tn.fun(performance.now)?performance.now:Tn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Tn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Tn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:$E}}var JI,eO;const WE=t=>"colorSpace"in t||"outputColorSpace"in t,H9=()=>{var t;return(t=g4.ColorManagement)!=null?t:null},W9=t=>t&&t.isOrthographicCamera,bne=t=>t&&t.hasOwnProperty("current"),uv=typeof window<"u"&&((JI=window.document)!=null&&JI.createElement||((eO=window.navigator)==null?void 0:eO.product)==="ReactNative")?P.useLayoutEffect:P.useEffect;function G9(t){const e=P.useRef(t);return uv(()=>void(e.current=t),[t]),e}function Tne({set:t}){return uv(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class $9 extends P.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}$9.getDerivedStateFromError=()=>({error:!0});const q9="__default",tO=new Map,Ane=t=>t&&!!t.memoized&&!!t.changes;function X9(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Am=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Tn={obj:t=>t===Object(t)&&!Tn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Tn.str(t)||Tn.num(t))return t===e;const s=Tn.obj(t);if(s&&r==="reference")return t===e;const o=Tn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Tn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Tn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Cne(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Pne(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Xd(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function bT(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const nO=/-\d+$/;function GE(t,e,n){if(Tn.str(n)){if(nO.test(n)){const s=n.replace(nO,""),{target:o,key:a}=bT(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=bT(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function rO(t,e,n){var r,i;if(Tn.str(n)){const{target:s,key:o}=bT(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function Y9(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const d=(c=t==null?void 0:t.__r3f)!=null?c:{},p=Object.entries(i),m=[];if(u){const y=Object.keys(l);for(let _=0;_<y.length;_++)i.hasOwnProperty(y[_])||p.unshift([y[_],q9+"remove"])}p.forEach(([y,_])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&y==="object"||Tn.equ(_,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,_,!0,[]]);let x=[];y.includes("-")&&(x=y.split("-")),m.push([y,_,!1,x]);for(const w in i){const M=i[w];w.startsWith(`${y}-`)&&m.push([w,M,!1,w.split("-")])}});const g={...i};return d.memoizedProps&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:m}}function $E(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=Ane(e)?e:Y9(t,e),c=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,g,y,_]=u[p];if(WE(t)){const M="srgb",b="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?M:b):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?M:b)}let v=t,x=v[m];if(_.length&&(x=_.reduce((w,M)=>w[M],t),!(x&&x.set))){const[w,...M]=_.reverse();v=M.reverse().reduce((b,T)=>b[T],t),m=w}if(g===q9+"remove")if(v.constructor){let w=tO.get(v.constructor);w||(w=new v.constructor,tO.set(v.constructor,w)),g=w[m]}else g=0;if(y)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof fh)){if(Array.isArray(g))x.fromArray?x.fromArray(g):x.set(...g);else if(x.copy&&g&&g.constructor&&x.constructor===g.constructor)x.copy(g);else if(g!==void 0){const w=x instanceof Ke;!w&&x.setScalar?x.setScalar(g):x instanceof fh&&g instanceof fh?x.mask=g.mask:x.set(g),!H9()&&!a.linear&&w&&x.convertSRGBToLinear()}}else if(v[m]=g,v[m]instanceof Kn&&v[m].format===Gi&&v[m].type===xa){const w=v[m];WE(w)&&WE(a.gl)?w.colorSpace=a.gl.outputColorSpace:w.encoding=a.gl.outputEncoding}Yd(t)}if(s.parent&&a.internal&&t.raycast&&c!==s.eventCount){const p=a.internal.interaction.indexOf(t);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&TT(t),t}function Yd(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function TT(t){t.onUpdate==null||t.onUpdate(t)}function Rne(t,e){t.manual||(W9(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Vy(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Nne(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return vf.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return vf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return vf.ContinuousEventPriority;default:return vf.DefaultEventPriority}}function Z9(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Ine(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Z9(n.capturedMap,e,r,i)})}function One(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+d*d))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),d=new Set,p=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let v=0;v<m.length;v++){const x=Am(m[v]);x&&(x.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(v){const x=Am(v);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var w;x.events.compute==null||x.events.compute(l,x,(w=x.previousRoot)==null?void 0:w.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(v,!0):[]}let y=m.flatMap(g).sort((v,x)=>{const w=Am(v.object),M=Am(x.object);return!w||!M?v.distance-x.distance:M.events.priority-w.events.priority||v.distance-x.distance}).filter(v=>{const x=Vy(v);return d.has(x)?!1:(d.add(x),!0)});c.events.filter&&(y=c.events.filter(y,c));for(const v of y){let x=v.object;for(;x;){var _;(_=x.__r3f)!=null&&_.eventCount&&p.push({...v,eventObject:x}),x=x.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let v of c.internal.capturedMap.get(l.pointerId).values())d.has(Vy(v.intersection))||p.push(v.intersection);return p}function i(l,u,c,d){const p=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const y=Am(g.object)||p,{raycaster:_,pointer:v,camera:x,internal:w}=y,M=new $(v.x,v.y,0).unproject(x),b=N=>{var z,V;return(z=(V=w.capturedMap.get(N))==null?void 0:V.has(g.eventObject))!=null?z:!1},T=N=>{const z={intersection:g,target:u.target};w.capturedMap.has(N)?w.capturedMap.get(N).set(g.eventObject,z):w.capturedMap.set(N,new Map([[g.eventObject,z]])),u.target.setPointerCapture(N)},C=N=>{const z=w.capturedMap.get(N);z&&Z9(w.capturedMap,g.eventObject,z,N)};let I={};for(let N in u){let z=u[N];typeof z!="function"&&(I[N]=z)}let R={...g,...I,pointer:v,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:M,ray:_.ray,camera:x,stopPropagation(){const N="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!N||N.has(g.eventObject))&&(R.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(z=>z.eventObject===g.eventObject))){const z=l.slice(0,l.indexOf(g));s([...z,g])}},target:{hasPointerCapture:b,setPointerCapture:T,releasePointerCapture:C},currentTarget:{hasPointerCapture:b,setPointerCapture:T,releasePointerCapture:C},nativeEvent:u};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(d=>d.object===c.object&&d.index===c.index&&d.instanceId===c.instanceId)){const p=c.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(Vy(c)),p!=null&&p.eventCount){const g={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const d=u[c].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:d,internal:p}=t.getState();p.lastEvent.current=c;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(c,m?n:void 0),v=g?e(c):0;l==="onPointerDown"&&(p.initialClick=[c.offsetX,c.offsetY],p.initialHits=_.map(w=>w.eventObject)),g&&!_.length&&v<=2&&(o(c,p.interaction),d&&d(c)),m&&s(_);function x(w){const M=w.eventObject,b=M.__r3f,T=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const C=Vy(w),I=p.hovered.get(C);I?I.stopped&&w.stopPropagation():(p.hovered.set(C,w),T.onPointerOver==null||T.onPointerOver(w),T.onPointerEnter==null||T.onPointerEnter(w))}T.onPointerMove==null||T.onPointerMove(w)}else{const C=T[l];C?(!g||p.initialHits.includes(M))&&(o(c,p.interaction.filter(I=>!p.initialHits.includes(I))),C(w)):g&&p.initialHits.includes(M)&&o(c,p.interaction.filter(I=>!p.initialHits.includes(I)))}}i(_,c,v,x)}}return{handlePointer:a}}const K9=t=>!!(t!=null&&t.render),Q9=P.createContext(null),Lne=(t,e)=>{const n=fne((a,l)=>{const u=new $,c=new $,d=new $;function p(v=l().camera,x=c,w=l().size){const{width:M,height:b,top:T,left:C}=w,I=M/b;x instanceof $?d.copy(x):d.set(...x);const R=v.getWorldPosition(u).distanceTo(d);if(W9(v))return{width:M/v.zoom,height:b/v.zoom,top:T,left:C,factor:1,distance:R,aspect:I};{const N=v.fov*Math.PI/180,z=2*Math.tan(N/2)*R,V=z*(M/b);return{width:V,height:z,top:T,left:C,factor:M/V,distance:R,aspect:I}}}let m;const g=v=>a(x=>({performance:{...x.performance,current:v}})),y=new Oe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,x)=>e(v,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new d4,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:v=>a(x=>({...x,events:{...x.events,...v}})),setSize:(v,x,w,M,b)=>{const T=l().camera,C={width:v,height:x,top:M||0,left:b||0,updateStyle:w};a(I=>({size:C,viewport:{...I.viewport,...p(T,c,C)}}))},setDpr:v=>a(x=>{const w=X9(v);return{viewport:{...x.viewport,dpr:w,initialDpr:x.viewport.initialDpr||w}}}),setFrameloop:(v="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,v!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:P.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,x,w)=>{const M=l().internal;return M.priority=M.priority+(x>0?1:0),M.subscribers.push({ref:v,priority:x,store:w}),M.subscribers=M.subscribers.sort((b,T)=>b.priority-T.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(x>0?1:0),b.subscribers=b.subscribers.filter(T=>T.ref!==v))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:d}=n.getState();if(l!==i||u.dpr!==s){var p;i=l,s=u.dpr,Rne(a,l),c.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let jy,Dne=new Set,kne=new Set,Fne=new Set;function qE(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Cm(t,e){switch(t){case"before":return qE(Dne,e);case"after":return qE(kne,e);case"tail":return qE(Fne,e)}}let XE,YE;function ZE(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),XE=e.internal.subscribers,jy=0;jy<XE.length;jy++)YE=XE[jy],YE.ref.current(YE.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Une(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,Cm("before",l);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=ZE(l,i))}if(Cm("after",l),n===0)return Cm("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return t.forEach(d=>o(d.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,d){if(u&&Cm("before",l),c)ZE(l,c,d);else for(const p of t.values())ZE(l,p.store.getState());u&&Cm("after",l)}return{loop:s,invalidate:o,advance:a}}function J9(){const t=P.useContext(Q9);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function eU(t=n=>n,e){return J9()(t,e)}function cv(t,e=0){const n=J9(),r=n.getState().internal.subscribe,i=G9(t);return uv(()=>r(i,e,n),[e,r,n]),null}function tU(t,e){return function(n,...r){const i=new n;return t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Cne(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function hv(t,e,n,r){const i=Array.isArray(e)?e:[e],s=xne(tU(n,r),[t,...i],{equal:Tn.equ});return Array.isArray(e)?s:s[0]}hv.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return Sne(tU(n),[t,...r])};hv.clear=function(t,e){const n=Array.isArray(e)?e:[e];return wne([t,...n])};const Zf=new Map,{invalidate:iO,advance:sO}=Une(Zf),{reconciler:wx,applyProps:jd}=Ene(Zf,Nne),Hd={objects:"shallow",strict:!1},zne=(t,e)=>{const n=typeof t=="function"?t(e):t;return K9(n)?n:new qC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Bne(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Vne(t){const e=Zf.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Lne(iO,sO),o=n||wx.createContainer(s,vf.ConcurrentRoot,null,!1,null,"",i,null);e||Zf.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:d,size:p,scene:m,events:g,onCreated:y,shadows:_=!1,linear:v=!1,flat:x=!1,legacy:w=!1,orthographic:M=!1,frameloop:b="always",dpr:T=[1,2],performance:C,raycaster:I,camera:R,onPointerMissed:N}=c,z=s.getState(),V=z.gl;z.gl||z.set({gl:V=zne(d,t)});let W=z.raycaster;W||z.set({raycaster:W=new L9});const{params:K,...J}=I||{};if(Tn.equ(J,W,Hd)||jd(W,{...J}),Tn.equ(K,W.params,Hd)||jd(W,{params:{...W.params,...K}}),!z.camera||z.camera===u&&!Tn.equ(u,R,Hd)){u=R;const D=R instanceof ev,U=D?R:M?new rv(0,0,0,0,.1,1e3):new zr(75,0,.1,1e3);D||(U.position.z=5,R&&jd(U,R),!z.camera&&!(R!=null&&R.rotation)&&U.lookAt(0,0,0)),z.set({camera:U})}if(!z.scene){let D;m instanceof Sx?D=m:(D=new Sx,m&&jd(D,m)),z.set({scene:Xd(D)})}if(!z.xr){const D=(q,te)=>{const ue=s.getState();ue.frameloop!=="never"&&sO(q,!0,ue,te)},U=()=>{const q=s.getState();q.gl.xr.enabled=q.gl.xr.isPresenting,q.gl.xr.setAnimationLoop(q.gl.xr.isPresenting?D:null),q.gl.xr.isPresenting||iO(q)},Y={connect(){const q=s.getState().gl;q.xr.addEventListener("sessionstart",U),q.xr.addEventListener("sessionend",U)},disconnect(){const q=s.getState().gl;q.xr.removeEventListener("sessionstart",U),q.xr.removeEventListener("sessionend",U)}};V.xr&&Y.connect(),z.set({xr:Y})}if(V.shadowMap){const D=V.shadowMap.enabled,U=V.shadowMap.type;if(V.shadowMap.enabled=!!_,Tn.boo(_))V.shadowMap.type=og;else if(Tn.str(_)){var ne;const Y={basic:O7,percentage:zS,soft:og,variance:go};V.shadowMap.type=(ne=Y[_])!=null?ne:og}else Tn.obj(_)&&Object.assign(V.shadowMap,_);(D!==V.shadowMap.enabled||U!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}const ee=H9();ee&&("enabled"in ee?ee.enabled=!w:"legacyMode"in ee&&(ee.legacyMode=w)),jd(V,{outputEncoding:v?3e3:3001,toneMapping:x?Lo:CC}),z.legacy!==w&&z.set(()=>({legacy:w})),z.linear!==v&&z.set(()=>({linear:v})),z.flat!==x&&z.set(()=>({flat:x})),d&&!Tn.fun(d)&&!K9(d)&&!Tn.equ(d,V,Hd)&&jd(V,d),g&&!z.events.handlers&&z.set({events:g(s)});const H=Bne(t,p);return Tn.equ(H,z.size,Hd)||z.setSize(H.width,H.height,H.updateStyle,H.top,H.left),T&&z.viewport.dpr!==X9(T)&&z.setDpr(T),z.frameloop!==b&&z.setFrameloop(b),z.onPointerMissed||z.set({onPointerMissed:N}),C&&!Tn.equ(C,z.performance,Hd)&&z.set(D=>({performance:{...D.performance,...C}})),a=y,l=!0,this},render(c){return l||this.configure(),wx.updateContainer(P.createElement(jne,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){nU(t)}}}function jne({store:t,children:e,onCreated:n,rootElement:r}){return uv(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),P.createElement(Q9.Provider,{value:t},e)}function nU(t,e){const n=Zf.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),wx.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Pne(i),Zf.delete(t),e&&e(t)}catch{}},500)})}}wx.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:P.version});function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(this,arguments)}function AT(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}AT.debounce=AT;var Hne=AT;const oO=G0(Hne);function Wne(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=P.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=P.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,d=P.useRef(!1);P.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,g]=P.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:w,top:M,width:b,height:T,bottom:C,right:I,x:R,y:N}=l.current.element.getBoundingClientRect(),z={left:w,top:M,width:b,height:T,bottom:C,right:I,x:R,y:N};l.current.element instanceof HTMLElement&&i&&(z.height=l.current.element.offsetHeight,z.width=l.current.element.offsetWidth),Object.freeze(z),d.current&&!Xne(l.current.lastBounds,z)&&a(l.current.lastBounds=z)};return[x,c?oO(x,c):x,u?oO(x,u):x]},[a,i,u,c]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",g,{capture:!0,passive:!0})))}const v=x=>{!x||x===l.current.element||(y(),l.current.element=x,l.current.scrollContainers=rU(x),_())};return $ne(g,!!n),Gne(m),P.useEffect(()=>{y(),_()},[n,g,m]),P.useEffect(()=>y,[]),[v,o,p]}function Gne(t){P.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function $ne(t,e){P.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function rU(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...rU(t.parentElement)]}const qne=["x","y","top","bottom","left","right","width","height"],Xne=(t,e)=>qne.every(n=>t[n]===e[n]);var Yne=Object.defineProperty,Zne=Object.defineProperties,Kne=Object.getOwnPropertyDescriptors,aO=Object.getOwnPropertySymbols,Qne=Object.prototype.hasOwnProperty,Jne=Object.prototype.propertyIsEnumerable,lO=(t,e,n)=>e in t?Yne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uO=(t,e)=>{for(var n in e||(e={}))Qne.call(e,n)&&lO(t,n,e[n]);if(aO)for(var n of aO(e))Jne.call(e,n)&&lO(t,n,e[n]);return t},ere=(t,e)=>Zne(t,Kne(e));function iU(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=iU(r,e,n);if(i)return i;r=e?null:r.sibling}}function sU(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const v4=sU(P.createContext(null));class oU extends P.Component{render(){return P.createElement(v4.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:cO,ReactCurrentDispatcher:hO}=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function tre(){const t=P.useContext(v4);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=P.useId();return P.useMemo(()=>{for(const r of[cO==null?void 0:cO.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=iU(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function nre(){var t,e;const n=tre(),[r]=P.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==v4&&!r.has(s)&&r.set(s,(e=hO==null?void 0:hO.current)==null?void 0:e.readContext(sU(s))),i=i.return}return r}function rre(){const t=nre();return P.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>P.createElement(e,null,P.createElement(n.Provider,ere(uO({},r),{value:t.get(n)}))),e=>P.createElement(oU,uO({},e))),[t])}const KE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ire(t){const{handlePointer:e}=One(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(KE).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=KE[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=KE[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const sre=P.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=ire,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:y,performance:_,raycaster:v,camera:x,onPointerMissed:w,onCreated:M,...b},T){P.useMemo(()=>Mne(cne),[]);const C=rre(),[I,R]=Wne({scroll:!0,debounce:{scroll:50,resize:0},...r}),N=P.useRef(null),z=P.useRef(null);P.useImperativeHandle(T,()=>N.current);const V=G9(w),[W,K]=P.useState(!1),[J,ne]=P.useState(!1);if(W)throw W;if(J)throw J;const ee=P.useRef(null);uv(()=>{const j=N.current;R.width>0&&R.height>0&&j&&(ee.current||(ee.current=Vne(j)),ee.current.configure({gl:s,events:o,shadows:u,linear:c,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:y,performance:_,raycaster:v,camera:x,size:R,onPointerMissed:(...H)=>V.current==null?void 0:V.current(...H),onCreated:H=>{H.events.connect==null||H.events.connect(a?bne(a)?a.current:a:z.current),l&&H.setEvents({compute:(D,U)=>{const Y=D[l+"X"],q=D[l+"Y"];U.pointer.set(Y/U.size.width*2-1,-(q/U.size.height)*2+1),U.raycaster.setFromCamera(U.pointer,U.camera)}}),M==null||M(H)}}),ee.current.render(P.createElement(C,null,P.createElement($9,{set:ne},P.createElement(P.Suspense,{fallback:P.createElement(Tne,{set:K})},e)))))}),P.useEffect(()=>{const j=N.current;if(j)return()=>nU(j)},[]);const F=a?"none":"auto";return P.createElement("div",Xu({ref:z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:F,...i}},b),P.createElement("div",{ref:I,style:{width:"100%",height:"100%"}},P.createElement("canvas",{ref:N,style:{display:"block"}},n)))}),ore=P.forwardRef(function(e,n){return P.createElement(oU,null,P.createElement(sre,Xu({},e,{ref:n})))});function are(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}const lre=P.forwardRef(function({follow:e=!0,lockX:n=!1,lockY:r=!1,lockZ:i=!1,...s},o){const a=P.useRef();return cv(({camera:l})=>{if(!e||!a.current)return;const u=a.current.rotation.clone();l.getWorldQuaternion(a.current.quaternion),n&&(a.current.rotation.x=u.x),r&&(a.current.rotation.y=u.y),i&&(a.current.rotation.z=u.z)}),P.createElement("group",Xu({ref:are([a,o])},s))}),dO=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function y4(t,e){const n=eU(i=>i.gl),r=hv(lv,dO(t)?Object.values(t):t);if(P.useLayoutEffect(()=>{e==null||e(r)},[e]),P.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(n.initTexture)},[n,r]),dO(t)){const i=Object.keys(t),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}y4.preload=t=>hv.preload(lv,t);y4.clear=t=>hv.clear(lv,t);function ure(t,e){const n=t+"Geometry";return P.forwardRef(({args:r,children:i,...s},o)=>{const a=P.useRef(null);return P.useImperativeHandle(o,()=>a.current),P.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),P.createElement("mesh",Xu({ref:a},s),P.createElement(n,{attach:"geometry",args:r}),i)})}const cre=ure("plane");class hre extends zo{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <encodings_fragment>
      }`})}}const dre=t=>new $().setFromSpherical(new D9(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),fre=P.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:s=!1,speed:o=1},a)=>{const l=P.useRef(),[u,c,d]=P.useMemo(()=>{const m=[],g=[],y=Array.from({length:n},()=>(.5+.5*Math.random())*i),_=new Ke;let v=t+e;const x=e/n;for(let w=0;w<n;w++)v-=x*Math.random(),m.push(...dre(v).toArray()),_.setHSL(w/n,r,.9),g.push(_.r,_.g,_.b);return[new Float32Array(m),new Float32Array(g),new Float32Array(y)]},[n,e,i,t,r]);cv(m=>l.current&&(l.current.uniforms.time.value=m.clock.getElapsedTime()*o));const[p]=P.useState(()=>new hre);return P.createElement("points",{ref:a},P.createElement("bufferGeometry",null,P.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),P.createElement("bufferAttribute",{attach:"attributes-color",args:[c,3]}),P.createElement("bufferAttribute",{attach:"attributes-size",args:[d,1]})),P.createElement("primitive",{ref:l,object:p,attach:"material",blending:gx,"uniforms-fade-value":s,depthWrite:!1,transparent:!0,vertexColors:!0}))}),pre="https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png";function la({opacity:t=.5,speed:e=.4,width:n=10,depth:r=1.5,segments:i=20,texture:s=pre,color:o="#ffffff",depthTest:a=!0,...l}){const u=P.useRef(),c=y4(s),d=P.useMemo(()=>[...new Array(i)].map((p,m)=>({x:n/2-Math.random()*n,y:n/2-Math.random()*n,scale:.4+Math.sin((m+1)/i*Math.PI)*((.2+Math.random())*10),density:Math.max(.2,Math.random()),rotation:Math.max(.002,.005*Math.random())*e})),[n,i,e]);return cv(p=>{var m;return(m=u.current)==null?void 0:m.children.forEach((g,y)=>{g.children[0].rotation.z+=d[y].rotation,g.children[0].scale.setScalar(d[y].scale+(1+Math.sin(p.clock.getElapsedTime()/10))/2*y/10)})}),P.createElement("group",l,P.createElement("group",{position:[0,0,i/2*r],ref:u},d.map(({x:p,y:m,scale:g,density:y},_)=>P.createElement(lre,{key:_,position:[p,m,-_*r]},P.createElement(cre,{scale:g,rotation:[0,0,0]},P.createElement("meshStandardMaterial",{map:c,transparent:!0,opacity:g/6*y*t,depthTest:a,color:o}))))))}const mre="/assets/texture-3-5f7cf066.jpg";function gre(){const t=P.useRef(null);return cv(({clock:e})=>{t.current&&(t.current.rotation.x=e.getElapsedTime()*.3,t.current.rotation.y=e.getElapsedTime()*.3)}),O.jsxs("mesh",{ref:t,children:[O.jsx("sphereGeometry",{args:[1,32]}),O.jsx("meshStandardMaterial",{map:new lv().load(mre),color:"#a0a0a0"})]})}function vre({zoom:t,time:e,initialZ:n}){const{camera:r}=eU();return cv(({clock:i})=>{const s=Math.sin(i.getElapsedTime()/e*Math.PI*2);r.position.z=n+s*t}),null}function yre(){return O.jsx("div",{className:"-z-10 absolute w-full h-full flex items-center justify-center",children:O.jsxs(ore,{camera:{position:[0,0,20]},children:[O.jsx("ambientLight",{}),O.jsx("pointLight",{color:"#000000",position:[10,10,10],intensity:1}),O.jsx(la,{args:[3,2]}),O.jsx(la,{color:"#05bfdb",position:[-4,-2,2],args:[3,2]}),O.jsx(la,{color:"#635985",position:[-4,2,0],args:[3,2]}),O.jsx(la,{color:"#05bfdb",position:[-4,-2,10],args:[3,2]}),O.jsx(la,{color:"#635985",position:[-4,2,10],args:[3,2]}),O.jsx(la,{args:[3,2]}),O.jsx(la,{color:"#05bfdb",position:[-4,-2,2],args:[3,2]}),O.jsx(la,{color:"#635985",position:[-4,2,0],args:[3,2]}),O.jsx(la,{color:"#05bfdb",position:[-4,-2,10],args:[3,2]}),O.jsx(la,{color:"#635985",position:[-4,2,10],args:[3,2]}),O.jsx(gre,{}),O.jsx(fre,{}),O.jsx(vre,{zoom:8,time:30,initialZ:15})]})})}function aU({children:t}){return O.jsx("main",{className:"min-h-[100vh] min-w-[100vw] text-white flex flex-col items-center justify-center",children:O.jsxs(P.Suspense,{fallback:O.jsx(B3,{}),children:[O.jsx(yre,{}),t]})})}var _re=Object.defineProperty,xre=(t,e,n)=>e in t?_re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QE=(t,e,n)=>(xre(t,typeof e!="symbol"?e+"":e,n),n);let Sre=class{constructor(){QE(this,"current",this.detect()),QE(this,"handoffState","pending"),QE(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},xl=new Sre,Qn=(t,e)=>{xl.isServer?P.useEffect(t,e):P.useLayoutEffect(t,e)};function Do(t){let e=P.useRef(t);return Qn(()=>{e.current=t},[t]),e}function lU(t,e){let[n,r]=P.useState(t),i=Do(t);return Qn(()=>r(i.current),[i,r,...e]),n}function f2(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Es(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return f2(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Es();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Pl(){let[t]=P.useState(Es);return P.useEffect(()=>()=>t.dispose(),[t]),t}let ot=function(t){let e=Do(t);return ft.useCallback((...n)=>e.current(...n),[e])};function Tp(){let[t,e]=P.useState(xl.isHandoffComplete);return t&&xl.isHandoffComplete===!1&&e(!1),P.useEffect(()=>{t!==!0&&e(!0)},[t]),P.useEffect(()=>xl.handoff(),[]),t}var fO;let Rs=(fO=ft.useId)!=null?fO:function(){let t=Tp(),[e,n]=ft.useState(t?()=>xl.nextId():null);return Qn(()=>{e===null&&n(xl.nextId())},[e]),e!=null?""+e:void 0};function kn(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,kn),r}function dv(t){return xl.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let CT=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var al=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(al||{}),uU=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(uU||{}),wre=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(wre||{});function cU(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(CT)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var p2=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(p2||{});function m2(t,e=0){var n;return t===((n=dv(t))==null?void 0:n.body)?!1:kn(e,{0(){return t.matches(CT)},1(){let r=t;for(;r!==null;){if(r.matches(CT))return!0;r=r.parentElement}return!1}})}function hU(t){let e=dv(t);Es().nextFrame(()=>{e&&!m2(e.activeElement,0)&&ku(t)})}var Mre=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Mre||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ku(t){t==null||t.focus({preventScroll:!0})}let Ere=["textarea","input"].join(",");function bre(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Ere))!=null?n:!1}function _4(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Tre(t,e){return dg(cU(),e,{relativeTo:t})}function dg(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?_4(t):t:cU(t);i.length>0&&o.length>1&&(o=o.filter(m=>!i.includes(m))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},c=0,d=o.length,p;do{if(c>=d||c+d<=0)return 0;let m=l+c;if(e&16)m=(m+d)%d;else{if(m<0)return 3;if(m>=d)return 1}p=o[m],p==null||p.focus(u),c+=a}while(p!==s.activeElement);return e&6&&bre(p)&&p.select(),2}function pO(t,e,n){let r=Do(e);P.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function dU(t,e,n){let r=Do(e);P.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function x4(t,e,n=!0){let r=P.useRef(!1);P.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l))return;let u=function c(d){return typeof d=="function"?c(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t);for(let c of u){if(c===null)continue;let d=c instanceof HTMLElement?c:c.current;if(d!=null&&d.contains(l)||o.composed&&o.composedPath().includes(d))return}return!m2(l,p2.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=P.useRef(null);pO("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),pO("click",o=>{s.current&&(i(o,()=>s.current),s.current=null)},!0),dU("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function mO(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function fU(t,e){let[n,r]=P.useState(()=>mO(t));return Qn(()=>{r(mO(t))},[t.type,t.as]),Qn(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let pU=Symbol();function Are(t,e=!0){return Object.assign(t,{[pU]:e})}function _r(...t){let e=P.useRef(t);P.useEffect(()=>{e.current=t},[t]);let n=ot(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[pU]))?void 0:n}function Cre({container:t,accept:e,walk:n,enabled:r=!0}){let i=P.useRef(e),s=P.useRef(n);P.useEffect(()=>{i.current=e,s.current=n},[e,n]),Qn(()=>{if(!t||!r)return;let o=dv(t);if(!o)return;let a=i.current,l=s.current,u=Object.assign(d=>a(d),{acceptNode:a}),c=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)l(c.currentNode)},[t,r,i,s])}function Pre(t){throw new Error("Unexpected object: "+t)}var Fn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Fn||{});function mU(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1,s=(()=>{switch(t.focus){case 0:return n.findIndex(o=>!e.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,u)=>i!==-1&&u.length-l-1>=i?!1:!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=i?!1:!e.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>e.resolveId(o)===t.id);case 5:return null;default:Pre(t)}})();return s===-1?r:s}function PT(...t){return t.filter(Boolean).join(" ")}var Yu=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Yu||{}),fl=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(fl||{});function cr({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o}){let a=gU(e,t);if(s)return Hy(a,n,r,o);let l=i??0;if(l&2){let{static:u=!1,...c}=a;if(u)return Hy(c,n,r,o)}if(l&1){let{unmount:u=!0,...c}=a;return kn(u?0:1,{0(){return null},1(){return Hy({...c,hidden:!0,style:{display:"none"}},n,r,o)}})}return Hy(a,n,r,o)}function Hy(t,e={},n,r){let{as:i=n,children:s,refName:o="ref",...a}=JE(t,["unmount","static"]),l=t.ref!==void 0?{[o]:t.ref}:{},u=typeof s=="function"?s(e):s;"className"in a&&a.className&&typeof a.className=="function"&&(a.className=a.className(e));let c={};if(e){let d=!1,p=[];for(let[m,g]of Object.entries(e))typeof g=="boolean"&&(d=!0),g===!0&&p.push(m);d&&(c["data-headlessui-state"]=p.join(" "))}if(i===P.Fragment&&Object.keys(RT(a)).length>0){if(!P.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(a).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let d=u.props,p=typeof(d==null?void 0:d.className)=="function"?(...g)=>PT(d==null?void 0:d.className(...g),a.className):PT(d==null?void 0:d.className,a.className),m=p?{className:p}:{};return P.cloneElement(u,Object.assign({},gU(u.props,RT(JE(a,["ref"]))),c,l,Rre(u.ref,l.ref),m))}return P.createElement(i,Object.assign({},JE(a,["ref"]),i!==P.Fragment&&l,i!==P.Fragment&&c),u)}function Rre(...t){return{ref:t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}}function gU(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Jn(t){var e;return Object.assign(P.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function RT(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function JE(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function S4(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&Nre(n)?!1:r}function Nre(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function vU(t={},e=null,n=[]){for(let[r,i]of Object.entries(t))_U(n,yU(e,r),i);return n}function yU(t,e){return t?t+"["+e+"]":e}function _U(t,e,n){if(Array.isArray(n))for(let[r,i]of n.entries())_U(t,yU(e,r.toString()),i);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):vU(n,e,t)}let Ire="div";var l0=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(l0||{});function Ore(t,e){let{features:n=1,...r}=t,i={ref:e,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return cr({ourProps:i,theirProps:r,slot:{},defaultTag:Ire,name:"Hidden"})}let Mx=Jn(Ore),w4=P.createContext(null);w4.displayName="OpenClosedContext";var lr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(lr||{});function fv(){return P.useContext(w4)}function M4({value:t,children:e}){return ft.createElement(w4.Provider,{value:t},e)}var Ht=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ht||{});function Lre(t,e,n){let[r,i]=P.useState(n),s=t!==void 0,o=P.useRef(s),a=P.useRef(!1),l=P.useRef(!1);return s&&!o.current&&!a.current?(a.current=!0,o.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&o.current&&!l.current&&(l.current=!0,o.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:r,ot(u=>(s||i(u),e==null?void 0:e(u)))]}function E4(t,e){let n=P.useRef([]),r=ot(t);P.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function gO(t){return[t.screenX,t.screenY]}function xU(){let t=P.useRef([-1,-1]);return{wasMoved(e){let n=gO(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=gO(e)}}}function Dre(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var $m=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))($m||{});function kre(){let t=P.useRef(0);return dU("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function pv(){let t=P.useRef(!1);return Qn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Ap(...t){return P.useMemo(()=>dv(...t),[...t])}function SU(t,e,n,r){let i=Do(n);P.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function Fre(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function wU(t){let e=ot(t),n=P.useRef(!1);P.useEffect(()=>(n.current=!1,()=>{n.current=!0,f2(()=>{n.current&&e()})}),[e])}function MU(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let Ure="div";var EU=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(EU||{});function zre(t,e){let n=P.useRef(null),r=_r(n,e),{initialFocus:i,containers:s,features:o=30,...a}=t;Tp()||(o=1);let l=Ap(n);jre({ownerDocument:l},!!(o&16));let u=Hre({ownerDocument:l,container:n,initialFocus:i},!!(o&2));Wre({ownerDocument:l,container:n,containers:s,previousActiveElement:u},!!(o&8));let c=kre(),d=ot(y=>{let _=n.current;_&&(v=>v())(()=>{kn(c.current,{[$m.Forwards]:()=>{dg(_,al.First,{skipElements:[y.relatedTarget]})},[$m.Backwards]:()=>{dg(_,al.Last,{skipElements:[y.relatedTarget]})}})})}),p=Pl(),m=P.useRef(!1),g={ref:r,onKeyDown(y){y.key=="Tab"&&(m.current=!0,p.requestAnimationFrame(()=>{m.current=!1}))},onBlur(y){let _=MU(s);n.current instanceof HTMLElement&&_.add(n.current);let v=y.relatedTarget;v instanceof HTMLElement&&v.dataset.headlessuiFocusGuard!=="true"&&(bU(_,v)||(m.current?dg(n.current,kn(c.current,{[$m.Forwards]:()=>al.Next,[$m.Backwards]:()=>al.Previous})|al.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&ku(y.target)))}};return ft.createElement(ft.Fragment,null,!!(o&4)&&ft.createElement(Mx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:l0.Focusable}),cr({ourProps:g,theirProps:a,defaultTag:Ure,name:"FocusTrap"}),!!(o&4)&&ft.createElement(Mx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:l0.Focusable}))}let Bre=Jn(zre),Pm=Object.assign(Bre,{features:EU}),mu=[];Fre(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&mu[0]!==e.target&&(mu.unshift(e.target),mu=mu.filter(n=>n!=null&&n.isConnected),mu.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Vre(t=!0){let e=P.useRef(mu.slice());return E4(([n],[r])=>{r===!0&&n===!1&&f2(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=mu.slice())},[t,mu,e]),ot(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function jre({ownerDocument:t},e){let n=Vre(e);E4(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&ku(n())},[e]),wU(()=>{e&&ku(n())})}function Hre({ownerDocument:t,container:e,initialFocus:n},r){let i=P.useRef(null),s=pv();return E4(()=>{if(!r)return;let o=e.current;o&&f2(()=>{if(!s.current)return;let a=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){i.current=a;return}}else if(o.contains(a)){i.current=a;return}n!=null&&n.current?ku(n.current):dg(o,al.First)===uU.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=t==null?void 0:t.activeElement})},[r]),i}function Wre({ownerDocument:t,container:e,containers:n,previousActiveElement:r},i){let s=pv();SU(t==null?void 0:t.defaultView,"focus",o=>{if(!i||!s.current)return;let a=MU(n);e.current instanceof HTMLElement&&a.add(e.current);let l=r.current;if(!l)return;let u=o.target;u&&u instanceof HTMLElement?bU(a,u)?(r.current=u,ku(u)):(o.preventDefault(),o.stopPropagation(),ku(l)):ku(r.current)},!0)}function bU(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let TU=P.createContext(!1);function Gre(){return P.useContext(TU)}function NT(t){return ft.createElement(TU.Provider,{value:t.force},t.children)}function $re(t){let e=Gre(),n=P.useContext(AU),r=Ap(t),[i,s]=P.useState(()=>{if(!e&&n!==null||xl.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return P.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),P.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),i}let qre=P.Fragment;function Xre(t,e){let n=t,r=P.useRef(null),i=_r(Are(c=>{r.current=c}),e),s=Ap(r),o=$re(r),[a]=P.useState(()=>{var c;return xl.isServer?null:(c=s==null?void 0:s.createElement("div"))!=null?c:null}),l=P.useContext(IT),u=Tp();return Qn(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),Qn(()=>{if(a&&l)return l.register(a)},[l,a]),wU(()=>{var c;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((c=o.parentElement)==null||c.removeChild(o)))}),u?!o||!a?null:LS.createPortal(cr({ourProps:{ref:i},theirProps:n,defaultTag:qre,name:"Portal"}),a):null}let Yre=P.Fragment,AU=P.createContext(null);function Zre(t,e){let{target:n,...r}=t,i={ref:_r(e)};return ft.createElement(AU.Provider,{value:n},cr({ourProps:i,theirProps:r,defaultTag:Yre,name:"Popover.Group"}))}let IT=P.createContext(null);function Kre(){let t=P.useContext(IT),e=P.useRef([]),n=ot(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=ot(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=P.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,P.useMemo(()=>function({children:s}){return ft.createElement(IT.Provider,{value:i},s)},[i])]}let Qre=Jn(Xre),Jre=Jn(Zre),OT=Object.assign(Qre,{Group:Jre}),CU=P.createContext(null);function PU(){let t=P.useContext(CU);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,PU),e}return t}function eie(){let[t,e]=P.useState([]);return[t.length>0?t.join(" "):void 0,P.useMemo(()=>function(n){let r=ot(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=P.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return ft.createElement(CU.Provider,{value:i},n.children)},[e])]}let tie="p";function nie(t,e){let n=Rs(),{id:r=`headlessui-description-${n}`,...i}=t,s=PU(),o=_r(e);Qn(()=>s.register(r),[r,s.register]);let a={ref:o,...s.props,id:r};return cr({ourProps:a,theirProps:i,slot:s.slot||{},defaultTag:tie,name:s.name||"Description"})}let rie=Jn(nie),iie=Object.assign(rie,{}),b4=P.createContext(()=>{});b4.displayName="StackContext";var LT=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(LT||{});function sie(){return P.useContext(b4)}function oie({children:t,onUpdate:e,type:n,element:r,enabled:i}){let s=sie(),o=ot((...a)=>{e==null||e(...a),s(...a)});return Qn(()=>{let a=i===void 0||i===!0;return a&&o(0,n,r),()=>{a&&o(1,n,r)}},[o,n,r,i]),ft.createElement(b4.Provider,{value:o},t)}function aie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const lie=typeof Object.is=="function"?Object.is:aie,{useState:uie,useEffect:cie,useLayoutEffect:hie,useDebugValue:die}=H_;function fie(t,e,n){const r=e(),[{inst:i},s]=uie({inst:{value:r,getSnapshot:e}});return hie(()=>{i.value=r,i.getSnapshot=e,eb(i)&&s({inst:i})},[t,r,e]),cie(()=>(eb(i)&&s({inst:i}),t(()=>{eb(i)&&s({inst:i})})),[t]),die(r),r}function eb(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!lie(n,r)}catch{return!0}}function pie(t,e,n){return e()}const mie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gie=!mie,vie=gie?pie:fie,yie="useSyncExternalStore"in H_?(t=>t.useSyncExternalStore)(H_):vie;function _ie(t){return yie(t.subscribe,t.getSnapshot,t.getSnapshot)}function xie(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function Sie(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,i=r.clientWidth-r.offsetWidth,s=t-i;n.style(r,"paddingRight",`${s}px`)}}}function wie(){if(!Dre())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:r}){function i(o){return r.containers.flatMap(a=>a()).some(a=>a.contains(o))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let s=null;n.addEventListener(e,"click",o=>{if(o.target instanceof HTMLElement)try{let a=o.target.closest("a");if(!a)return;let{hash:l}=new URL(a.href),u=e.querySelector(l);u&&!i(u)&&(s=u)}catch{}},!0),n.addEventListener(e,"touchmove",o=>{o.target instanceof HTMLElement&&!i(o.target)&&o.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})}}}function Mie(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Eie(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let oh=xie(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Es(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:Eie(n)},i=[wie(),Sie(),Mie()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});oh.subscribe(()=>{let t=oh.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&oh.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&oh.dispatch("TEARDOWN",n)}});function bie(t,e,n){let r=_ie(oh),i=t?r.get(t):void 0,s=i?i.count>0:!1;return Qn(()=>{if(!(!t||!e))return oh.dispatch("PUSH",t,n),()=>oh.dispatch("POP",t,n)},[e,t]),s}let tb=new Map,Rm=new Map;function vO(t,e=!0){Qn(()=>{var n;if(!e)return;let r=typeof t=="function"?t():t.current;if(!r)return;function i(){var o;if(!r)return;let a=(o=Rm.get(r))!=null?o:1;if(a===1?Rm.delete(r):Rm.set(r,a-1),a!==1)return;let l=tb.get(r);l&&(l["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",l["aria-hidden"]),r.inert=l.inert,tb.delete(r))}let s=(n=Rm.get(r))!=null?n:0;return Rm.set(r,s+1),s!==0||(tb.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[t,e])}function Tie({defaultContainers:t=[],portals:e}={}){let n=P.useRef(null),r=Ap(n),i=ot(()=>{var s;let o=[];for(let a of t)a!==null&&(a instanceof HTMLElement?o.push(a):"current"in a&&a.current instanceof HTMLElement&&o.push(a.current));if(e!=null&&e.current)for(let a of e.current)o.push(a);for(let a of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a.id!=="headlessui-portal-root"&&(a.contains(n.current)||o.some(l=>a.contains(l))||o.push(a));return o});return{resolveContainers:i,contains:ot(s=>i().some(o=>o.contains(s))),mainTreeNodeRef:n,MainTreeNode:P.useMemo(()=>function(){return ft.createElement(Mx,{features:l0.Hidden,ref:n})},[n])}}var Aie=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Aie||{}),Cie=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(Cie||{});let Pie={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Ex=P.createContext(null);Ex.displayName="DialogContext";function mv(t){let e=P.useContext(Ex);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,mv),n}return e}function Rie(t,e,n=()=>[document.body]){bie(t,e,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function Nie(t,e){return kn(e.type,Pie,t,e)}let Iie="div",Oie=Yu.RenderStrategy|Yu.Static;function Lie(t,e){var n;let r=Rs(),{id:i=`headlessui-dialog-${r}`,open:s,onClose:o,initialFocus:a,__demoMode:l=!1,...u}=t,[c,d]=P.useState(0),p=fv();s===void 0&&p!==null&&(s=(p&lr.Open)===lr.Open);let m=P.useRef(null),g=_r(m,e),y=Ap(m),_=t.hasOwnProperty("open")||p!==null,v=t.hasOwnProperty("onClose");if(!_&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!_)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let x=s?0:1,[w,M]=P.useReducer(Nie,{titleId:null,descriptionId:null,panelRef:P.createRef()}),b=ot(()=>o(!1)),T=ot(Ge=>M({type:0,id:Ge})),C=Tp()?l?!1:x===0:!1,I=c>1,R=P.useContext(Ex)!==null,[N,z]=Kre(),{resolveContainers:V,mainTreeNodeRef:W,MainTreeNode:K}=Tie({portals:N,defaultContainers:[(n=w.panelRef.current)!=null?n:m.current]}),J=I?"parent":"leaf",ne=p!==null?(p&lr.Closing)===lr.Closing:!1,ee=(()=>R||ne?!1:C)(),F=P.useCallback(()=>{var Ge,nt;return(nt=Array.from((Ge=y==null?void 0:y.querySelectorAll("body > *"))!=null?Ge:[]).find(ze=>ze.id==="headlessui-portal-root"?!1:ze.contains(W.current)&&ze instanceof HTMLElement))!=null?nt:null},[W]);vO(F,ee);let j=(()=>I?!0:C)(),H=P.useCallback(()=>{var Ge,nt;return(nt=Array.from((Ge=y==null?void 0:y.querySelectorAll("[data-headlessui-portal]"))!=null?Ge:[]).find(ze=>ze.contains(W.current)&&ze instanceof HTMLElement))!=null?nt:null},[W]);vO(H,j);let D=(()=>!(!C||I))();x4(V,b,D);let U=(()=>!(I||x!==0))();SU(y==null?void 0:y.defaultView,"keydown",Ge=>{U&&(Ge.defaultPrevented||Ge.key===Ht.Escape&&(Ge.preventDefault(),Ge.stopPropagation(),b()))});let Y=(()=>!(ne||x!==0||R))();Rie(y,Y,V),P.useEffect(()=>{if(x!==0||!m.current)return;let Ge=new ResizeObserver(nt=>{for(let ze of nt){let Z=ze.target.getBoundingClientRect();Z.x===0&&Z.y===0&&Z.width===0&&Z.height===0&&b()}});return Ge.observe(m.current),()=>Ge.disconnect()},[x,m,b]);let[q,te]=eie(),ue=P.useMemo(()=>[{dialogState:x,close:b,setTitleId:T},w],[x,w,b,T]),Se=P.useMemo(()=>({open:x===0}),[x]),pe={ref:g,id:i,role:"dialog","aria-modal":x===0?!0:void 0,"aria-labelledby":w.titleId,"aria-describedby":q};return ft.createElement(oie,{type:"Dialog",enabled:x===0,element:m,onUpdate:ot((Ge,nt)=>{nt==="Dialog"&&kn(Ge,{[LT.Add]:()=>d(ze=>ze+1),[LT.Remove]:()=>d(ze=>ze-1)})})},ft.createElement(NT,{force:!0},ft.createElement(OT,null,ft.createElement(Ex.Provider,{value:ue},ft.createElement(OT.Group,{target:m},ft.createElement(NT,{force:!1},ft.createElement(te,{slot:Se,name:"Dialog.Description"},ft.createElement(Pm,{initialFocus:a,containers:V,features:C?kn(J,{parent:Pm.features.RestoreFocus,leaf:Pm.features.All&~Pm.features.FocusLock}):Pm.features.None},ft.createElement(z,null,cr({ourProps:pe,theirProps:u,slot:Se,defaultTag:Iie,features:Oie,visible:x===0,name:"Dialog"}))))))))),ft.createElement(K,null))}let Die="div";function kie(t,e){let n=Rs(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=t,[{dialogState:s,close:o}]=mv("Dialog.Overlay"),a=_r(e),l=ot(c=>{if(c.target===c.currentTarget){if(S4(c.currentTarget))return c.preventDefault();c.preventDefault(),c.stopPropagation(),o()}}),u=P.useMemo(()=>({open:s===0}),[s]);return cr({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:l},theirProps:i,slot:u,defaultTag:Die,name:"Dialog.Overlay"})}let Fie="div";function Uie(t,e){let n=Rs(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=t,[{dialogState:s},o]=mv("Dialog.Backdrop"),a=_r(e);P.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=P.useMemo(()=>({open:s===0}),[s]);return ft.createElement(NT,{force:!0},ft.createElement(OT,null,cr({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:Fie,name:"Dialog.Backdrop"})))}let zie="div";function Bie(t,e){let n=Rs(),{id:r=`headlessui-dialog-panel-${n}`,...i}=t,[{dialogState:s},o]=mv("Dialog.Panel"),a=_r(e,o.panelRef),l=P.useMemo(()=>({open:s===0}),[s]),u=ot(c=>{c.stopPropagation()});return cr({ourProps:{ref:a,id:r,onClick:u},theirProps:i,slot:l,defaultTag:zie,name:"Dialog.Panel"})}let Vie="h2";function jie(t,e){let n=Rs(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=mv("Dialog.Title"),a=_r(e);P.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=P.useMemo(()=>({open:s===0}),[s]);return cr({ourProps:{ref:a,id:r},theirProps:i,slot:l,defaultTag:Vie,name:"Dialog.Title"})}let Hie=Jn(Lie),Wie=Jn(Uie),Gie=Jn(Bie),$ie=Jn(kie),qie=Jn(jie),yO=Object.assign(Hie,{Backdrop:Wie,Panel:Gie,Overlay:$ie,Title:qie,Description:iie}),_O=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function xO(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return _O.test(o)&&(o=o.replace(_O,"")),o}function Xie(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():xO(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return xO(t).trim()}function RU(t){let e=P.useRef(""),n=P.useRef("");return ot(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=Xie(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var Yie=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Yie||{}),Zie=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Zie||{}),Kie=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Kie||{}),Qie=(t=>(t[t.OpenListbox=0]="OpenListbox",t[t.CloseListbox=1]="CloseListbox",t[t.GoToOption=2]="GoToOption",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterOption=5]="RegisterOption",t[t.UnregisterOption=6]="UnregisterOption",t[t.RegisterLabel=7]="RegisterLabel",t))(Qie||{});function nb(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=_4(e(t.options.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let Jie={1(t){return t.dataRef.current.disabled||t.listboxState===1?t:{...t,activeOptionIndex:null,listboxState:1}},0(t){if(t.dataRef.current.disabled||t.listboxState===0)return t;let e=t.activeOptionIndex,{isSelected:n}=t.dataRef.current,r=t.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(e=r),{...t,listboxState:0,activeOptionIndex:e}},2(t,e){var n;if(t.dataRef.current.disabled||t.listboxState===1)return t;let r=nb(t),i=mU(e,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeOptionIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},3:(t,e)=>{if(t.dataRef.current.disabled||t.listboxState===1)return t;let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeOptionIndex!==null?t.options.slice(t.activeOptionIndex+n).concat(t.options.slice(0,t.activeOptionIndex+n)):t.options).find(o=>{var a;return!o.dataRef.current.disabled&&((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),s=i?t.options.indexOf(i):-1;return s===-1||s===t.activeOptionIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},4(t){return t.dataRef.current.disabled||t.listboxState===1||t.searchQuery===""?t:{...t,searchQuery:""}},5:(t,e)=>{let n={id:e.id,dataRef:e.dataRef},r=nb(t,i=>[...i,n]);return t.activeOptionIndex===null&&t.dataRef.current.isSelected(e.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...t,...r}},6:(t,e)=>{let n=nb(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}},7:(t,e)=>({...t,labelId:e.id})},T4=P.createContext(null);T4.displayName="ListboxActionsContext";function gv(t){let e=P.useContext(T4);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,gv),n}return e}let A4=P.createContext(null);A4.displayName="ListboxDataContext";function vv(t){let e=P.useContext(A4);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,vv),n}return e}function ese(t,e){return kn(e.type,Jie,t,e)}let tse=P.Fragment;function nse(t,e){let{value:n,defaultValue:r,form:i,name:s,onChange:o,by:a=(q,te)=>q===te,disabled:l=!1,horizontal:u=!1,multiple:c=!1,...d}=t;const p=u?"horizontal":"vertical";let m=_r(e),[g=c?[]:void 0,y]=Lre(n,o,r),[_,v]=P.useReducer(ese,{dataRef:P.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),x=P.useRef({static:!1,hold:!1}),w=P.useRef(null),M=P.useRef(null),b=P.useRef(null),T=ot(typeof a=="string"?(q,te)=>{let ue=a;return(q==null?void 0:q[ue])===(te==null?void 0:te[ue])}:a),C=P.useCallback(q=>kn(I.mode,{1:()=>g.some(te=>T(te,q)),0:()=>T(g,q)}),[g]),I=P.useMemo(()=>({..._,value:g,disabled:l,mode:c?1:0,orientation:p,compare:T,isSelected:C,optionsPropsRef:x,labelRef:w,buttonRef:M,optionsRef:b}),[g,l,c,_]);Qn(()=>{_.dataRef.current=I},[I]),x4([I.buttonRef,I.optionsRef],(q,te)=>{var ue;v({type:1}),m2(te,p2.Loose)||(q.preventDefault(),(ue=I.buttonRef.current)==null||ue.focus())},I.listboxState===0);let R=P.useMemo(()=>({open:I.listboxState===0,disabled:l,value:g}),[I,l,g]),N=ot(q=>{let te=I.options.find(ue=>ue.id===q);te&&ee(te.dataRef.current.value)}),z=ot(()=>{if(I.activeOptionIndex!==null){let{dataRef:q,id:te}=I.options[I.activeOptionIndex];ee(q.current.value),v({type:2,focus:Fn.Specific,id:te})}}),V=ot(()=>v({type:0})),W=ot(()=>v({type:1})),K=ot((q,te,ue)=>q===Fn.Specific?v({type:2,focus:Fn.Specific,id:te,trigger:ue}):v({type:2,focus:q,trigger:ue})),J=ot((q,te)=>(v({type:5,id:q,dataRef:te}),()=>v({type:6,id:q}))),ne=ot(q=>(v({type:7,id:q}),()=>v({type:7,id:null}))),ee=ot(q=>kn(I.mode,{0(){return y==null?void 0:y(q)},1(){let te=I.value.slice(),ue=te.findIndex(Se=>T(Se,q));return ue===-1?te.push(q):te.splice(ue,1),y==null?void 0:y(te)}})),F=ot(q=>v({type:3,value:q})),j=ot(()=>v({type:4})),H=P.useMemo(()=>({onChange:ee,registerOption:J,registerLabel:ne,goToOption:K,closeListbox:W,openListbox:V,selectActiveOption:z,selectOption:N,search:F,clearSearch:j}),[]),D={ref:m},U=P.useRef(null),Y=Pl();return P.useEffect(()=>{U.current&&r!==void 0&&Y.addEventListener(U.current,"reset",()=>{ee(r)})},[U,ee]),ft.createElement(T4.Provider,{value:H},ft.createElement(A4.Provider,{value:I},ft.createElement(M4,{value:kn(I.listboxState,{0:lr.Open,1:lr.Closed})},s!=null&&g!=null&&vU({[s]:g}).map(([q,te],ue)=>ft.createElement(Mx,{features:l0.Hidden,ref:ue===0?Se=>{var pe;U.current=(pe=Se==null?void 0:Se.closest("form"))!=null?pe:null}:void 0,...RT({key:q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,name:q,value:te})})),cr({ourProps:D,theirProps:d,slot:R,defaultTag:tse,name:"Listbox"}))))}let rse="button";function ise(t,e){var n;let r=Rs(),{id:i=`headlessui-listbox-button-${r}`,...s}=t,o=vv("Listbox.Button"),a=gv("Listbox.Button"),l=_r(o.buttonRef,e),u=Pl(),c=ot(_=>{switch(_.key){case Ht.Space:case Ht.Enter:case Ht.ArrowDown:_.preventDefault(),a.openListbox(),u.nextFrame(()=>{o.value||a.goToOption(Fn.First)});break;case Ht.ArrowUp:_.preventDefault(),a.openListbox(),u.nextFrame(()=>{o.value||a.goToOption(Fn.Last)});break}}),d=ot(_=>{switch(_.key){case Ht.Space:_.preventDefault();break}}),p=ot(_=>{if(S4(_.currentTarget))return _.preventDefault();o.listboxState===0?(a.closeListbox(),u.nextFrame(()=>{var v;return(v=o.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})})):(_.preventDefault(),a.openListbox())}),m=lU(()=>{if(o.labelId)return[o.labelId,i].join(" ")},[o.labelId,i]),g=P.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled,value:o.value}),[o]),y={ref:l,id:i,type:fU(t,o.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=o.optionsRef.current)==null?void 0:n.id,"aria-expanded":o.disabled?void 0:o.listboxState===0,"aria-labelledby":m,disabled:o.disabled,onKeyDown:c,onKeyUp:d,onClick:p};return cr({ourProps:y,theirProps:s,slot:g,defaultTag:rse,name:"Listbox.Button"})}let sse="label";function ose(t,e){let n=Rs(),{id:r=`headlessui-listbox-label-${n}`,...i}=t,s=vv("Listbox.Label"),o=gv("Listbox.Label"),a=_r(s.labelRef,e);Qn(()=>o.registerLabel(r),[r]);let l=ot(()=>{var c;return(c=s.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),u=P.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled}),[s]);return cr({ourProps:{ref:a,id:r,onClick:l},theirProps:i,slot:u,defaultTag:sse,name:"Listbox.Label"})}let ase="ul",lse=Yu.RenderStrategy|Yu.Static;function use(t,e){var n;let r=Rs(),{id:i=`headlessui-listbox-options-${r}`,...s}=t,o=vv("Listbox.Options"),a=gv("Listbox.Options"),l=_r(o.optionsRef,e),u=Pl(),c=Pl(),d=fv(),p=(()=>d!==null?(d&lr.Open)===lr.Open:o.listboxState===0)();P.useEffect(()=>{var v;let x=o.optionsRef.current;x&&o.listboxState===0&&x!==((v=dv(x))==null?void 0:v.activeElement)&&x.focus({preventScroll:!0})},[o.listboxState,o.optionsRef]);let m=ot(v=>{switch(c.dispose(),v.key){case Ht.Space:if(o.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),a.search(v.key);case Ht.Enter:if(v.preventDefault(),v.stopPropagation(),o.activeOptionIndex!==null){let{dataRef:x}=o.options[o.activeOptionIndex];a.onChange(x.current.value)}o.mode===0&&(a.closeListbox(),Es().nextFrame(()=>{var x;return(x=o.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})}));break;case kn(o.orientation,{vertical:Ht.ArrowDown,horizontal:Ht.ArrowRight}):return v.preventDefault(),v.stopPropagation(),a.goToOption(Fn.Next);case kn(o.orientation,{vertical:Ht.ArrowUp,horizontal:Ht.ArrowLeft}):return v.preventDefault(),v.stopPropagation(),a.goToOption(Fn.Previous);case Ht.Home:case Ht.PageUp:return v.preventDefault(),v.stopPropagation(),a.goToOption(Fn.First);case Ht.End:case Ht.PageDown:return v.preventDefault(),v.stopPropagation(),a.goToOption(Fn.Last);case Ht.Escape:return v.preventDefault(),v.stopPropagation(),a.closeListbox(),u.nextFrame(()=>{var x;return(x=o.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})});case Ht.Tab:v.preventDefault(),v.stopPropagation();break;default:v.key.length===1&&(a.search(v.key),c.setTimeout(()=>a.clearSearch(),350));break}}),g=lU(()=>{var v,x,w;return(w=(v=o.labelRef.current)==null?void 0:v.id)!=null?w:(x=o.buttonRef.current)==null?void 0:x.id},[o.labelRef.current,o.buttonRef.current]),y=P.useMemo(()=>({open:o.listboxState===0}),[o]),_={"aria-activedescendant":o.activeOptionIndex===null||(n=o.options[o.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":o.mode===1?!0:void 0,"aria-labelledby":g,"aria-orientation":o.orientation,id:i,onKeyDown:m,role:"listbox",tabIndex:0,ref:l};return cr({ourProps:_,theirProps:s,slot:y,defaultTag:ase,features:lse,visible:p,name:"Listbox.Options"})}let cse="li";function hse(t,e){let n=Rs(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:s,...o}=t,a=vv("Listbox.Option"),l=gv("Listbox.Option"),u=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===r:!1,c=a.isSelected(s),d=P.useRef(null),p=RU(d),m=Do({disabled:i,value:s,domRef:d,get textValue(){return p()}}),g=_r(e,d);Qn(()=>{if(a.listboxState!==0||!u||a.activationTrigger===0)return;let T=Es();return T.requestAnimationFrame(()=>{var C,I;(I=(C=d.current)==null?void 0:C.scrollIntoView)==null||I.call(C,{block:"nearest"})}),T.dispose},[d,u,a.listboxState,a.activationTrigger,a.activeOptionIndex]),Qn(()=>l.registerOption(r,m),[m,r]);let y=ot(T=>{if(i)return T.preventDefault();l.onChange(s),a.mode===0&&(l.closeListbox(),Es().nextFrame(()=>{var C;return(C=a.buttonRef.current)==null?void 0:C.focus({preventScroll:!0})}))}),_=ot(()=>{if(i)return l.goToOption(Fn.Nothing);l.goToOption(Fn.Specific,r)}),v=xU(),x=ot(T=>v.update(T)),w=ot(T=>{v.wasMoved(T)&&(i||u||l.goToOption(Fn.Specific,r,0))}),M=ot(T=>{v.wasMoved(T)&&(i||u&&l.goToOption(Fn.Nothing))}),b=P.useMemo(()=>({active:u,selected:c,disabled:i}),[u,c,i]);return cr({ourProps:{id:r,ref:g,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":c,disabled:void 0,onClick:y,onFocus:_,onPointerEnter:x,onMouseEnter:x,onPointerMove:w,onMouseMove:w,onPointerLeave:M,onMouseLeave:M},theirProps:o,slot:b,defaultTag:cse,name:"Listbox.Option"})}let dse=Jn(nse),fse=Jn(ise),pse=Jn(ose),mse=Jn(use),gse=Jn(hse),Wy=Object.assign(dse,{Button:fse,Label:pse,Options:mse,Option:gse});var vse=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(vse||{}),yse=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(yse||{}),_se=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(_se||{});function rb(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=_4(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let xse={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n;let r=rb(t),i=mU(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=rb(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=rb(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}}},C4=P.createContext(null);C4.displayName="MenuContext";function g2(t){let e=P.useContext(C4);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,g2),n}return e}function Sse(t,e){return kn(e.type,xse,t,e)}let wse=P.Fragment;function Mse(t,e){let{__demoMode:n=!1,...r}=t,i=P.useReducer(Sse,{__demoMode:n,menuState:n?0:1,buttonRef:P.createRef(),itemsRef:P.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:o,buttonRef:a},l]=i,u=_r(e);x4([a,o],(m,g)=>{var y;l({type:1}),m2(g,p2.Loose)||(m.preventDefault(),(y=a.current)==null||y.focus())},s===0);let c=ot(()=>{l({type:1})}),d=P.useMemo(()=>({open:s===0,close:c}),[s,c]),p={ref:u};return ft.createElement(C4.Provider,{value:i},ft.createElement(M4,{value:kn(s,{0:lr.Open,1:lr.Closed})},cr({ourProps:p,theirProps:r,slot:d,defaultTag:wse,name:"Menu"})))}let Ese="button";function bse(t,e){var n;let r=Rs(),{id:i=`headlessui-menu-button-${r}`,...s}=t,[o,a]=g2("Menu.Button"),l=_r(o.buttonRef,e),u=Pl(),c=ot(y=>{switch(y.key){case Ht.Space:case Ht.Enter:case Ht.ArrowDown:y.preventDefault(),y.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:Fn.First}));break;case Ht.ArrowUp:y.preventDefault(),y.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:Fn.Last}));break}}),d=ot(y=>{switch(y.key){case Ht.Space:y.preventDefault();break}}),p=ot(y=>{if(S4(y.currentTarget))return y.preventDefault();t.disabled||(o.menuState===0?(a({type:1}),u.nextFrame(()=>{var _;return(_=o.buttonRef.current)==null?void 0:_.focus({preventScroll:!0})})):(y.preventDefault(),a({type:0})))}),m=P.useMemo(()=>({open:o.menuState===0}),[o]),g={ref:l,id:i,type:fU(t,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":t.disabled?void 0:o.menuState===0,onKeyDown:c,onKeyUp:d,onClick:p};return cr({ourProps:g,theirProps:s,slot:m,defaultTag:Ese,name:"Menu.Button"})}let Tse="div",Ase=Yu.RenderStrategy|Yu.Static;function Cse(t,e){var n,r;let i=Rs(),{id:s=`headlessui-menu-items-${i}`,...o}=t,[a,l]=g2("Menu.Items"),u=_r(a.itemsRef,e),c=Ap(a.itemsRef),d=Pl(),p=fv(),m=(()=>p!==null?(p&lr.Open)===lr.Open:a.menuState===0)();P.useEffect(()=>{let x=a.itemsRef.current;x&&a.menuState===0&&x!==(c==null?void 0:c.activeElement)&&x.focus({preventScroll:!0})},[a.menuState,a.itemsRef,c]),Cre({container:a.itemsRef.current,enabled:a.menuState===0,accept(x){return x.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:x.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(x){x.setAttribute("role","none")}});let g=ot(x=>{var w,M;switch(d.dispose(),x.key){case Ht.Space:if(a.searchQuery!=="")return x.preventDefault(),x.stopPropagation(),l({type:3,value:x.key});case Ht.Enter:if(x.preventDefault(),x.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:b}=a.items[a.activeItemIndex];(M=(w=b.current)==null?void 0:w.domRef.current)==null||M.click()}hU(a.buttonRef.current);break;case Ht.ArrowDown:return x.preventDefault(),x.stopPropagation(),l({type:2,focus:Fn.Next});case Ht.ArrowUp:return x.preventDefault(),x.stopPropagation(),l({type:2,focus:Fn.Previous});case Ht.Home:case Ht.PageUp:return x.preventDefault(),x.stopPropagation(),l({type:2,focus:Fn.First});case Ht.End:case Ht.PageDown:return x.preventDefault(),x.stopPropagation(),l({type:2,focus:Fn.Last});case Ht.Escape:x.preventDefault(),x.stopPropagation(),l({type:1}),Es().nextFrame(()=>{var b;return(b=a.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})});break;case Ht.Tab:x.preventDefault(),x.stopPropagation(),l({type:1}),Es().nextFrame(()=>{Tre(a.buttonRef.current,x.shiftKey?al.Previous:al.Next)});break;default:x.key.length===1&&(l({type:3,value:x.key}),d.setTimeout(()=>l({type:4}),350));break}}),y=ot(x=>{switch(x.key){case Ht.Space:x.preventDefault();break}}),_=P.useMemo(()=>({open:a.menuState===0}),[a]),v={"aria-activedescendant":a.activeItemIndex===null||(n=a.items[a.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=a.buttonRef.current)==null?void 0:r.id,id:s,onKeyDown:g,onKeyUp:y,role:"menu",tabIndex:0,ref:u};return cr({ourProps:v,theirProps:o,slot:_,defaultTag:Tse,features:Ase,visible:m,name:"Menu.Items"})}let Pse=P.Fragment;function Rse(t,e){let n=Rs(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=g2("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,u=P.useRef(null),c=_r(e,u);Qn(()=>{if(o.__demoMode||o.menuState!==0||!l||o.activationTrigger===0)return;let b=Es();return b.requestAnimationFrame(()=>{var T,C;(C=(T=u.current)==null?void 0:T.scrollIntoView)==null||C.call(T,{block:"nearest"})}),b.dispose},[o.__demoMode,u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let d=RU(u),p=P.useRef({disabled:i,domRef:u,get textValue(){return d()}});Qn(()=>{p.current.disabled=i},[p,i]),Qn(()=>(a({type:5,id:r,dataRef:p}),()=>a({type:6,id:r})),[p,r]);let m=ot(()=>{a({type:1})}),g=ot(b=>{if(i)return b.preventDefault();a({type:1}),hU(o.buttonRef.current)}),y=ot(()=>{if(i)return a({type:2,focus:Fn.Nothing});a({type:2,focus:Fn.Specific,id:r})}),_=xU(),v=ot(b=>_.update(b)),x=ot(b=>{_.wasMoved(b)&&(i||l||a({type:2,focus:Fn.Specific,id:r,trigger:0}))}),w=ot(b=>{_.wasMoved(b)&&(i||l&&a({type:2,focus:Fn.Nothing}))}),M=P.useMemo(()=>({active:l,disabled:i,close:m}),[l,i,m]);return cr({ourProps:{id:r,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:g,onFocus:y,onPointerEnter:v,onMouseEnter:v,onPointerMove:x,onMouseMove:x,onPointerLeave:w,onMouseLeave:w},theirProps:s,slot:M,defaultTag:Pse,name:"Menu.Item"})}let Nse=Jn(Mse),Ise=Jn(bse),Ose=Jn(Cse),Lse=Jn(Rse),kc=Object.assign(Nse,{Button:Ise,Items:Ose,Item:Lse});function Dse(t=0){let[e,n]=P.useState(t),r=pv(),i=P.useCallback(l=>{r.current&&n(u=>u|l)},[e,r]),s=P.useCallback(l=>!!(e&l),[e]),o=P.useCallback(l=>{r.current&&n(u=>u&~l)},[n,r]),a=P.useCallback(l=>{r.current&&n(u=>u^l)},[n]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}function kse(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function ib(t,...e){t&&e.length>0&&t.classList.add(...e)}function sb(t,...e){t&&e.length>0&&t.classList.remove(...e)}function Fse(t,e){let n=Es();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(t),[s,o]=[r,i].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,d)=>d-c);return u}),a=s+o;if(a!==0){n.group(u=>{u.setTimeout(()=>{e(),u.dispose()},a),u.addEventListener(t,"transitionrun",c=>{c.target===c.currentTarget&&u.dispose()})});let l=n.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),l())})}else e();return n.add(()=>e()),n.dispose}function Use(t,e,n,r){let i=n?"enter":"leave",s=Es(),o=r!==void 0?kse(r):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let a=kn(i,{enter:()=>e.enter,leave:()=>e.leave}),l=kn(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=kn(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return sb(t,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),ib(t,...a,...u),s.nextFrame(()=>{sb(t,...u),ib(t,...l),Fse(t,()=>(sb(t,...a),ib(t,...e.entered),o()))}),s.dispose}function zse({container:t,direction:e,classes:n,onStart:r,onStop:i}){let s=pv(),o=Pl(),a=Do(e);Qn(()=>{let l=Es();o.add(l.dispose);let u=t.current;if(u&&a.current!=="idle"&&s.current)return l.dispose(),r.current(a.current),l.add(Use(u,n.current,a.current==="enter",()=>{l.dispose(),i.current(a.current)})),l.dispose},[e])}function Fc(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let v2=P.createContext(null);v2.displayName="TransitionContext";var Bse=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Bse||{});function Vse(){let t=P.useContext(v2);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function jse(){let t=P.useContext(y2);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let y2=P.createContext(null);y2.displayName="NestingContext";function _2(t){return"children"in t?_2(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function NU(t,e){let n=Do(t),r=P.useRef([]),i=pv(),s=Pl(),o=ot((m,g=fl.Hidden)=>{let y=r.current.findIndex(({el:_})=>_===m);y!==-1&&(kn(g,{[fl.Unmount](){r.current.splice(y,1)},[fl.Hidden](){r.current[y].state="hidden"}}),s.microTask(()=>{var _;!_2(r)&&i.current&&((_=n.current)==null||_.call(n))}))}),a=ot(m=>{let g=r.current.find(({el:y})=>y===m);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:m,state:"visible"}),()=>o(m,fl.Unmount)}),l=P.useRef([]),u=P.useRef(Promise.resolve()),c=P.useRef({enter:[],leave:[],idle:[]}),d=ot((m,g,y)=>{l.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([_])=>_!==m)),e==null||e.chains.current[g].push([m,new Promise(_=>{l.current.push(_)})]),e==null||e.chains.current[g].push([m,new Promise(_=>{Promise.all(c.current[g].map(([v,x])=>x)).then(()=>_())})]),g==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>y(g)):y(g)}),p=ot((m,g,y)=>{Promise.all(c.current[g].splice(0).map(([_,v])=>v)).then(()=>{var _;(_=l.current.shift())==null||_()}).then(()=>y(g))});return P.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:p,wait:u,chains:c}),[a,o,r,d,p,c,u])}function Hse(){}let Wse=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function SO(t){var e;let n={};for(let r of Wse)n[r]=(e=t[r])!=null?e:Hse;return n}function Gse(t){let e=P.useRef(SO(t));return P.useEffect(()=>{e.current=SO(t)},[t]),e}let $se="div",IU=Yu.RenderStrategy;function qse(t,e){let{beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:s,enter:o,enterFrom:a,enterTo:l,entered:u,leave:c,leaveFrom:d,leaveTo:p,...m}=t,g=P.useRef(null),y=_r(g,e),_=m.unmount?fl.Unmount:fl.Hidden,{show:v,appear:x,initial:w}=Vse(),[M,b]=P.useState(v?"visible":"hidden"),T=jse(),{register:C,unregister:I}=T,R=P.useRef(null);P.useEffect(()=>C(g),[C,g]),P.useEffect(()=>{if(_===fl.Hidden&&g.current){if(v&&M!=="visible"){b("visible");return}return kn(M,{hidden:()=>I(g),visible:()=>C(g)})}},[M,g,C,I,v,_]);let N=Do({enter:Fc(o),enterFrom:Fc(a),enterTo:Fc(l),entered:Fc(u),leave:Fc(c),leaveFrom:Fc(d),leaveTo:Fc(p)}),z=Gse({beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:s}),V=Tp();P.useEffect(()=>{if(V&&M==="visible"&&g.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,M,V]);let W=w&&!x,K=(()=>!V||W||R.current===v?"idle":v?"enter":"leave")(),J=Dse(0),ne=ot(D=>kn(D,{enter:()=>{J.addFlag(lr.Opening),z.current.beforeEnter()},leave:()=>{J.addFlag(lr.Closing),z.current.beforeLeave()},idle:()=>{}})),ee=ot(D=>kn(D,{enter:()=>{J.removeFlag(lr.Opening),z.current.afterEnter()},leave:()=>{J.removeFlag(lr.Closing),z.current.afterLeave()},idle:()=>{}})),F=NU(()=>{b("hidden"),I(g)},T);zse({container:g,classes:N,direction:K,onStart:Do(D=>{F.onStart(g,D,ne)}),onStop:Do(D=>{F.onStop(g,D,ee),D==="leave"&&!_2(F)&&(b("hidden"),I(g))})}),P.useEffect(()=>{W&&(_===fl.Hidden?R.current=null:R.current=v)},[v,W,M]);let j=m,H={ref:y};return x&&v&&w&&(j={...j,className:PT(m.className,...N.current.enter,...N.current.enterFrom)}),ft.createElement(y2.Provider,{value:F},ft.createElement(M4,{value:kn(M,{visible:lr.Open,hidden:lr.Closed})|J.flags},cr({ourProps:H,theirProps:j,defaultTag:$se,features:IU,visible:M==="visible",name:"Transition.Child"})))}function Xse(t,e){let{show:n,appear:r=!1,unmount:i,...s}=t,o=P.useRef(null),a=_r(o,e);Tp();let l=fv();if(n===void 0&&l!==null&&(n=(l&lr.Open)===lr.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,c]=P.useState(n?"visible":"hidden"),d=NU(()=>{c("hidden")}),[p,m]=P.useState(!0),g=P.useRef([n]);Qn(()=>{p!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),m(!1))},[g,n]);let y=P.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);P.useEffect(()=>{if(n)c("visible");else if(!_2(d))c("hidden");else{let w=o.current;if(!w)return;let M=w.getBoundingClientRect();M.x===0&&M.y===0&&M.width===0&&M.height===0&&c("hidden")}},[n,d]);let _={unmount:i},v=ot(()=>{var w;p&&m(!1),(w=t.beforeEnter)==null||w.call(t)}),x=ot(()=>{var w;p&&m(!1),(w=t.beforeLeave)==null||w.call(t)});return ft.createElement(y2.Provider,{value:d},ft.createElement(v2.Provider,{value:y},cr({ourProps:{..._,as:P.Fragment,children:ft.createElement(OU,{ref:a,..._,...s,beforeEnter:v,beforeLeave:x})},theirProps:{},defaultTag:P.Fragment,features:IU,visible:u==="visible",name:"Transition"})))}function Yse(t,e){let n=P.useContext(v2)!==null,r=fv()!==null;return ft.createElement(ft.Fragment,null,!n&&r?ft.createElement(DT,{ref:e,...t}):ft.createElement(OU,{ref:e,...t}))}let DT=Jn(Xse),OU=Jn(qse),Zse=Jn(Yse),fg=Object.assign(DT,{Child:Zse,Root:DT});function pg({children:t,isOpen:e,setIsOpen:n}){function r(){n(!1)}return O.jsx(O.Fragment,{children:O.jsx(fg,{appear:!0,show:e,as:P.Fragment,children:O.jsxs(yO,{as:"div",className:"relative z-10",onClose:r,children:[O.jsx(fg.Child,{as:P.Fragment,enter:"ease-out duration-700",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:O.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),O.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:O.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:O.jsx(fg.Child,{as:P.Fragment,enter:"ease-out duration-700",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:O.jsx(yO.Panel,{className:`w-full max-w-md transform overflow-hidden 
                rounded-2xl bg-black bg-opacity-90 shadow-2xl p-6 text-left align-middle shadow-gray-700 transition-all`,children:t})})})})]})})})}const pl="bg-gray-900 px-2 focus:bg-gray-800 rounded-xl py-1 focus:outline-none";var Kse=function(e){return Qse(e)&&!Jse(e)};function Qse(t){return!!t&&typeof t=="object"}function Jse(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||noe(t)}var eoe=typeof Symbol=="function"&&Symbol.for,toe=eoe?Symbol.for("react.element"):60103;function noe(t){return t.$$typeof===toe}function roe(t){return Array.isArray(t)?[]:{}}function bx(t,e){return e.clone!==!1&&e.isMergeableObject(t)?u0(roe(t),t,e):t}function ioe(t,e,n){return t.concat(e).map(function(r){return bx(r,n)})}function soe(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=bx(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=bx(e[i],n):r[i]=u0(t[i],e[i],n)}),r}function u0(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||ioe,n.isMergeableObject=n.isMergeableObject||Kse;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):soe(t,e,n):bx(e,n)}u0.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return u0(r,i,n)},{})};var kT=u0,ooe=typeof global=="object"&&global&&global.Object===Object&&global;const LU=ooe;var aoe=typeof self=="object"&&self&&self.Object===Object&&self,loe=LU||aoe||Function("return this")();const Na=loe;var uoe=Na.Symbol;const Zu=uoe;var DU=Object.prototype,coe=DU.hasOwnProperty,hoe=DU.toString,Nm=Zu?Zu.toStringTag:void 0;function doe(t){var e=coe.call(t,Nm),n=t[Nm];try{t[Nm]=void 0;var r=!0}catch{}var i=hoe.call(t);return r&&(e?t[Nm]=n:delete t[Nm]),i}var foe=Object.prototype,poe=foe.toString;function moe(t){return poe.call(t)}var goe="[object Null]",voe="[object Undefined]",wO=Zu?Zu.toStringTag:void 0;function Yh(t){return t==null?t===void 0?voe:goe:wO&&wO in Object(t)?doe(t):moe(t)}function kU(t,e){return function(n){return t(e(n))}}var yoe=kU(Object.getPrototypeOf,Object);const P4=yoe;function Zh(t){return t!=null&&typeof t=="object"}var _oe="[object Object]",xoe=Function.prototype,Soe=Object.prototype,FU=xoe.toString,woe=Soe.hasOwnProperty,Moe=FU.call(Object);function MO(t){if(!Zh(t)||Yh(t)!=_oe)return!1;var e=P4(t);if(e===null)return!0;var n=woe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&FU.call(n)==Moe}var EO=Array.isArray,bO=Object.keys,Eoe=Object.prototype.hasOwnProperty,boe=typeof Element<"u";function FT(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=EO(t),r=EO(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!FT(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var d=bO(t);if(s=d.length,s!==bO(e).length)return!1;for(i=s;i--!==0;)if(!Eoe.call(e,d[i]))return!1;if(boe&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=d[i],!(o==="_owner"&&t.$$typeof)&&!FT(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var Toe=function(e,n){try{return FT(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Hc=G0(Toe);var Aoe=!0;function Coe(t,e){if(!Aoe){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function Poe(){this.__data__=[],this.size=0}function UU(t,e){return t===e||t!==t&&e!==e}function x2(t,e){for(var n=t.length;n--;)if(UU(t[n][0],e))return n;return-1}var Roe=Array.prototype,Noe=Roe.splice;function Ioe(t){var e=this.__data__,n=x2(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Noe.call(e,n,1),--this.size,!0}function Ooe(t){var e=this.__data__,n=x2(e,t);return n<0?void 0:e[n][1]}function Loe(t){return x2(this.__data__,t)>-1}function Doe(t,e){var n=this.__data__,r=x2(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Fl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fl.prototype.clear=Poe;Fl.prototype.delete=Ioe;Fl.prototype.get=Ooe;Fl.prototype.has=Loe;Fl.prototype.set=Doe;function koe(){this.__data__=new Fl,this.size=0}function Foe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Uoe(t){return this.__data__.get(t)}function zoe(t){return this.__data__.has(t)}function yv(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Boe="[object AsyncFunction]",Voe="[object Function]",joe="[object GeneratorFunction]",Hoe="[object Proxy]";function zU(t){if(!yv(t))return!1;var e=Yh(t);return e==Voe||e==joe||e==Boe||e==Hoe}var Woe=Na["__core-js_shared__"];const ob=Woe;var TO=function(){var t=/[^.]+$/.exec(ob&&ob.keys&&ob.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Goe(t){return!!TO&&TO in t}var $oe=Function.prototype,qoe=$oe.toString;function Kh(t){if(t!=null){try{return qoe.call(t)}catch{}try{return t+""}catch{}}return""}var Xoe=/[\\^$.*+?()[\]{}|]/g,Yoe=/^\[object .+?Constructor\]$/,Zoe=Function.prototype,Koe=Object.prototype,Qoe=Zoe.toString,Joe=Koe.hasOwnProperty,eae=RegExp("^"+Qoe.call(Joe).replace(Xoe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tae(t){if(!yv(t)||Goe(t))return!1;var e=zU(t)?eae:Yoe;return e.test(Kh(t))}function nae(t,e){return t==null?void 0:t[e]}function Qh(t,e){var n=nae(t,e);return tae(n)?n:void 0}var rae=Qh(Na,"Map");const c0=rae;var iae=Qh(Object,"create");const h0=iae;function sae(){this.__data__=h0?h0(null):{},this.size=0}function oae(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aae="__lodash_hash_undefined__",lae=Object.prototype,uae=lae.hasOwnProperty;function cae(t){var e=this.__data__;if(h0){var n=e[t];return n===aae?void 0:n}return uae.call(e,t)?e[t]:void 0}var hae=Object.prototype,dae=hae.hasOwnProperty;function fae(t){var e=this.__data__;return h0?e[t]!==void 0:dae.call(e,t)}var pae="__lodash_hash_undefined__";function mae(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=h0&&e===void 0?pae:e,this}function Ih(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ih.prototype.clear=sae;Ih.prototype.delete=oae;Ih.prototype.get=cae;Ih.prototype.has=fae;Ih.prototype.set=mae;function gae(){this.size=0,this.__data__={hash:new Ih,map:new(c0||Fl),string:new Ih}}function vae(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function S2(t,e){var n=t.__data__;return vae(e)?n[typeof e=="string"?"string":"hash"]:n.map}function yae(t){var e=S2(this,t).delete(t);return this.size-=e?1:0,e}function _ae(t){return S2(this,t).get(t)}function xae(t){return S2(this,t).has(t)}function Sae(t,e){var n=S2(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function dc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dc.prototype.clear=gae;dc.prototype.delete=yae;dc.prototype.get=_ae;dc.prototype.has=xae;dc.prototype.set=Sae;var wae=200;function Mae(t,e){var n=this.__data__;if(n instanceof Fl){var r=n.__data__;if(!c0||r.length<wae-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new dc(r)}return n.set(t,e),this.size=n.size,this}function Cp(t){var e=this.__data__=new Fl(t);this.size=e.size}Cp.prototype.clear=koe;Cp.prototype.delete=Foe;Cp.prototype.get=Uoe;Cp.prototype.has=zoe;Cp.prototype.set=Mae;function Eae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var bae=function(){try{var t=Qh(Object,"defineProperty");return t({},"",{}),t}catch{}}();const AO=bae;function BU(t,e,n){e=="__proto__"&&AO?AO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Tae=Object.prototype,Aae=Tae.hasOwnProperty;function VU(t,e,n){var r=t[e];(!(Aae.call(t,e)&&UU(r,n))||n===void 0&&!(e in t))&&BU(t,e,n)}function w2(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?BU(n,a,l):VU(n,a,l)}return n}function Cae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Pae="[object Arguments]";function CO(t){return Zh(t)&&Yh(t)==Pae}var jU=Object.prototype,Rae=jU.hasOwnProperty,Nae=jU.propertyIsEnumerable,Iae=CO(function(){return arguments}())?CO:function(t){return Zh(t)&&Rae.call(t,"callee")&&!Nae.call(t,"callee")};const Oae=Iae;var Lae=Array.isArray;const _v=Lae;function Dae(){return!1}var HU=typeof ys=="object"&&ys&&!ys.nodeType&&ys,PO=HU&&typeof _s=="object"&&_s&&!_s.nodeType&&_s,kae=PO&&PO.exports===HU,RO=kae?Na.Buffer:void 0,Fae=RO?RO.isBuffer:void 0,Uae=Fae||Dae;const WU=Uae;var zae=9007199254740991,Bae=/^(?:0|[1-9]\d*)$/;function Vae(t,e){var n=typeof t;return e=e??zae,!!e&&(n=="number"||n!="symbol"&&Bae.test(t))&&t>-1&&t%1==0&&t<e}var jae=9007199254740991;function GU(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jae}var Hae="[object Arguments]",Wae="[object Array]",Gae="[object Boolean]",$ae="[object Date]",qae="[object Error]",Xae="[object Function]",Yae="[object Map]",Zae="[object Number]",Kae="[object Object]",Qae="[object RegExp]",Jae="[object Set]",ele="[object String]",tle="[object WeakMap]",nle="[object ArrayBuffer]",rle="[object DataView]",ile="[object Float32Array]",sle="[object Float64Array]",ole="[object Int8Array]",ale="[object Int16Array]",lle="[object Int32Array]",ule="[object Uint8Array]",cle="[object Uint8ClampedArray]",hle="[object Uint16Array]",dle="[object Uint32Array]",bn={};bn[ile]=bn[sle]=bn[ole]=bn[ale]=bn[lle]=bn[ule]=bn[cle]=bn[hle]=bn[dle]=!0;bn[Hae]=bn[Wae]=bn[nle]=bn[Gae]=bn[rle]=bn[$ae]=bn[qae]=bn[Xae]=bn[Yae]=bn[Zae]=bn[Kae]=bn[Qae]=bn[Jae]=bn[ele]=bn[tle]=!1;function fle(t){return Zh(t)&&GU(t.length)&&!!bn[Yh(t)]}function R4(t){return function(e){return t(e)}}var $U=typeof ys=="object"&&ys&&!ys.nodeType&&ys,mg=$U&&typeof _s=="object"&&_s&&!_s.nodeType&&_s,ple=mg&&mg.exports===$U,ab=ple&&LU.process,mle=function(){try{var t=mg&&mg.require&&mg.require("util").types;return t||ab&&ab.binding&&ab.binding("util")}catch{}}();const Kf=mle;var NO=Kf&&Kf.isTypedArray,gle=NO?R4(NO):fle;const vle=gle;var yle=Object.prototype,_le=yle.hasOwnProperty;function qU(t,e){var n=_v(t),r=!n&&Oae(t),i=!n&&!r&&WU(t),s=!n&&!r&&!i&&vle(t),o=n||r||i||s,a=o?Cae(t.length,String):[],l=a.length;for(var u in t)(e||_le.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vae(u,l)))&&a.push(u);return a}var xle=Object.prototype;function N4(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||xle;return t===n}var Sle=kU(Object.keys,Object);const wle=Sle;var Mle=Object.prototype,Ele=Mle.hasOwnProperty;function ble(t){if(!N4(t))return wle(t);var e=[];for(var n in Object(t))Ele.call(t,n)&&n!="constructor"&&e.push(n);return e}function XU(t){return t!=null&&GU(t.length)&&!zU(t)}function I4(t){return XU(t)?qU(t):ble(t)}function Tle(t,e){return t&&w2(e,I4(e),t)}function Ale(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Cle=Object.prototype,Ple=Cle.hasOwnProperty;function Rle(t){if(!yv(t))return Ale(t);var e=N4(t),n=[];for(var r in t)r=="constructor"&&(e||!Ple.call(t,r))||n.push(r);return n}function O4(t){return XU(t)?qU(t,!0):Rle(t)}function Nle(t,e){return t&&w2(e,O4(e),t)}var YU=typeof ys=="object"&&ys&&!ys.nodeType&&ys,IO=YU&&typeof _s=="object"&&_s&&!_s.nodeType&&_s,Ile=IO&&IO.exports===YU,OO=Ile?Na.Buffer:void 0,LO=OO?OO.allocUnsafe:void 0;function Ole(t,e){if(e)return t.slice();var n=t.length,r=LO?LO(n):new t.constructor(n);return t.copy(r),r}function ZU(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Lle(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function KU(){return[]}var Dle=Object.prototype,kle=Dle.propertyIsEnumerable,DO=Object.getOwnPropertySymbols,Fle=DO?function(t){return t==null?[]:(t=Object(t),Lle(DO(t),function(e){return kle.call(t,e)}))}:KU;const L4=Fle;function Ule(t,e){return w2(t,L4(t),e)}function QU(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var zle=Object.getOwnPropertySymbols,Ble=zle?function(t){for(var e=[];t;)QU(e,L4(t)),t=P4(t);return e}:KU;const JU=Ble;function Vle(t,e){return w2(t,JU(t),e)}function ez(t,e,n){var r=e(t);return _v(t)?r:QU(r,n(t))}function jle(t){return ez(t,I4,L4)}function Hle(t){return ez(t,O4,JU)}var Wle=Qh(Na,"DataView");const UT=Wle;var Gle=Qh(Na,"Promise");const zT=Gle;var $le=Qh(Na,"Set");const BT=$le;var qle=Qh(Na,"WeakMap");const VT=qle;var kO="[object Map]",Xle="[object Object]",FO="[object Promise]",UO="[object Set]",zO="[object WeakMap]",BO="[object DataView]",Yle=Kh(UT),Zle=Kh(c0),Kle=Kh(zT),Qle=Kh(BT),Jle=Kh(VT),Wc=Yh;(UT&&Wc(new UT(new ArrayBuffer(1)))!=BO||c0&&Wc(new c0)!=kO||zT&&Wc(zT.resolve())!=FO||BT&&Wc(new BT)!=UO||VT&&Wc(new VT)!=zO)&&(Wc=function(t){var e=Yh(t),n=e==Xle?t.constructor:void 0,r=n?Kh(n):"";if(r)switch(r){case Yle:return BO;case Zle:return kO;case Kle:return FO;case Qle:return UO;case Jle:return zO}return e});const D4=Wc;var eue=Object.prototype,tue=eue.hasOwnProperty;function nue(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&tue.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var rue=Na.Uint8Array;const VO=rue;function k4(t){var e=new t.constructor(t.byteLength);return new VO(e).set(new VO(t)),e}function iue(t,e){var n=e?k4(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var sue=/\w*$/;function oue(t){var e=new t.constructor(t.source,sue.exec(t));return e.lastIndex=t.lastIndex,e}var jO=Zu?Zu.prototype:void 0,HO=jO?jO.valueOf:void 0;function aue(t){return HO?Object(HO.call(t)):{}}function lue(t,e){var n=e?k4(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var uue="[object Boolean]",cue="[object Date]",hue="[object Map]",due="[object Number]",fue="[object RegExp]",pue="[object Set]",mue="[object String]",gue="[object Symbol]",vue="[object ArrayBuffer]",yue="[object DataView]",_ue="[object Float32Array]",xue="[object Float64Array]",Sue="[object Int8Array]",wue="[object Int16Array]",Mue="[object Int32Array]",Eue="[object Uint8Array]",bue="[object Uint8ClampedArray]",Tue="[object Uint16Array]",Aue="[object Uint32Array]";function Cue(t,e,n){var r=t.constructor;switch(e){case vue:return k4(t);case uue:case cue:return new r(+t);case yue:return iue(t,n);case _ue:case xue:case Sue:case wue:case Mue:case Eue:case bue:case Tue:case Aue:return lue(t,n);case hue:return new r;case due:case mue:return new r(t);case fue:return oue(t);case pue:return new r;case gue:return aue(t)}}var WO=Object.create,Pue=function(){function t(){}return function(e){if(!yv(e))return{};if(WO)return WO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Rue=Pue;function Nue(t){return typeof t.constructor=="function"&&!N4(t)?Rue(P4(t)):{}}var Iue="[object Map]";function Oue(t){return Zh(t)&&D4(t)==Iue}var GO=Kf&&Kf.isMap,Lue=GO?R4(GO):Oue;const Due=Lue;var kue="[object Set]";function Fue(t){return Zh(t)&&D4(t)==kue}var $O=Kf&&Kf.isSet,Uue=$O?R4($O):Fue;const zue=Uue;var Bue=1,Vue=2,jue=4,tz="[object Arguments]",Hue="[object Array]",Wue="[object Boolean]",Gue="[object Date]",$ue="[object Error]",nz="[object Function]",que="[object GeneratorFunction]",Xue="[object Map]",Yue="[object Number]",rz="[object Object]",Zue="[object RegExp]",Kue="[object Set]",Que="[object String]",Jue="[object Symbol]",ece="[object WeakMap]",tce="[object ArrayBuffer]",nce="[object DataView]",rce="[object Float32Array]",ice="[object Float64Array]",sce="[object Int8Array]",oce="[object Int16Array]",ace="[object Int32Array]",lce="[object Uint8Array]",uce="[object Uint8ClampedArray]",cce="[object Uint16Array]",hce="[object Uint32Array]",_n={};_n[tz]=_n[Hue]=_n[tce]=_n[nce]=_n[Wue]=_n[Gue]=_n[rce]=_n[ice]=_n[sce]=_n[oce]=_n[ace]=_n[Xue]=_n[Yue]=_n[rz]=_n[Zue]=_n[Kue]=_n[Que]=_n[Jue]=_n[lce]=_n[uce]=_n[cce]=_n[hce]=!0;_n[$ue]=_n[nz]=_n[ece]=!1;function b_(t,e,n,r,i,s){var o,a=e&Bue,l=e&Vue,u=e&jue;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!yv(t))return t;var c=_v(t);if(c){if(o=nue(t),!a)return ZU(t,o)}else{var d=D4(t),p=d==nz||d==que;if(WU(t))return Ole(t,a);if(d==rz||d==tz||p&&!i){if(o=l||p?{}:Nue(t),!a)return l?Vle(t,Nle(o,t)):Ule(t,Tle(o,t))}else{if(!_n[d])return i?t:{};o=Cue(t,d,a)}}s||(s=new Cp);var m=s.get(t);if(m)return m;s.set(t,o),zue(t)?t.forEach(function(_){o.add(b_(_,e,n,_,t,s))}):Due(t)&&t.forEach(function(_,v){o.set(v,b_(_,e,n,v,t,s))});var g=u?l?Hle:jle:l?O4:I4,y=c?void 0:g(t);return Eae(y||t,function(_,v){y&&(v=_,_=t[v]),VU(o,v,b_(_,e,n,v,t,s))}),o}var dce=4;function qO(t){return b_(t,dce)}function iz(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var fce="[object Symbol]";function F4(t){return typeof t=="symbol"||Zh(t)&&Yh(t)==fce}var pce="Expected a function";function U4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(pce);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(U4.Cache||dc),n}U4.Cache=dc;var mce=500;function gce(t){var e=U4(t,function(r){return n.size===mce&&n.clear(),r}),n=e.cache;return e}var vce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yce=/\\(\\)?/g,_ce=gce(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(vce,function(n,r,i,s){e.push(i?s.replace(yce,"$1"):r||n)}),e});const xce=_ce;var Sce=1/0;function wce(t){if(typeof t=="string"||F4(t))return t;var e=t+"";return e=="0"&&1/t==-Sce?"-0":e}var Mce=1/0,XO=Zu?Zu.prototype:void 0,YO=XO?XO.toString:void 0;function sz(t){if(typeof t=="string")return t;if(_v(t))return iz(t,sz)+"";if(F4(t))return YO?YO.call(t):"";var e=t+"";return e=="0"&&1/t==-Mce?"-0":e}function Ece(t){return t==null?"":sz(t)}function oz(t){return _v(t)?iz(t,wce):F4(t)?[t]:ZU(xce(Ece(t)))}var az={exports:{}},cn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr=typeof Symbol=="function"&&Symbol.for,z4=Wr?Symbol.for("react.element"):60103,B4=Wr?Symbol.for("react.portal"):60106,M2=Wr?Symbol.for("react.fragment"):60107,E2=Wr?Symbol.for("react.strict_mode"):60108,b2=Wr?Symbol.for("react.profiler"):60114,T2=Wr?Symbol.for("react.provider"):60109,A2=Wr?Symbol.for("react.context"):60110,V4=Wr?Symbol.for("react.async_mode"):60111,C2=Wr?Symbol.for("react.concurrent_mode"):60111,P2=Wr?Symbol.for("react.forward_ref"):60112,R2=Wr?Symbol.for("react.suspense"):60113,bce=Wr?Symbol.for("react.suspense_list"):60120,N2=Wr?Symbol.for("react.memo"):60115,I2=Wr?Symbol.for("react.lazy"):60116,Tce=Wr?Symbol.for("react.block"):60121,Ace=Wr?Symbol.for("react.fundamental"):60117,Cce=Wr?Symbol.for("react.responder"):60118,Pce=Wr?Symbol.for("react.scope"):60119;function Ns(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case z4:switch(t=t.type,t){case V4:case C2:case M2:case b2:case E2:case R2:return t;default:switch(t=t&&t.$$typeof,t){case A2:case P2:case I2:case N2:case T2:return t;default:return e}}case B4:return e}}}function lz(t){return Ns(t)===C2}cn.AsyncMode=V4;cn.ConcurrentMode=C2;cn.ContextConsumer=A2;cn.ContextProvider=T2;cn.Element=z4;cn.ForwardRef=P2;cn.Fragment=M2;cn.Lazy=I2;cn.Memo=N2;cn.Portal=B4;cn.Profiler=b2;cn.StrictMode=E2;cn.Suspense=R2;cn.isAsyncMode=function(t){return lz(t)||Ns(t)===V4};cn.isConcurrentMode=lz;cn.isContextConsumer=function(t){return Ns(t)===A2};cn.isContextProvider=function(t){return Ns(t)===T2};cn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===z4};cn.isForwardRef=function(t){return Ns(t)===P2};cn.isFragment=function(t){return Ns(t)===M2};cn.isLazy=function(t){return Ns(t)===I2};cn.isMemo=function(t){return Ns(t)===N2};cn.isPortal=function(t){return Ns(t)===B4};cn.isProfiler=function(t){return Ns(t)===b2};cn.isStrictMode=function(t){return Ns(t)===E2};cn.isSuspense=function(t){return Ns(t)===R2};cn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===M2||t===C2||t===b2||t===E2||t===R2||t===bce||typeof t=="object"&&t!==null&&(t.$$typeof===I2||t.$$typeof===N2||t.$$typeof===T2||t.$$typeof===A2||t.$$typeof===P2||t.$$typeof===Ace||t.$$typeof===Cce||t.$$typeof===Pce||t.$$typeof===Tce)};cn.typeOf=Ns;az.exports=cn;var Rce=az.exports,uz=Rce,Nce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ice={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cz={};cz[uz.ForwardRef]=Nce;cz[uz.Memo]=Ice;function kr(){return kr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kr.apply(this,arguments)}function hz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var O2=P.createContext(void 0);O2.displayName="FormikContext";O2.Provider;O2.Consumer;function Oce(){var t=P.useContext(O2);return t||Coe(!1),t}var fo=function(e){return typeof e=="function"},L2=function(e){return e!==null&&typeof e=="object"},Lce=function(e){return String(Math.floor(Number(e)))===e},lb=function(e){return Object.prototype.toString.call(e)==="[object String]"},ub=function(e){return L2(e)&&fo(e.then)};function us(t,e,n,r){r===void 0&&(r=0);for(var i=oz(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function mh(t,e,n){for(var r=qO(t),i=r,s=0,o=oz(e);s<o.length-1;s++){var a=o[s],l=us(t,o.slice(0,s+1));if(l&&(L2(l)||Array.isArray(l)))i=i[a]=qO(l);else{var u=o[s+1];i=i[a]=Lce(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function dz(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];L2(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},dz(a,e,n,r[o])):r[o]=e}return r}function Dce(t,e){switch(e.type){case"SET_VALUES":return kr({},t,{values:e.payload});case"SET_TOUCHED":return kr({},t,{touched:e.payload});case"SET_ERRORS":return Hc(t.errors,e.payload)?t:kr({},t,{errors:e.payload});case"SET_STATUS":return kr({},t,{status:e.payload});case"SET_ISSUBMITTING":return kr({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return kr({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return kr({},t,{values:mh(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return kr({},t,{touched:mh(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return kr({},t,{errors:mh(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return kr({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return kr({},t,{touched:dz(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return kr({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return kr({},t,{isSubmitting:!1});default:return t}}var Uc={},Gy={};function fz(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,d=hz(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=kr({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},d),m=P.useRef(p.initialValues),g=P.useRef(p.initialErrors||Uc),y=P.useRef(p.initialTouched||Gy),_=P.useRef(p.initialStatus),v=P.useRef(!1),x=P.useRef({});P.useEffect(function(){return v.current=!0,function(){v.current=!1}},[]);var w=P.useState(0),M=w[1],b=P.useRef({values:p.initialValues,errors:p.initialErrors||Uc,touched:p.initialTouched||Gy,status:p.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),T=b.current,C=P.useCallback(function(ae){var B=b.current;b.current=Dce(B,ae),B!==b.current&&M(function(k){return k+1})},[]),I=P.useCallback(function(ae,B){return new Promise(function(k,le){var _e=p.validate(ae,B);_e==null?k(Uc):ub(_e)?_e.then(function(be){k(be||Uc)},function(be){le(be)}):k(_e)})},[p.validate]),R=P.useCallback(function(ae,B){var k=p.validationSchema,le=fo(k)?k(B):k,_e=B&&le.validateAt?le.validateAt(B,ae):Fce(ae,le);return new Promise(function(be,Fe){_e.then(function(){be(Uc)},function(qe){qe.name==="ValidationError"?be(kce(qe)):Fe(qe)})})},[p.validationSchema]),N=P.useCallback(function(ae,B){return new Promise(function(k){return k(x.current[ae].validate(B))})},[]),z=P.useCallback(function(ae){var B=Object.keys(x.current).filter(function(le){return fo(x.current[le].validate)}),k=B.length>0?B.map(function(le){return N(le,us(ae,le))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(k).then(function(le){return le.reduce(function(_e,be,Fe){return be==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||be&&(_e=mh(_e,B[Fe],be)),_e},{})})},[N]),V=P.useCallback(function(ae){return Promise.all([z(ae),p.validationSchema?R(ae):{},p.validate?I(ae):{}]).then(function(B){var k=B[0],le=B[1],_e=B[2],be=kT.all([k,le,_e],{arrayMerge:Uce});return be})},[p.validate,p.validationSchema,z,I,R]),W=js(function(ae){return ae===void 0&&(ae=T.values),C({type:"SET_ISVALIDATING",payload:!0}),V(ae).then(function(B){return v.current&&(C({type:"SET_ISVALIDATING",payload:!1}),C({type:"SET_ERRORS",payload:B})),B})});P.useEffect(function(){o&&v.current===!0&&Hc(m.current,p.initialValues)&&W(m.current)},[o,W]);var K=P.useCallback(function(ae){var B=ae&&ae.values?ae.values:m.current,k=ae&&ae.errors?ae.errors:g.current?g.current:p.initialErrors||{},le=ae&&ae.touched?ae.touched:y.current?y.current:p.initialTouched||{},_e=ae&&ae.status?ae.status:_.current?_.current:p.initialStatus;m.current=B,g.current=k,y.current=le,_.current=_e;var be=function(){C({type:"RESET_FORM",payload:{isSubmitting:!!ae&&!!ae.isSubmitting,errors:k,touched:le,status:_e,values:B,isValidating:!!ae&&!!ae.isValidating,submitCount:ae&&ae.submitCount&&typeof ae.submitCount=="number"?ae.submitCount:0}})};if(p.onReset){var Fe=p.onReset(T.values,Ne);ub(Fe)?Fe.then(be):be()}else be()},[p.initialErrors,p.initialStatus,p.initialTouched]);P.useEffect(function(){v.current===!0&&!Hc(m.current,p.initialValues)&&u&&(m.current=p.initialValues,K(),o&&W(m.current))},[u,p.initialValues,K,o,W]),P.useEffect(function(){u&&v.current===!0&&!Hc(g.current,p.initialErrors)&&(g.current=p.initialErrors||Uc,C({type:"SET_ERRORS",payload:p.initialErrors||Uc}))},[u,p.initialErrors]),P.useEffect(function(){u&&v.current===!0&&!Hc(y.current,p.initialTouched)&&(y.current=p.initialTouched||Gy,C({type:"SET_TOUCHED",payload:p.initialTouched||Gy}))},[u,p.initialTouched]),P.useEffect(function(){u&&v.current===!0&&!Hc(_.current,p.initialStatus)&&(_.current=p.initialStatus,C({type:"SET_STATUS",payload:p.initialStatus}))},[u,p.initialStatus,p.initialTouched]);var J=js(function(ae){if(x.current[ae]&&fo(x.current[ae].validate)){var B=us(T.values,ae),k=x.current[ae].validate(B);return ub(k)?(C({type:"SET_ISVALIDATING",payload:!0}),k.then(function(le){return le}).then(function(le){C({type:"SET_FIELD_ERROR",payload:{field:ae,value:le}}),C({type:"SET_ISVALIDATING",payload:!1})})):(C({type:"SET_FIELD_ERROR",payload:{field:ae,value:k}}),Promise.resolve(k))}else if(p.validationSchema)return C({type:"SET_ISVALIDATING",payload:!0}),R(T.values,ae).then(function(le){return le}).then(function(le){C({type:"SET_FIELD_ERROR",payload:{field:ae,value:us(le,ae)}}),C({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),ne=P.useCallback(function(ae,B){var k=B.validate;x.current[ae]={validate:k}},[]),ee=P.useCallback(function(ae){delete x.current[ae]},[]),F=js(function(ae,B){C({type:"SET_TOUCHED",payload:ae});var k=B===void 0?i:B;return k?W(T.values):Promise.resolve()}),j=P.useCallback(function(ae){C({type:"SET_ERRORS",payload:ae})},[]),H=js(function(ae,B){var k=fo(ae)?ae(T.values):ae;C({type:"SET_VALUES",payload:k});var le=B===void 0?n:B;return le?W(k):Promise.resolve()}),D=P.useCallback(function(ae,B){C({type:"SET_FIELD_ERROR",payload:{field:ae,value:B}})},[]),U=js(function(ae,B,k){C({type:"SET_FIELD_VALUE",payload:{field:ae,value:B}});var le=k===void 0?n:k;return le?W(mh(T.values,ae,B)):Promise.resolve()}),Y=P.useCallback(function(ae,B){var k=B,le=ae,_e;if(!lb(ae)){ae.persist&&ae.persist();var be=ae.target?ae.target:ae.currentTarget,Fe=be.type,qe=be.name,He=be.id,Me=be.value,st=be.checked,ut=be.outerHTML,ie=be.options,re=be.multiple;k=B||qe||He,le=/number|range/.test(Fe)?(_e=parseFloat(Me),isNaN(_e)?"":_e):/checkbox/.test(Fe)?Bce(us(T.values,k),st,Me):ie&&re?zce(ie):Me}k&&U(k,le)},[U,T.values]),q=js(function(ae){if(lb(ae))return function(B){return Y(B,ae)};Y(ae)}),te=js(function(ae,B,k){B===void 0&&(B=!0),C({type:"SET_FIELD_TOUCHED",payload:{field:ae,value:B}});var le=k===void 0?i:k;return le?W(T.values):Promise.resolve()}),ue=P.useCallback(function(ae,B){ae.persist&&ae.persist();var k=ae.target,le=k.name,_e=k.id,be=k.outerHTML,Fe=B||le||_e;te(Fe,!0)},[te]),Se=js(function(ae){if(lb(ae))return function(B){return ue(B,ae)};ue(ae)}),pe=P.useCallback(function(ae){fo(ae)?C({type:"SET_FORMIK_STATE",payload:ae}):C({type:"SET_FORMIK_STATE",payload:function(){return ae}})},[]),Ge=P.useCallback(function(ae){C({type:"SET_STATUS",payload:ae})},[]),nt=P.useCallback(function(ae){C({type:"SET_ISSUBMITTING",payload:ae})},[]),ze=js(function(){return C({type:"SUBMIT_ATTEMPT"}),W().then(function(ae){var B=ae instanceof Error,k=!B&&Object.keys(ae).length===0;if(k){var le;try{if(le=ye(),le===void 0)return}catch(_e){throw _e}return Promise.resolve(le).then(function(_e){return v.current&&C({type:"SUBMIT_SUCCESS"}),_e}).catch(function(_e){if(v.current)throw C({type:"SUBMIT_FAILURE"}),_e})}else if(v.current&&(C({type:"SUBMIT_FAILURE"}),B))throw ae})}),Z=js(function(ae){ae&&ae.preventDefault&&fo(ae.preventDefault)&&ae.preventDefault(),ae&&ae.stopPropagation&&fo(ae.stopPropagation)&&ae.stopPropagation(),ze().catch(function(B){console.warn("Warning: An unhandled error was caught from submitForm()",B)})}),Ne={resetForm:K,validateForm:W,validateField:J,setErrors:j,setFieldError:D,setFieldTouched:te,setFieldValue:U,setStatus:Ge,setSubmitting:nt,setTouched:F,setValues:H,setFormikState:pe,submitForm:ze},ye=js(function(){return c(T.values,Ne)}),he=js(function(ae){ae&&ae.preventDefault&&fo(ae.preventDefault)&&ae.preventDefault(),ae&&ae.stopPropagation&&fo(ae.stopPropagation)&&ae.stopPropagation(),K()}),de=P.useCallback(function(ae){return{value:us(T.values,ae),error:us(T.errors,ae),touched:!!us(T.touched,ae),initialValue:us(m.current,ae),initialTouched:!!us(y.current,ae),initialError:us(g.current,ae)}},[T.errors,T.touched,T.values]),De=P.useCallback(function(ae){return{setValue:function(k,le){return U(ae,k,le)},setTouched:function(k,le){return te(ae,k,le)},setError:function(k){return D(ae,k)}}},[U,te,D]),Le=P.useCallback(function(ae){var B=L2(ae),k=B?ae.name:ae,le=us(T.values,k),_e={name:k,value:le,onChange:q,onBlur:Se};if(B){var be=ae.type,Fe=ae.value,qe=ae.as,He=ae.multiple;be==="checkbox"?Fe===void 0?_e.checked=!!le:(_e.checked=!!(Array.isArray(le)&&~le.indexOf(Fe)),_e.value=Fe):be==="radio"?(_e.checked=le===Fe,_e.value=Fe):qe==="select"&&He&&(_e.value=_e.value||[],_e.multiple=!0)}return _e},[Se,q,T.values]),Ie=P.useMemo(function(){return!Hc(m.current,T.values)},[m.current,T.values]),Ve=P.useMemo(function(){return typeof a<"u"?Ie?T.errors&&Object.keys(T.errors).length===0:a!==!1&&fo(a)?a(p):a:T.errors&&Object.keys(T.errors).length===0},[a,Ie,T.errors,p]),it=kr({},T,{initialValues:m.current,initialErrors:g.current,initialTouched:y.current,initialStatus:_.current,handleBlur:Se,handleChange:q,handleReset:he,handleSubmit:Z,resetForm:K,setErrors:j,setFormikState:pe,setFieldTouched:te,setFieldValue:U,setFieldError:D,setStatus:Ge,setSubmitting:nt,setTouched:F,setValues:H,submitForm:ze,validateForm:W,validateField:J,isValid:Ve,dirty:Ie,unregisterField:ee,registerField:ne,getFieldProps:Le,getFieldMeta:de,getFieldHelpers:De,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return it}function kce(t){var e={};if(t.inner){if(t.inner.length===0)return mh(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;us(e,o.path)||(e=mh(e,o.path,o.message))}}return e}function Fce(t,e,n,r){n===void 0&&(n=!1);var i=jT(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function jT(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||MO(i)?jT(i):i!==""?i:void 0}):MO(t[r])?e[r]=jT(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function Uce(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?kT(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=kT(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function zce(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function Bce(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var Vce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect;function js(t){var e=P.useRef(t);return Vce(function(){e.current=t}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var jce=P.forwardRef(function(t,e){var n=t.action,r=hz(t,["action"]),i=n??"#",s=Oce(),o=s.handleReset,a=s.handleSubmit;return P.createElement("form",kr({onSubmit:a,ref:e,onReset:o,action:i},r))});jce.displayName="Form";function Jh(t){this._maxSize=t,this.clear()}Jh.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Jh.prototype.get=function(t){return this._values[t]};Jh.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Hce=/[^.^\]^[]+|(?=\[\]|\.\.)/g,pz=/^\d+$/,Wce=/^\d/,Gce=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,$ce=/^\s*(['"]?)(.*?)(\1)\s*$/,j4=512,ZO=new Jh(j4),KO=new Jh(j4),QO=new Jh(j4),gh={Cache:Jh,split:HT,normalizePath:cb,setter:function(t){var e=cb(t);return KO.get(t)||KO.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=cb(t);return QO.get(t)||QO.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(H4(n)||pz.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){qce(Array.isArray(t)?t:HT(t),e,n)}};function cb(t){return ZO.get(t)||ZO.set(t,HT(t).map(function(e){return e.replace($ce,"$2")}))}function HT(t){return t.match(Hce)||[""]}function qce(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(Zce(i)&&(i='"'+i+'"'),a=H4(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function H4(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Xce(t){return t.match(Wce)&&!t.match(pz)}function Yce(t){return Gce.test(t)}function Zce(t){return!H4(t)&&(Xce(t)||Yce(t))}const Kce=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,D2=t=>t.match(Kce)||[],k2=t=>t[0].toUpperCase()+t.slice(1),W4=(t,e)=>D2(t).join(e).toLowerCase(),mz=t=>D2(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Qce=t=>k2(mz(t)),Jce=t=>W4(t,"_"),ehe=t=>W4(t,"-"),the=t=>k2(W4(t," ")),nhe=t=>D2(t).map(k2).join(" ");var hb={words:D2,upperFirst:k2,camelCase:mz,pascalCase:Qce,snakeCase:Jce,kebabCase:ehe,sentenceCase:the,titleCase:nhe},G4={exports:{}};G4.exports=function(t){return gz(rhe(t),t)};G4.exports.array=gz;function gz(t,e){var n=t.length,r=new Array(n),i={},s=n,o=ihe(e),a=she(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,d){if(d.has(u)){var p;try{p=", node was:"+JSON.stringify(u)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var m=o.get(u)||new Set;if(m=Array.from(m),c=m.length){d.add(u);do{var g=m[--c];l(g,a.get(g),d)}while(c);d.delete(u)}r[--n]=u}}}function rhe(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function ihe(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function she(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var ohe=G4.exports;const ahe=G0(ohe),lhe=Object.prototype.toString,uhe=Error.prototype.toString,che=RegExp.prototype.toString,hhe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",dhe=/^Symbol\((.*)\)(.*)$/;function fhe(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function JO(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return fhe(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return hhe.call(t).replace(dhe,"Symbol($1)");const r=lhe.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+uhe.call(t)+"]":r==="RegExp"?che.call(t):null}function vh(t,e){let n=JO(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=JO(this[r],e);return s!==null?s:i},2)}function vz(t){return t==null?[]:[].concat(t)}let phe=/\$\{\s*(\w+)\s*\}/g;class fs extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(phe,(i,s)=>vh(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],vz(e).forEach(s=>{fs.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,fs)}}let nl={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${vh(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${vh(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${vh(n,!0)}\``+i}},po={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},lu={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},WT={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},GT={isValue:"${path} field must be ${value}"},$T={noUnknown:"${path} field has unspecified keys: ${unknown}"},T_={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:nl,string:po,number:lu,date:WT,object:$T,array:T_,boolean:GT});const F2=t=>t&&t.__isYupSchema__;class Tx{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Tx(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!F2(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const $y={context:"$",value:"."};function mhe(t,e){return new fc(t,e)}class fc{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===$y.context,this.isValue=this.key[0]===$y.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?$y.context:this.isValue?$y.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&gh.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}fc.prototype.__isYupRef=!0;const Co=t=>t==null;function Wd(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:d,message:p,skipAbsent:m}=t;let{parent:g,context:y,abortEarly:_=o.spec.abortEarly}=i;function v(N){return fc.isRef(N)?N.getValue(n,g,y):N}function x(N={}){const z=Object.assign({value:n,originalValue:s,label:o.spec.label,path:N.path||r,spec:o.spec},d,N.params);for(const W of Object.keys(z))z[W]=v(z[W]);const V=new fs(fs.formatError(N.message||p,z),n,z.path,N.type||u);return V.params=z,V}const w=_?a:l;let M={path:r,parent:g,type:u,from:i.from,createError:x,resolve:v,options:i,originalValue:s,schema:o};const b=N=>{fs.isError(N)?w(N):N?l(null):w(x())},T=N=>{fs.isError(N)?w(N):a(N)},C=m&&Co(n);if(!i.sync){try{Promise.resolve(C?!0:c.call(M,n,M)).then(b,T)}catch(N){T(N)}return}let I;try{var R;if(I=C?!0:c.call(M,n,M),typeof((R=I)==null?void 0:R.then)=="function")throw new Error(`Validation test of type: "${M.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(N){T(N);return}b(I)}return e.OPTIONS=t,e}function ghe(t,e,n,r=n){let i,s,o;return e?(gh.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let d=t.type==="tuple",p=u?parseInt(c,10):0;if(t.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[p],t=d?t.spec.types[p]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Ax extends Set{describe(){const e=[];for(const n of this.values())e.push(fc.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Ax(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function yf(t,e=new Map){if(F2(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=yf(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,yf(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(yf(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=yf(i,e)}else throw Error(`Unable to clone ${t}`);return n}class bs{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ax,this._blacklist=new Ax,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(nl.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=yf(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Co(s))return s;let o=vh(e),a=vh(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=y=>{i||(i=!0,n(y,o))},d=y=>{i||(i=!0,r(y,o))},p=s.length,m=[];if(!p)return d([]);let g={value:o,originalValue:a,path:l,options:u,schema:this};for(let y=0;y<s.length;y++){const _=s[y];_(g,c,function(x){x&&(m=m.concat(x)),--p<=0&&d(m)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${u?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(d,p,m)=>this.resolve(c)._validate(u,c,p,m)}validate(e,n){let r=this.resolve(Object.assign({},n,{value:e}));return new Promise((i,s)=>r._validate(e,n,(o,a)=>{fs.isError(o)&&(o.value=a),s(o)},(o,a)=>{o.length?s(new fs(o,a)):i(a)}))}validateSync(e,n){let r=this.resolve(Object.assign({},n,{value:e})),i;return r._validate(e,Object.assign({},n,{sync:!0}),(s,o)=>{throw fs.isError(s)&&(s.value=o),s},(s,o)=>{if(s.length)throw new fs(s,e);i=o}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(fs.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(fs.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):yf(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Wd({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Wd({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=nl.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=nl.notNull){return this.nullability(!1,e)}required(e=nl.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=nl.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Wd(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=vz(e).map(s=>new fc(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Tx(i,n):Tx.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Wd({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=nl.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Wd({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=nl.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Wd({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(d=>d.name===l.name)===u)}}}bs.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])bs.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=ghe(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])bs.prototype[t]=bs.prototype.oneOf;for(const t of["not","nope"])bs.prototype[t]=bs.prototype.notOneOf;function qm(){return new yz}class yz extends bs{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=GT.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Co(n)||n===!0}})}isFalse(e=GT.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Co(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}qm.prototype=yz.prototype;let vhe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yhe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,_he=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,xhe=t=>Co(t)||t===t.trim(),She={}.toString();function Fr(){return new _z}class _z extends bs{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===She?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||nl.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=po.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=po.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=po.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||po.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=po.email){return this.matches(vhe,{name:"email",message:e,excludeEmptyString:!0})}url(e=po.url){return this.matches(yhe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=po.uuid){return this.matches(_he,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=po.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:xhe})}lowercase(e=po.lowercase){return this.transform(n=>Co(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Co(n)||n===n.toLowerCase()})}uppercase(e=po.uppercase){return this.transform(n=>Co(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Co(n)||n===n.toUpperCase()})}}Fr.prototype=_z.prototype;let whe=t=>t!=+t;function yt(){return new xz}class xz extends bs{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!whe(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=lu.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=lu.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=lu.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=lu.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=lu.positive){return this.moreThan(0,e)}negative(e=lu.negative){return this.lessThan(0,e)}integer(e=lu.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Co(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>Co(i)?i:Math[e](i))}}yt.prototype=xz.prototype;var Mhe=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function Ehe(t){var e=[1,4,5,6,7,10,11],n=0,r,i;if(i=Mhe.exec(t)){for(var s=0,o;o=e[s];++s)i[o]=+i[o]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(t):NaN;return r}let bhe=new Date(""),The=t=>Object.prototype.toString.call(t)==="[object Date]";class U2 extends bs{constructor(){super({type:"date",check(e){return The(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=Ehe(e),isNaN(e)?U2.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(fc.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=WT.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=WT.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}U2.INVALID_DATE=bhe;U2.prototype;function Ahe(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=gh.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),fc.isRef(a)&&a.isSibling?s(a.path,o):F2(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return ahe.array(Array.from(r),n).reverse()}function eL(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function Sz(t){return(e,n)=>eL(t,e)-eL(t,n)}const wz=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function A_(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=A_(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=A_(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(A_)}):"optional"in t?t.optional():t}const Che=(t,e)=>{const n=[...gh.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=gh.getter(gh.join(n),!0)(t);return!!(i&&r in i)};let tL=t=>Object.prototype.toString.call(t)==="[object Object]";function Phe(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const Rhe=Sz([]);function vo(t){return new Mz(t)}class Mz extends bs{constructor(e){super({type:"object",check(n){return tL(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Rhe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const d of a){let p=s[d],m=d in i;if(p){let g,y=i[d];u.path=(n.path?`${n.path}.`:"")+d,p=p.resolve({value:y,context:n.context,parent:l});let _=p instanceof bs?p.spec:void 0,v=_==null?void 0:_.strict;if(_!=null&&_.strip){c=c||d in i;continue}g=!n.__validating||!v?p.cast(i[d],u):i[d],g!==void 0&&(l[d]=g)}else m&&!o&&(l[d]=i[d]);(m!==d in l||l[d]!==i[d])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!tL(u)){i(l,u);return}o=o||u;let c=[];for(let d of this._nodes){let p=this.fields[d];!p||fc.isRef(p)||c.push(p.asNestedTest({options:n,key:d,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=Ahe(e,n),r._sortErrors=Sz(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return A_(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n)}omit(e){const n=Object.assign({},this.fields);for(const r of e)delete n[r];return this.setFields(n)}from(e,n,r){let i=gh.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return Che(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(wz)}noUnknown(e=!0,n=$T.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=Phe(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=$T.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(hb.camelCase)}snakeCase(){return this.transformKeys(hb.snakeCase)}constantCase(){return this.transformKeys(e=>hb.snakeCase(e).toUpperCase())}describe(e){let n=super.describe(e);n.fields={};for(const[i,s]of Object.entries(this.fields)){var r;let o=e;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n.fields[i]=s.describe(o)}return n}}vo.prototype=Mz.prototype;function Zd(t){return new Ez(t)}class Ez extends bs{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const s=r.map((o,a)=>{const l=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return l!==o&&(i=!0),l});return i?s:r}_validate(e,n={},r,i){var s;let o=this.innerType,a=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(l,u)=>{var c;if(!a||!o||!this._typeCheck(u)){i(l,u);return}let d=new Array(u.length);for(let m=0;m<u.length;m++){var p;d[m]=o.asNestedTest({options:n,index:m,parent:u,parentPath:n.path,originalParent:(p=n.originalValue)!=null?p:e})}this.runTests({value:u,tests:d,originalValue:(c=n.originalValue)!=null?c:e,options:n},r,m=>i(m.concat(l),u))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(wz)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!F2(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+vh(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=T_.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||T_.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||T_.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,i,s)=>!e(r,i,s):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){let n=super.describe(e);if(this.innerType){var r;let i=e;(r=i)!=null&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),n.innerType=this.innerType.describe(i)}return n}}Zd.prototype=Ez.prototype;const Nhe=vo({email:Fr().email("Please enter a valid email").required("Email can't be empty"),password:Fr().required("Password can't be empty")}),To={LOGIN_ASYNC:"LOGIN_ASYNC",REGISTER_ASYNC:"REGISTER_ASYNC",LOGOUT_ASYNC:"LOGOUT_ASYNC",GET_LOGGED_IN_USER_ASYNC:"GET_LOGGED_IN_USER_ASYNC",REFRESH_TOKEN_ASYNC:"REFRESH_TOKEN_ASYNC"};var bz={exports:{}},Tz={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=P;function Ihe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ohe=typeof Object.is=="function"?Object.is:Ihe,Lhe=Qf.useState,Dhe=Qf.useEffect,khe=Qf.useLayoutEffect,Fhe=Qf.useDebugValue;function Uhe(t,e){var n=e(),r=Lhe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return khe(function(){i.value=n,i.getSnapshot=e,db(i)&&s({inst:i})},[t,n,e]),Dhe(function(){return db(i)&&s({inst:i}),t(function(){db(i)&&s({inst:i})})},[t]),Fhe(n),n}function db(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ohe(t,n)}catch{return!0}}function zhe(t,e){return e()}var Bhe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zhe:Uhe;Tz.useSyncExternalStore=Qf.useSyncExternalStore!==void 0?Qf.useSyncExternalStore:Bhe;bz.exports=Tz;var Vhe=bz.exports,Az={exports:{}},Cz={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2=P,jhe=Vhe;function Hhe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Whe=typeof Object.is=="function"?Object.is:Hhe,Ghe=jhe.useSyncExternalStore,$he=z2.useRef,qhe=z2.useEffect,Xhe=z2.useMemo,Yhe=z2.useDebugValue;Cz.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=$he(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Xhe(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,Whe(c,m))return g;var y=r(m);return i!==void 0&&i(g,y)?g:(c=m,d=y)}var u=!1,c,d,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,i]);var a=Ghe(t,s[0],s[1]);return qhe(function(){o.hasValue=!0,o.value=a},[a]),Yhe(a),a};Az.exports=Cz;var Zhe=Az.exports;function Khe(t){t()}let Pz=Khe;const Qhe=t=>Pz=t,Jhe=()=>Pz,nL=Symbol.for(`react-redux-context-${P.version}`),rL=globalThis;function ede(){let t=rL[nL];return t||(t=P.createContext(null),rL[nL]=t),t}const Ku=new Proxy({},new Proxy({},{get(t,e){const n=ede();return(r,...i)=>Reflect[e](n,...i)}}));function $4(t=Ku){return function(){return P.useContext(t)}}const Rz=$4(),tde=()=>{throw new Error("uSES not initialized!")};let Nz=tde;const nde=t=>{Nz=t},rde=(t,e)=>t===e;function ide(t=Ku){const e=t===Ku?Rz:$4(t);return function(r,i={}){const{equalityFn:s=rde,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:d,noopCheck:p}=e();P.useRef(!0);const m=P.useCallback({[r.name](y){return r(y)}}[r.name],[r,d,o]),g=Nz(u.addNestedSub,l.getState,c||l.getState,m,s);return P.useDebugValue(g),g}}const sde=ide();function ode(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q4=Symbol.for("react.element"),X4=Symbol.for("react.portal"),B2=Symbol.for("react.fragment"),V2=Symbol.for("react.strict_mode"),j2=Symbol.for("react.profiler"),H2=Symbol.for("react.provider"),W2=Symbol.for("react.context"),ade=Symbol.for("react.server_context"),G2=Symbol.for("react.forward_ref"),$2=Symbol.for("react.suspense"),q2=Symbol.for("react.suspense_list"),X2=Symbol.for("react.memo"),Y2=Symbol.for("react.lazy"),lde=Symbol.for("react.offscreen"),Iz;Iz=Symbol.for("react.module.reference");function ro(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case q4:switch(t=t.type,t){case B2:case j2:case V2:case $2:case q2:return t;default:switch(t=t&&t.$$typeof,t){case ade:case W2:case G2:case Y2:case X2:case H2:return t;default:return e}}case X4:return e}}}pn.ContextConsumer=W2;pn.ContextProvider=H2;pn.Element=q4;pn.ForwardRef=G2;pn.Fragment=B2;pn.Lazy=Y2;pn.Memo=X2;pn.Portal=X4;pn.Profiler=j2;pn.StrictMode=V2;pn.Suspense=$2;pn.SuspenseList=q2;pn.isAsyncMode=function(){return!1};pn.isConcurrentMode=function(){return!1};pn.isContextConsumer=function(t){return ro(t)===W2};pn.isContextProvider=function(t){return ro(t)===H2};pn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===q4};pn.isForwardRef=function(t){return ro(t)===G2};pn.isFragment=function(t){return ro(t)===B2};pn.isLazy=function(t){return ro(t)===Y2};pn.isMemo=function(t){return ro(t)===X2};pn.isPortal=function(t){return ro(t)===X4};pn.isProfiler=function(t){return ro(t)===j2};pn.isStrictMode=function(t){return ro(t)===V2};pn.isSuspense=function(t){return ro(t)===$2};pn.isSuspenseList=function(t){return ro(t)===q2};pn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===B2||t===j2||t===V2||t===$2||t===q2||t===lde||typeof t=="object"&&t!==null&&(t.$$typeof===Y2||t.$$typeof===X2||t.$$typeof===H2||t.$$typeof===W2||t.$$typeof===G2||t.$$typeof===Iz||t.getModuleId!==void 0)};pn.typeOf=ro;function ude(){const t=Jhe();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const iL={notify(){},get:()=>[]};function cde(t,e){let n,r=iL;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=ude())}function u(){n&&(n(),n=void 0,r.clear(),r=iL)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const hde=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dde=hde?P.useLayoutEffect:P.useEffect;function fde({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=P.useMemo(()=>{const u=cde(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=P.useMemo(()=>t.getState(),[t]);dde(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||Ku;return ft.createElement(l.Provider,{value:o},n)}function Oz(t=Ku){const e=t===Ku?Rz:$4(t);return function(){const{store:r}=e();return r}}const pde=Oz();function mde(t=Ku){const e=t===Ku?pde:Oz(t);return function(){return e().dispatch}}const gde=mde();nde(Zhe.useSyncExternalStoreWithSelector);Qhe(LS.unstable_batchedUpdates);const ei=gde,Ut=sde;function Ao(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Qu(t){return!!t&&!!t[In]}function Rl(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===bde}(t)||Array.isArray(t)||!!t[hL]||!!(!((e=t.constructor)===null||e===void 0)&&e[hL])||Y4(t)||Z4(t))}function Oh(t,e,n){n===void 0&&(n=!1),Pp(t)===0?(n?Object.keys:Nf)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Pp(t){var e=t[In];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Y4(t)?2:Z4(t)?3:0}function Rf(t,e){return Pp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function vde(t,e){return Pp(t)===2?t.get(e):t[e]}function Lz(t,e,n){var r=Pp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Dz(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Y4(t){return Mde&&t instanceof Map}function Z4(t){return Ede&&t instanceof Set}function Gc(t){return t.o||t.t}function K4(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Fz(t);delete e[In];for(var n=Nf(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Q4(t,e){return e===void 0&&(e=!1),J4(t)||Qu(t)||!Rl(t)||(Pp(t)>1&&(t.set=t.add=t.clear=t.delete=yde),Object.freeze(t),e&&Oh(t,function(n,r){return Q4(r,!0)},!0)),t}function yde(){Ao(2)}function J4(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function wa(t){var e=ZT[t];return e||Ao(18,t),e}function _de(t,e){ZT[t]||(ZT[t]=e)}function qT(){return d0}function fb(t,e){e&&(wa("Patches"),t.u=[],t.s=[],t.v=e)}function Cx(t){XT(t),t.p.forEach(xde),t.p=null}function XT(t){t===d0&&(d0=t.l)}function sL(t){return d0={p:[],l:d0,h:t,m:!0,_:0}}function xde(t){var e=t[In];e.i===0||e.i===1?e.j():e.g=!0}function pb(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||wa("ES5").S(e,t,r),r?(n[In].P&&(Cx(e),Ao(4)),Rl(t)&&(t=Px(e,t),e.l||Rx(e,t)),e.u&&wa("Patches").M(n[In].t,t,e.u,e.s)):t=Px(e,n,[]),Cx(e),e.u&&e.v(e.u,e.s),t!==kz?t:void 0}function Px(t,e,n){if(J4(e))return e;var r=e[In];if(!r)return Oh(e,function(a,l){return oL(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Rx(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=K4(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Oh(s,function(a,l){return oL(t,r,i,a,l,n,o)}),Rx(t,i,!1),n&&t.u&&wa("Patches").N(r,n,t.u,t.s)}return r.o}function oL(t,e,n,r,i,s,o){if(Qu(i)){var a=Px(t,i,s&&e&&e.i!==3&&!Rf(e.R,r)?s.concat(r):void 0);if(Lz(n,r,a),!Qu(a))return;t.m=!1}else o&&n.add(i);if(Rl(i)&&!J4(i)){if(!t.h.D&&t._<1)return;Px(t,i),e&&e.A.l||Rx(t,i)}}function Rx(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Q4(e,n)}function mb(t,e){var n=t[In];return(n?Gc(n):t)[e]}function aL(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function gu(t){t.P||(t.P=!0,t.l&&gu(t.l))}function gb(t){t.o||(t.o=K4(t.t))}function YT(t,e,n){var r=Y4(e)?wa("MapSet").F(e,n):Z4(e)?wa("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:qT(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=f0;o&&(l=[a],u=Xm);var c=Proxy.revocable(l,u),d=c.revoke,p=c.proxy;return a.k=p,a.j=d,p}(e,n):wa("ES5").J(e,n);return(n?n.A:qT()).p.push(r),r}function Sde(t){return Qu(t)||Ao(22,t),function e(n){if(!Rl(n))return n;var r,i=n[In],s=Pp(n);if(i){if(!i.P&&(i.i<4||!wa("ES5").K(i)))return i.t;i.I=!0,r=lL(n,s),i.I=!1}else r=lL(n,s);return Oh(r,function(o,a){i&&vde(i.t,o)===a||Lz(r,o,e(a))}),s===3?new Set(r):r}(t)}function lL(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return K4(t)}function wde(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[In];return f0.get(l,s)},set:function(l){var u=this[In];f0.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][In];if(!a.P)switch(a.i){case 5:r(a)&&gu(a);break;case 4:n(a)&&gu(a)}}}function n(s){for(var o=s.t,a=s.k,l=Nf(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==In){var d=o[c];if(d===void 0&&!Rf(o,c))return!0;var p=a[c],m=p&&p[In];if(m?m.t!==d:!Dz(p,d))return!0}}var g=!!o[In];return l.length!==Nf(o).length+(g?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};_de("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var p=Array(d.length),m=0;m<d.length;m++)Object.defineProperty(p,""+m,t(m,!0));return p}var g=Fz(d);delete g[In];for(var y=Nf(g),_=0;_<y.length;_++){var v=y[_];g[v]=t(v,c||!!g[v].enumerable)}return Object.create(Object.getPrototypeOf(d),g)}(a,s),u={i:a?5:4,A:o?o.A:qT(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,In,{value:u,writable:!0}),l},S:function(s,o,a){a?Qu(o)&&o[In].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[In];if(c){var d=c.t,p=c.k,m=c.R,g=c.i;if(g===4)Oh(p,function(w){w!==In&&(d[w]!==void 0||Rf(d,w)?m[w]||l(p[w]):(m[w]=!0,gu(c)))}),Oh(d,function(w){p[w]!==void 0||Rf(p,w)||(m[w]=!1,gu(c))});else if(g===5){if(r(c)&&(gu(c),m.length=!0),p.length<d.length)for(var y=p.length;y<d.length;y++)m[y]=!1;else for(var _=d.length;_<p.length;_++)m[_]=!0;for(var v=Math.min(p.length,d.length),x=0;x<v;x++)p.hasOwnProperty(x)||(m[x]=!0),m[x]===void 0&&l(p[x])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var uL,d0,eP=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Mde=typeof Map<"u",Ede=typeof Set<"u",cL=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",kz=eP?Symbol.for("immer-nothing"):((uL={})["immer-nothing"]=!0,uL),hL=eP?Symbol.for("immer-draftable"):"__$immer_draftable",In=eP?Symbol.for("immer-state"):"__$immer_state",bde=""+Object.prototype.constructor,Nf=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Fz=Object.getOwnPropertyDescriptors||function(t){var e={};return Nf(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},ZT={},f0={get:function(t,e){if(e===In)return t;var n=Gc(t);if(!Rf(n,e))return function(i,s,o){var a,l=aL(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Rl(r)?r:r===mb(t.t,e)?(gb(t),t.o[e]=YT(t.A.h,r,t)):r},has:function(t,e){return e in Gc(t)},ownKeys:function(t){return Reflect.ownKeys(Gc(t))},set:function(t,e,n){var r=aL(Gc(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=mb(Gc(t),e),s=i==null?void 0:i[In];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(Dz(n,i)&&(n!==void 0||Rf(t.t,e)))return!0;gb(t),gu(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return mb(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,gb(t),gu(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Gc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Ao(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Ao(12)}},Xm={};Oh(f0,function(t,e){Xm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Xm.deleteProperty=function(t,e){return Xm.set.call(this,t,e,void 0)},Xm.set=function(t,e,n){return f0.set.call(this,t[0],e,n,t[0])};var Tde=function(){function t(n){var r=this;this.O=cL,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(y){var _=this;y===void 0&&(y=a);for(var v=arguments.length,x=Array(v>1?v-1:0),w=1;w<v;w++)x[w-1]=arguments[w];return l.produce(y,function(M){var b;return(b=s).call.apply(b,[_,M].concat(x))})}}var u;if(typeof s!="function"&&Ao(6),o!==void 0&&typeof o!="function"&&Ao(7),Rl(i)){var c=sL(r),d=YT(r,i,void 0),p=!0;try{u=s(d),p=!1}finally{p?Cx(c):XT(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return fb(c,o),pb(y,c)},function(y){throw Cx(c),y}):(fb(c,o),pb(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===kz&&(u=void 0),r.D&&Q4(u,!0),o){var m=[],g=[];wa("Patches").M(i,u,m,g),o(m,g)}return u}Ao(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];return r.produceWithPatches(u,function(m){return i.apply(void 0,[m].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Rl(n)||Ao(8),Qu(n)&&(n=Sde(n));var r=sL(this),i=YT(this,n,void 0);return i[In].C=!0,XT(r),i},e.finishDraft=function(n,r){var i=n&&n[In],s=i.A;return fb(s,r),pb(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!cL&&Ao(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=wa("Patches").$;return Qu(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Ts=new Tde,Uz=Ts.produce;Ts.produceWithPatches.bind(Ts);Ts.setAutoFreeze.bind(Ts);Ts.setUseProxies.bind(Ts);Ts.applyPatches.bind(Ts);Ts.createDraft.bind(Ts);Ts.finishDraft.bind(Ts);function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}function Ade(t,e){if(p0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(p0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cde(t){var e=Ade(t,"string");return p0(e)==="symbol"?e:String(e)}function Pde(t,e,n){return e=Cde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){Pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var pL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),vb=function(){return Math.random().toString(36).substring(7).split("").join(".")},Nx={INIT:"@@redux/INIT"+vb(),REPLACE:"@@redux/REPLACE"+vb(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+vb()}};function Rde(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function zz(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fi(1));return n(zz)(t,e)}if(typeof t!="function")throw new Error(fi(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(fi(3));return s}function d(y){if(typeof y!="function")throw new Error(fi(4));if(l)throw new Error(fi(5));var _=!0;return u(),a.push(y),function(){if(_){if(l)throw new Error(fi(6));_=!1,u();var x=a.indexOf(y);a.splice(x,1),o=null}}}function p(y){if(!Rde(y))throw new Error(fi(7));if(typeof y.type>"u")throw new Error(fi(8));if(l)throw new Error(fi(9));try{l=!0,s=i(s,y)}finally{l=!1}for(var _=o=a,v=0;v<_.length;v++){var x=_[v];x()}return y}function m(y){if(typeof y!="function")throw new Error(fi(10));i=y,p({type:Nx.REPLACE})}function g(){var y,_=d;return y={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(fi(11));function w(){x.next&&x.next(c())}w();var M=_(w);return{unsubscribe:M}}},y[pL]=function(){return this},y}return p({type:Nx.INIT}),r={dispatch:p,subscribe:d,getState:c,replaceReducer:m},r[pL]=g,r}function Nde(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Nx.INIT});if(typeof r>"u")throw new Error(fi(12));if(typeof n(void 0,{type:Nx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fi(13))})}function Bz(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{Nde(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},p=0;p<s.length;p++){var m=s[p],g=n[m],y=l[m],_=g(y,u);if(typeof _>"u")throw u&&u.type,new Error(fi(14));d[m]=_,c=c||_!==y}return c=c||s.length!==Object.keys(l).length,c?d:l}}function m0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Ide(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(fi(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=m0.apply(void 0,a)(i.dispatch),fL(fL({},i),{},{dispatch:s})}}}function Vz(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var jz=Vz();jz.withExtraArgument=Vz;const mL=jz;var Hz=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ode=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Jf=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Lde=Object.defineProperty,Dde=Object.defineProperties,kde=Object.getOwnPropertyDescriptors,gL=Object.getOwnPropertySymbols,Fde=Object.prototype.hasOwnProperty,Ude=Object.prototype.propertyIsEnumerable,vL=function(t,e,n){return e in t?Lde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Fu=function(t,e){for(var n in e||(e={}))Fde.call(e,n)&&vL(t,n,e[n]);if(gL)for(var r=0,i=gL(e);r<i.length;r++){var n=i[r];Ude.call(e,n)&&vL(t,n,e[n])}return t},yb=function(t,e){return Dde(t,kde(e))},zde=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},Bde=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?m0:m0.apply(null,arguments)};function Vde(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var jde=function(t){Hz(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Jf([void 0],n[0].concat(this)))):new(e.bind.apply(e,Jf([void 0],n.concat(this))))},e}(Array),Hde=function(t){Hz(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Jf([void 0],n[0].concat(this)))):new(e.bind.apply(e,Jf([void 0],n.concat(this))))},e}(Array);function KT(t){return Rl(t)?Uz(t,function(){}):t}function Wde(t){return typeof t=="boolean"}function Gde(){return function(e){return $de(e)}}function $de(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new jde;return n&&(Wde(n)?r.push(mL):r.push(mL.withExtraArgument(n.extraArgument))),r}var qde=!0;function Xde(t){var e=Gde(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,p=d===void 0?void 0:d,m;if(typeof i=="function")m=i;else if(Vde(i))m=Bz(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var y=Ide.apply(void 0,g),_=m0;l&&(_=Bde(Fu({trace:!qde},typeof l=="object"&&l)));var v=new Hde(y),x=v;Array.isArray(p)?x=Jf([y],p):typeof p=="function"&&(x=p(v));var w=_.apply(void 0,x);return zz(m,c,w)}function Uu(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Fu(Fu({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function Wz(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function Yde(t){return typeof t=="function"}function Zde(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?Wz(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(Yde(t))l=function(){return KT(t())};else{var u=KT(t);l=function(){return u}}function c(d,p){d===void 0&&(d=l());var m=Jf([s[p.type]],o.filter(function(g){var y=g.matcher;return y(p)}).map(function(g){var y=g.reducer;return y}));return m.filter(function(g){return!!g}).length===0&&(m=[a]),m.reduce(function(g,y){if(y)if(Qu(g)){var _=g,v=y(_,p);return v===void 0?g:v}else{if(Rl(g))return Uz(g,function(x){return y(x,p)});var v=y(g,p);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return g},d)}return c.getInitialState=l,c}function Kde(t,e){return t+"/"+e}function Z2(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:KT(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],p=Kde(e,c),m,g;"reducer"in d?(m=d.reducer,g=d.prepare):m=d,s[c]=m,o[p]=m,a[c]=g?Uu(p,g):Uu(p)});function l(){var c=typeof t.extraReducers=="function"?Wz(t.extraReducers):[t.extraReducers],d=c[0],p=d===void 0?{}:d,m=c[1],g=m===void 0?[]:m,y=c[2],_=y===void 0?void 0:y,v=Fu(Fu({},p),o);return Zde(n,function(x){for(var w in v)x.addCase(w,v[w]);for(var M=0,b=g;M<b.length;M++){var T=b[M];x.addMatcher(T.matcher,T.reducer)}_&&x.addDefaultCase(_)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var Qde="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Jde=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=Qde[Math.random()*64|0];return e},efe=["name","message","stack","code"],_b=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),yL=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),tfe=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=efe;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Uu(e+"/fulfilled",function(u,c,d,p){return{payload:u,meta:yb(Fu({},p||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=Uu(e+"/pending",function(u,c,d){return{payload:void 0,meta:yb(Fu({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Uu(e+"/rejected",function(u,c,d,p,m){return{payload:p,error:(r&&r.serializeError||tfe)(u||"Rejected"),meta:yb(Fu({},m||{}),{arg:d,requestId:c,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,p){var m=r!=null&&r.idGenerator?r.idGenerator(u):Jde(),g=new a,y;function _(x){y=x,g.abort()}var v=function(){return zde(this,null,function(){var x,w,M,b,T,C,I;return Ode(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),b=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,u,{getState:d,extra:p}),rfe(b)?[4,b]:[3,2];case 1:b=R.sent(),R.label=2;case 2:if(b===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return T=new Promise(function(N,z){return g.signal.addEventListener("abort",function(){return z({name:"AbortError",message:y||"Aborted"})})}),c(s(m,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:m,arg:u},{getState:d,extra:p}))),[4,Promise.race([T,Promise.resolve(n(u,{dispatch:c,getState:d,extra:p,requestId:m,signal:g.signal,abort:_,rejectWithValue:function(N,z){return new _b(N,z)},fulfillWithValue:function(N,z){return new yL(N,z)}})).then(function(N){if(N instanceof _b)throw N;return N instanceof yL?i(N.payload,m,u,N.meta):i(N,m,u)})])];case 3:return M=R.sent(),[3,5];case 4:return C=R.sent(),M=C instanceof _b?o(null,m,u,C.payload,C.meta):o(C,m,u),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&o.match(M)&&M.meta.condition,I||c(M),[2,M]}})})}();return Object.assign(v,{abort:_,requestId:m,arg:u,unwrap:function(){return v.then(nfe)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function nfe(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function rfe(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var tP="listenerMiddleware";Uu(tP+"/add");Uu(tP+"/removeAll");Uu(tP+"/remove");var _L;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);wde();const ife={user:null,isLoading:!1,error:null,refreshTokenId:null},Gz=Z2({name:"user",initialState:ife,reducers:{setUser:(t,e)=>{t.user=e.payload},setIsUserLoading:(t,e)=>{t.isLoading=e.payload},setUserError:(t,e)=>{t.error=e.payload},resetUserError:t=>{t.error=null},setRefreshTokenId:(t,e)=>{t.refreshTokenId=e.payload}}}),ed=t=>t.user,{setUser:xv,setRefreshTokenId:x3e,setUserError:$z,resetUserError:qz,setIsUserLoading:ma}=Gz.actions,sfe=Gz.reducer;function Mo({warning:t,touched:e}){return O.jsx(O.Fragment,{children:t&&e&&O.jsxs("div",{className:"text-red-500 text-xs font-semibold shadow-xl",children:[O.jsx("span",{className:"pr-1",children:"•"}),t]})})}function ofe(t){return wn({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 8c0-0.19 0.011-0.378 0.032-0.563l-2.89-0.939c-0.092 0.487-0.141 0.989-0.141 1.502 0 2.3 0.971 4.374 2.526 5.833l1.786-2.458c-0.814-0.889-1.312-2.074-1.312-3.375zM13 8c0 1.301-0.497 2.486-1.312 3.375l1.786 2.458c1.555-1.459 2.526-3.533 2.526-5.833 0-0.513-0.049-1.015-0.141-1.502l-2.89 0.939c0.021 0.185 0.032 0.373 0.032 0.563zM9 3.1c1.436 0.292 2.649 1.199 3.351 2.435l2.89-0.939c-1.144-2.428-3.473-4.188-6.241-4.534v3.038zM3.649 5.535c0.702-1.236 1.914-2.143 3.351-2.435v-3.038c-2.769 0.345-5.097 2.105-6.241 4.534l2.89 0.939zM10.071 12.552c-0.631 0.288-1.332 0.448-2.071 0.448s-1.44-0.16-2.071-0.448l-1.786 2.458c1.144 0.631 2.458 0.99 3.857 0.99s2.713-0.359 3.857-0.99l-1.786-2.458z"}}]})(t)}function Ix({size:t}){return O.jsx("div",{className:"flex items-center justify-center",children:O.jsx(ofe,{size:t,className:"animate-spin"})})}function afe({setIsOpen:t}){const e=ei(),{error:n,isLoading:r}=Ut(ed),i=fz({initialValues:{email:"",password:"",errors:null},validationSchema:Nhe,onSubmit:async s=>{try{e({type:To.LOGIN_ASYNC,payload:{email:s.email,password:s.password}})}catch{i.setErrors({errors:"Invalid email or password"})}}});return O.jsxs("div",{children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("h2",{className:"text-2xl opacity-90 mb-4 text-white",children:"Login"}),O.jsx("button",{type:"button",onClick:()=>t(!1),className:"text-white font-caps mb-4 opacity-80 hover:opacity-100",children:"X"})]}),O.jsxs("form",{className:"text-white gap-8 flex flex-col",onSubmit:i.handleSubmit,children:[O.jsxs("div",{className:"flex flex-col gap-2",children:[O.jsx("label",{className:"font-caps uppercase",htmlFor:"email",children:"Email"}),O.jsx("input",{onChange:i.handleChange,value:i.values.email,name:"email",className:pl,type:"email",placeholder:"example@example.com",required:!0})]}),O.jsxs("div",{className:"",children:[Array.isArray(n)&&n.map((s,o)=>{if(s.toLowerCase().includes("user"))return O.jsx(P.Fragment,{children:O.jsx(Mo,{touched:!0,warning:s})},o)}),i.errors.errors&&O.jsx(Mo,{touched:!0,warning:i.errors.errors})]}),O.jsxs("div",{className:"flex flex-col gap-2",children:[O.jsx("label",{className:"font-caps uppercase",htmlFor:"email",children:"Password"}),O.jsx("input",{onChange:i.handleChange,value:i.values.password,name:"password",className:pl,type:"password",placeholder:"••••••••••"})]}),O.jsxs("div",{className:"m-0",children:[Array.isArray(n)&&n.map((s,o)=>{if(s.toLowerCase().includes("password"))return O.jsx(P.Fragment,{children:O.jsx(Mo,{touched:!0,warning:s})},o)}),i.errors.errors&&O.jsx(Mo,{touched:!0,warning:i.errors.errors})]}),O.jsx("button",{type:"submit",className:"hover:bg-gray-800 py-2 active:scale-105 transition-all duration-300 rounded-xl bg-opacity-80 bg-gray-900",children:r?O.jsx(Ix,{size:20}):"Sign in"})]})]})}const xL=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,lfe=vo({username:Fr().required("Username can't be empty").min(6).matches(/^[a-zA-Z0-9]+$/,"Username name must contain only letters and numbers"),password:Fr().required("Password can't be empty").min(8).matches(xL,"Password must contain at least 8 characters, one uppercase, one lowercase, one number and one special case character"),reEnterPassword:Fr().required("Please re-enter your password").min(8,"Password is too short").matches(xL,"Password must contain at least 8 characters, one uppercase, one lowercase, one number and one special case character").oneOf([mhe("password")],"Passwords do not match"),email:Fr().required("Email can't be empty").email("Email must be valid email")});function ufe({setIsOpen:t}){const e=ei(),{error:n,isLoading:r}=Ut(ed),i=fz({initialValues:{email:"",username:"",password:"",reEnterPassword:"",errors:null},validationSchema:lfe,onSubmit:async s=>{const{username:o,email:a,password:l}=s;try{e({type:To.REGISTER_ASYNC,payload:{username:o,email:a,password:l}})}catch(u){i.setErrors({errors:u.message})}}});return O.jsxs("div",{children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("h2",{className:"text-2xl opacity-90 mb-4 text-white",children:"Register"}),O.jsx("button",{type:"button",onClick:()=>t(!1),className:"text-white font-caps mb-4 opacity-80 hover:opacity-100",children:"X"})]}),O.jsxs("form",{className:"text-white gap-8 flex flex-col",onSubmit:i.handleSubmit,children:[O.jsxs("div",{className:"flex flex-col gap-2",children:[O.jsx("label",{className:"font-caps uppercase",htmlFor:"email",children:"Email"}),O.jsx("input",{onChange:i.handleChange,onBlur:i.handleBlur,value:i.values.email,id:"email",name:"email",className:pl,type:"email",placeholder:"example@example.com",required:!0})]}),O.jsxs("div",{children:[n&&n.map((s,o)=>{if(s.toLowerCase().includes("email"))return O.jsx(P.Fragment,{children:O.jsx(Mo,{warning:s,touched:!0})},o)}),O.jsx(Mo,{warning:i.errors.email,touched:i.touched.email})]}),O.jsxs("div",{className:"flex flex-col gap-2",children:[O.jsx("label",{className:"font-caps uppercase",htmlFor:"email",children:"Username"}),O.jsx("input",{onChange:i.handleChange,value:i.values.username,onBlur:i.handleBlur,id:"username",name:"username",className:pl,type:"username",placeholder:"JohnDoe",required:!0})]}),O.jsxs("div",{children:[n&&n.map((s,o)=>{if(s.toLowerCase().includes("username"))return O.jsx(P.Fragment,{children:O.jsx(Mo,{warning:s,touched:!0})},o)}),O.jsx(Mo,{warning:i.errors.username,touched:i.touched.username})]}),O.jsxs("div",{className:"flex flex-col gap-2",children:[O.jsx("label",{className:"font-caps uppercase",htmlFor:"email",children:"Password"}),O.jsx("input",{id:"password",onChange:i.handleChange,onBlur:i.handleBlur,value:i.values.password,name:"password",className:pl,type:"password",placeholder:"••••••••••"})]}),O.jsx(Mo,{warning:i.errors.password,touched:i.touched.password}),O.jsxs("div",{className:"flex flex-col gap-2",children:[O.jsx("label",{className:"font-caps uppercase",htmlFor:"email",children:"Re-enter Password"}),O.jsx("input",{id:"reEnterPassword",onChange:i.handleChange,onBlur:i.handleBlur,value:i.values.reEnterPassword,name:"reEnterPassword",className:pl,type:"password",placeholder:"••••••••••"})]}),O.jsx(Mo,{warning:i.errors.reEnterPassword,touched:i.touched.reEnterPassword}),O.jsx("button",{type:"submit",disabled:i.isSubmitting||!i.isValid,className:`${!i.isValid||i.isSubmitting?"bg-gray-500":"bg-gray-900 hover:bg-gray-800 active:scale-105"} py-2  transition-all duration-300 rounded-xl bg-opacity-80 `,children:r?O.jsx(Ix,{size:20}):"Create Account"})]})]})}function cfe(t){return wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M112 111v290c0 17.44 17 28.52 31 20.16l247.9-148.37c12.12-7.25 12.12-26.33 0-33.58L143 90.84c-14-8.36-31 2.72-31 20.16z"}}]})(t)}function hfe(t){return wn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"}}]})(t)}function dfe(t){return wn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"}}]})(t)}function ffe(t){return wn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"}}]})(t)}function pfe(t){return wn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 6.64a1 1 0 0 0-1.243-.97l-1 .25A1 1 0 0 0 8 6.89v4.306A2.572 2.572 0 0 0 7 11c-.5 0-.974.134-1.338.377-.36.24-.662.628-.662 1.123s.301.883.662 1.123c.364.243.839.377 1.338.377.5 0 .974-.134 1.338-.377.36-.24.662-.628.662-1.123V8.89l2-.5V6.64z"}},{tag:"path",attr:{d:"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"}}]})(t)}function mfe(t){return wn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.68 5.792 7.345 7.75 5.681 9.708a2.75 2.75 0 1 1 0-3.916ZM8 6.978 6.416 5.113l-.014-.015a3.75 3.75 0 1 0 0 5.304l.014-.015L8 8.522l1.584 1.865.014.015a3.75 3.75 0 1 0 0-5.304l-.014.015L8 6.978Zm.656.772 1.663-1.958a2.75 2.75 0 1 1 0 3.916L8.656 7.75Z"}}]})(t)}function gfe(t){return wn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"}}]})(t)}function vfe(){const t=Ut(ed),e="ATMOSPHERE",[n,r]=P.useState(!1),[i,s]=P.useState(!1),[o,a]=P.useState(!1),[l,u]=P.useState(!1),[c,d]=P.useState(!1),p=()=>{r(!0)},m=()=>{s(!0)},g=()=>{a(!0)};return O.jsxs(O.Fragment,{children:[O.jsx(aU,{children:O.jsxs("div",{className:`${n&&i&&o&&"animate-pulse"}`,children:[O.jsx("h1",{onAnimationEnd:g,className:"text-white font-title text-9xl animation-up",children:e.split("").map((y,_)=>O.jsx("span",{style:{animation:o?"none":`fade-in-stunted 5s ${_/10}s forwards`,opacity:o?.75:0},children:y},_))}),O.jsx("div",{className:"flex justify-between",children:t.user?O.jsxs(O.Fragment,{children:[O.jsx("div",{onAnimationEnd:m,className:`uppercase ${i?"opacity-75 hover:opacity-100":"opacity-0 animation-login-buttons"} font-caps text-5xl`,children:O.jsx(mx,{to:"/app",children:O.jsx(cfe,{className:"animate-pulse",size:80})})}),O.jsx("div",{onAnimationEnd:m,className:`uppercase ${i?"opacity-75 hover:opacity-100":"opacity-0 animation-login-buttons"} font-caps text-5xl`,children:O.jsx(mx,{to:"/app",children:O.jsx(dfe,{className:"animate-pulse",size:80})})})]}):O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:()=>u(!l),onAnimationEnd:p,className:`uppercase ${n?"hover:opacity-100 opacity-75":"opacity-0 animation-login-buttons"} font-caps text-5xl `,children:"Login"}),O.jsx("button",{onClick:()=>d(!c),onAnimationEnd:m,className:`uppercase ${i?"opacity-75 hover:opacity-100":"opacity-0 animation-login-buttons"} font-caps text-5xl`,children:"Register"})]})})]})}),O.jsx(pg,{setIsOpen:u,isOpen:l,children:O.jsx(afe,{setIsOpen:u})}),O.jsx(pg,{setIsOpen:d,isOpen:c,children:O.jsx(ufe,{setIsOpen:d})})]})}function SL(t){return wn({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"}}]})(t)}function wL(t){return wn({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}}]})(t)}function ML(t){return wn({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-7a2 2 0 012-2h2m3-4H9a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-1m-1 4l-3 3m0 0l-3-3m3 3V3"}}]})(t)}function EL(t){return wn({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"}}]})(t)}const yfe={error:null,token:localStorage.getItem("jwt"),appLoaded:!0,saveModalOpen:!1,loadSongModalOpen:!1,songToLoad:null,songToDelete:null,deleteSongModalOpen:!1},Xz=Z2({name:"common",initialState:yfe,reducers:{setToken:(t,e)=>{t.token=e.payload},setError:(t,e)=>{t.error=e.payload},setAppLoaded:(t,e)=>{t.appLoaded=e.payload},setSaveModalOpen:(t,e)=>{t.saveModalOpen=e.payload},setLoadSongModalOpen:(t,e)=>{t.loadSongModalOpen=e.payload},setSongToLoad:(t,e)=>{t.songToLoad=e.payload},setDeleteSongModalOpen:(t,e)=>{t.deleteSongModalOpen=e.payload},setSongToDelete:(t,e)=>{t.songToDelete=e.payload}}}),nP=t=>t.common,{setToken:K2,setError:S3e,setAppLoaded:w3e,setSaveModalOpen:ep,setLoadSongModalOpen:g0,setDeleteSongModalOpen:Q2,setSongToDelete:_fe,setSongToLoad:xfe}=Xz.actions,Sfe=Xz.reducer,Xr={GET_SONG_LIST_ASYNC:"GET_SONG_LIST_ASYNC",LOAD_SONG_TO_CURRENT_ASYNC:"LOAD_SONG_TO_CURRENT",SET_NEW_SONG_ASYNC:"SET_NEW_SONG_ASYNC",CREATE_NEW_SONG_ASYNC:"CREATE_NEW_SONG_ASYNC",UPDATE_SONG_ASYNC:"UPDATE_SONG_ASYNC",DELETE_SONG_ASYNC:"DELETE_SONG_ASYNC",SET_SONG_BPM_ASYNC:"SET_SONG_BPM_ASYNC",SET_MASTER_VOLUME_ASYNC:"SET_MASTER_VOLUME_ASYNC",SET_CURRENT_SONG_PATTERN_KEY:"SET_CURRENT_SONG_PATTERN_KEY"};function wfe(){const t=ei(),{user:e}=Ut(ed),n=()=>t({type:Xr.SET_NEW_SONG_ASYNC}),r=()=>t(ep(!0)),i=()=>t(ep(!0)),s=()=>t({type:To.LOGOUT_ASYNC});return O.jsxs(kc,{as:"div",className:"relative inline-block text-left",children:[O.jsx("div",{children:O.jsx(kc.Button,{className:"rounded-full border-2 shadow-lg shadow-gray-500 transition-all transform duration-400 hover:shadow-gray-400 hover:bg-gray-950 text-white flex items-center justify-center font-caps  h-16 w-16 text-xl bg-black",children:e==null?void 0:e.username[0].toUpperCase()})}),O.jsx(fg,{as:P.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:O.jsxs(kc.Items,{className:"absolute  mt-2 w-56 origin-top-right divide-y right-0 divide-gray-700 shadow-gray-500 rounded-md bg-gray-900 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[O.jsx("div",{className:"px-1 py-1 ",children:O.jsx(P.Fragment,{children:O.jsx(kc.Item,{children:({active:o})=>O.jsxs("button",{className:`${o?"bg-blue-500 text-white":"text-gray-200"} group flex w-full items-center rounded-md px-2 py-2 text-sm`,onClick:n,children:[o?O.jsx(wL,{className:"mr-2 h-5 w-5","aria-hidden":"true"}):O.jsx(wL,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"New Song"]})})})}),O.jsxs("div",{className:"px-1 py-1 ",children:[O.jsx(P.Fragment,{children:O.jsx(kc.Item,{children:({active:o})=>O.jsxs("button",{className:`${o?"bg-blue-500 text-white":"text-gray-200"} group flex w-full items-center rounded-md px-2 py-2 text-sm`,onClick:r,children:[o?O.jsx(EL,{className:"mr-2 h-5 w-5","aria-hidden":"true"}):O.jsx(EL,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Save Song"]})})}),O.jsx(P.Fragment,{children:O.jsx(kc.Item,{children:({active:o})=>O.jsxs("button",{className:`${o?"bg-blue-500 text-white":"text-gray-200"} group flex w-full items-center rounded-md px-2 py-2 text-sm`,onClick:i,children:[o?O.jsx(ML,{className:"mr-2 h-5 w-5","aria-hidden":"true"}):O.jsx(ML,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Save Song As"]})})})]}),O.jsx("div",{className:"px-1 py-1 ",children:O.jsx(P.Fragment,{children:O.jsx(kc.Item,{children:({active:o})=>O.jsxs("button",{className:`${o?"bg-blue-500 text-white":"text-gray-200"} group flex w-full items-center rounded-md px-2 py-2 text-sm`,onClick:s,children:[o?O.jsx(SL,{className:"mr-2 h-5 w-5","aria-hidden":"true"}):O.jsx(SL,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Logout"]})})})})]})})]})}function Mfe(){const{songName:t}=Ut(r=>r.song.currentSong),{user:e}=Ut(ed),n=t||"Untitled";return O.jsxs("header",{className:"flex bg-black shadow-2xl rounded-xl px-2 shadow-gray-800 font-caps items-center justify-between",children:[O.jsx("div",{className:"flex items-center gap-4",children:O.jsx("div",{className:"border-2 border-white bg-black bg-opacity-90 p-2 font-title text-xl text-white shadow-xl",children:O.jsx(mx,{to:"/",children:"Atmosphere"})})}),O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsxs("h2",{className:"text-gray-200",children:["Song: ",n]}),O.jsxs("h2",{className:"text-gray-200",children:["User: ",e.username]}),O.jsx(wfe,{})]})]})}function Efe({children:t}){return O.jsxs("div",{className:"p-6 min-h-screen flex flex-col",children:[O.jsx(Mfe,{}),O.jsx("div",{className:"grid flex-grow lg:grid-cols-12 gap-4 text-white mt-4",children:t})]})}const Yz="14.7.77",bL=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),TL=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),QT=(t,e)=>({startTime:e,type:"setValue",value:t}),Zz=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),Kz=(t,e,{startTime:n,target:r,timeConstant:i})=>r+(e-r)*Math.exp((n-t)/i),_f=t=>t.type==="exponentialRampToValue",Ox=t=>t.type==="linearRampToValue",du=t=>_f(t)||Ox(t),rP=t=>t.type==="setValue",rl=t=>t.type==="setValueCurve",Lx=(t,e,n,r)=>{const i=t[e];return i===void 0?r:du(i)||rP(i)?i.value:rl(i)?i.values[i.values.length-1]:Kz(n,Lx(t,e-1,i.startTime,r),i)},AL=(t,e,n,r,i)=>n===void 0?[r.insertTime,i]:du(n)?[n.endTime,n.value]:rP(n)?[n.startTime,n.value]:rl(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Lx(t,e-1,n.startTime,i)],JT=t=>t.type==="cancelAndHold",eA=t=>t.type==="cancelScheduledValues",su=t=>JT(t)||eA(t)?t.cancelTime:_f(t)||Ox(t)?t.endTime:t.startTime,CL=(t,e,n,{endTime:r,value:i})=>n===i?i:0<n&&0<i||n<0&&i<0?n*(i/n)**((t-e)/(r-e)):0,PL=(t,e,n,{endTime:r,value:i})=>n+(t-e)/(r-e)*(i-n),bfe=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},Tfe=(t,{duration:e,startTime:n,values:r})=>{const i=(t-n)/e*(r.length-1);return bfe(r,i)},qy=t=>t.type==="setTarget";class Afe{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=su(e);if(JT(e)||eA(e)){const r=this._automationEvents.findIndex(s=>eA(e)&&rl(s)?s.startTime+s.duration>=n:su(s)>=n),i=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),JT(e)){const s=this._automationEvents[this._automationEvents.length-1];if(i!==void 0&&du(i)){if(s!==void 0&&qy(s))throw new Error("The internal list is malformed.");const o=s===void 0?i.insertTime:rl(s)?s.startTime+s.duration:su(s),a=s===void 0?this._defaultValue:rl(s)?s.values[s.values.length-1]:s.value,l=_f(i)?CL(n,o,a,i):PL(n,o,a,i),u=_f(i)?bL(l,n,this._currenTime):TL(l,n,this._currenTime);this._automationEvents.push(u)}if(s!==void 0&&qy(s)&&this._automationEvents.push(QT(this.getValue(n),n)),s!==void 0&&rl(s)&&s.startTime+s.duration>n){const o=n-s.startTime,a=(s.values.length-1)/s.duration,l=Math.max(2,1+Math.ceil(o*a)),u=o/(l-1)*a,c=s.values.slice(0,l);if(u<1)for(let d=1;d<l;d+=1){const p=u*d%1;c[d]=s.values[d-1]*(1-p)+s.values[d]*p}this._automationEvents[this._automationEvents.length-1]=Zz(c,s.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>su(o)>n),i=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(i!==void 0&&rl(i)&&su(i)+i.duration>n)return!1;const s=_f(e)?bL(e.value,e.endTime,this._currenTime):Ox(e)?TL(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(s);else{if(rl(e)&&n+e.duration>su(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,s)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>su(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),i=r[0];qy(i)&&r.unshift(QT(Lx(this._automationEvents,n-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>su(o)>e),r=this._automationEvents[n],i=(n===-1?this._automationEvents.length:n)-1,s=this._automationEvents[i];if(s!==void 0&&qy(s)&&(r===void 0||!du(r)||r.insertTime>e))return Kz(e,Lx(this._automationEvents,i-1,s.startTime,this._defaultValue),s);if(s!==void 0&&rP(s)&&(r===void 0||!du(r)))return s.value;if(s!==void 0&&rl(s)&&(r===void 0||!du(r)||s.startTime+s.duration>e))return e<s.startTime+s.duration?Tfe(e,s):s.values[s.values.length-1];if(s!==void 0&&du(s)&&(r===void 0||!du(r)))return s.value;if(r!==void 0&&_f(r)){const[o,a]=AL(this._automationEvents,i,s,r,this._defaultValue);return CL(e,o,a,r)}if(r!==void 0&&Ox(r)){const[o,a]=AL(this._automationEvents,i,s,r,this._defaultValue);return PL(e,o,a,r)}return this._defaultValue}}const Cfe=t=>({cancelTime:t,type:"cancelAndHold"}),Pfe=t=>({cancelTime:t,type:"cancelScheduledValues"}),Rfe=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),Nfe=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),Ife=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),Ofe=()=>new DOMException("","AbortError"),Lfe=t=>(e,n,[r,i,s],o)=>{t(e[i],[n,r,s],a=>a[0]===n&&a[1]===r,o)},Dfe=t=>(e,n,r)=>{const i=[];for(let s=0;s<r.numberOfInputs;s+=1)i.push(new Set);t.set(e,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},kfe=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},tp=new WeakSet,Qz=new WeakMap,iP=new WeakMap,Jz=new WeakMap,sP=new WeakMap,J2=new WeakMap,eB=new WeakMap,tA=new WeakMap,nA=new WeakMap,rA=new WeakMap,tB={construct(){return tB}},Ffe=t=>{try{const e=new Proxy(t,tB);new e}catch{return!1}return!0},RL=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,NL=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),i=r.match(RL);for(;i!==null;){const s=i[1].slice(1,-1),o=i[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,e).toString());n.push(o),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(RL)}return[n.join(";"),r]},IL=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},OL=t=>{if(!Ffe(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Ufe=(t,e,n,r,i,s,o,a,l,u,c,d,p)=>{let m=0;return(g,y,_={credentials:"omit"})=>{const v=c.get(g);if(v!==void 0&&v.has(y))return Promise.resolve();const x=u.get(g);if(x!==void 0){const b=x.get(y);if(b!==void 0)return b}const w=s(g),M=w.audioWorklet===void 0?i(y).then(([b,T])=>{const[C,I]=NL(b,T),R=`${C};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${I}
})})(window,'_AWGS')`;return n(R)}).then(()=>{const b=p._AWGS.pop();if(b===void 0)throw new SyntaxError;r(w.currentTime,w.sampleRate,()=>b(class{},void 0,(T,C)=>{if(T.trim()==="")throw e();const I=nA.get(w);if(I!==void 0){if(I.has(T))throw e();OL(C),IL(C.parameterDescriptors),I.set(T,C)}else OL(C),IL(C.parameterDescriptors),nA.set(w,new Map([[T,C]]))},w.sampleRate,void 0,void 0))}):Promise.all([i(y),Promise.resolve(t(d,d))]).then(([[b,T],C])=>{const I=m+1;m=I;const[R,N]=NL(b,T),K=`${R};((AudioWorkletProcessor,registerProcessor)=>{${N}
})(${C?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${C?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${C?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${I}',class extends AudioWorkletProcessor{process(){return !1}})`,J=new Blob([K],{type:"application/javascript; charset=utf-8"}),ne=URL.createObjectURL(J);return w.audioWorklet.addModule(ne,_).then(()=>{if(a(w))return w;const ee=o(w);return ee.audioWorklet.addModule(ne,_).then(()=>ee)}).then(ee=>{if(l===null)throw new SyntaxError;try{new l(ee,`__sac${I}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(ne))});return x===void 0?u.set(g,new Map([[y,M]])):x.set(y,M),M.then(()=>{const b=c.get(g);b===void 0?c.set(g,new Set([y])):b.add(y)}).finally(()=>{const b=u.get(g);b!==void 0&&b.delete(y)}),M}},Bo=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},ew=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},nB=(t,e,n,r)=>{const i=Bo(t,e),s=ew(i,o=>o[0]===n&&o[1]===r);return i.size===0&&t.delete(e),s},Sv=t=>Bo(eB,t),np=t=>{if(tp.has(t))throw new Error("The AudioNode is already stored.");tp.add(t),Sv(t).forEach(e=>e(!0))},rB=t=>"port"in t,wv=t=>{if(!tp.has(t))throw new Error("The AudioNode is not stored.");tp.delete(t),Sv(t).forEach(e=>e(!1))},iA=(t,e)=>{!rB(t)&&e.every(n=>n.size===0)&&wv(t)},zfe=(t,e,n,r,i,s,o,a,l,u,c,d,p)=>{const m=new WeakMap;return(g,y,_,v,x)=>{const{activeInputs:w,passiveInputs:M}=s(y),{outputs:b}=s(g),T=a(g),C=I=>{const R=l(y),N=l(g);if(I){const z=nB(M,g,_,v);t(w,g,z,!1),!x&&!d(g)&&n(N,R,_,v),p(y)&&np(y)}else{const z=r(w,g,_,v);e(M,v,z,!1),!x&&!d(g)&&i(N,R,_,v);const V=o(y);if(V===0)c(y)&&iA(y,w);else{const W=m.get(y);W!==void 0&&clearTimeout(W),m.set(y,setTimeout(()=>{c(y)&&iA(y,w)},V*1e3))}}};return u(b,[y,_,v],I=>I[0]===y&&I[1]===_&&I[2]===v,!0)?(T.add(C),c(g)?t(w,g,[_,v,C],!0):e(M,v,[g,_,C],!0),!0):!1}},Bfe=t=>(e,n,[r,i,s],o)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[i,n,s]])):t(a,[i,n,s],l=>l[0]===i&&l[1]===n,o)},Vfe=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()};n.addEventListener("ended",i)},jfe=t=>(e,n)=>{t(e).add(n)},Hfe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Wfe=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=i(a),c={...Hfe,...l},d=r(u,c),p=s(u)?e():null;super(a,!1,d,p),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},yi=(t,e)=>t.context===e,Gfe=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!yi(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return r.set(o,a),await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},Dx=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Ia=()=>new DOMException("","IndexSizeError"),oP=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?Ia():r}})(t.getChannelData)},$fe={numberOfChannels:1},qfe=(t,e,n,r,i,s,o,a)=>{let l=null;return class iB{constructor(c){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:p,sampleRate:m}={...$fe,...c};l===null&&(l=new i(1,1,44100));const g=r!==null&&e(s,s)?new r({length:d,numberOfChannels:p,sampleRate:m}):l.createBuffer(p,d,m);if(g.numberOfChannels===0)throw n();return typeof g.copyFromChannel!="function"?(o(g),oP(g)):e(Dx,()=>Dx(g))||a(g),t.add(g),g}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===iB.prototype||t.has(c)}}},Wi=-34028234663852886e22,Ei=-Wi,Sl=t=>tp.has(t),Xfe={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Yfe=(t,e,n,r,i,s,o,a)=>class extends t{constructor(u,c){const d=s(u),p={...Xfe,...c},m=i(d,p),g=o(d),y=g?e():null;super(u,!1,m,y),this._audioBufferSourceNodeRenderer=y,this._isBufferNullified=!1,this._isBufferSet=p.buffer!==null,this._nativeAudioBufferSourceNode=m,this._onended=null,this._playbackRate=n(this,g,m.playbackRate,Ei,Wi)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const c=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=c;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===c?u:d}get playbackRate(){return this._playbackRate}start(u=0,c=0,d){if(this._nativeAudioBufferSourceNode.start(u,c,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[u,c]:[u,c,d]),this.context.state!=="closed"){np(this);const p=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",p),Sl(this)&&wv(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",p)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},Zfe=(t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let d=n(u);const p=yi(d,c);if(!p){const m={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(c,m),o!==null&&d.start(...o),a!==null&&d.stop(a)}return s.set(c,d),p?await t(c,u.playbackRate,d.playbackRate):await r(c,u.playbackRate,d.playbackRate),await i(u,c,d),d};return{set start(u){o=u},set stop(u){a=u},render(u,c){const d=s.get(c);return d!==void 0?Promise.resolve(d):l(u,c)}}},Kfe=t=>"playbackRate"in t,Qfe=t=>"frequency"in t&&"gain"in t,Jfe=t=>"offset"in t,epe=t=>!("frequency"in t)&&"gain"in t,tpe=t=>"detune"in t&&"frequency"in t,npe=t=>"pan"in t,Ai=t=>Bo(Qz,t),Mv=t=>Bo(Jz,t),sA=(t,e)=>{const{activeInputs:n}=Ai(t);n.forEach(i=>i.forEach(([s])=>{e.includes(t)||sA(s,[...e,t])}));const r=Kfe(t)?[t.playbackRate]:rB(t)?Array.from(t.parameters.values()):Qfe(t)?[t.Q,t.detune,t.frequency,t.gain]:Jfe(t)?[t.offset]:epe(t)?[t.gain]:tpe(t)?[t.detune,t.frequency]:npe(t)?[t.pan]:[];for(const i of r){const s=Mv(i);s!==void 0&&s.activeInputs.forEach(([o])=>sA(o,e))}Sl(t)&&wv(t)},sB=t=>{sA(t.destination,[])},rpe=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),ipe=(t,e,n,r,i,s,o,a,l)=>class extends t{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new l(c)}catch(g){throw g.code===12&&g.message==="sampleRate is not in range"?n():g}if(d===null)throw r();if(!rpe(c.latencyHint))throw new TypeError(`The provided value '${c.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(c.sampleRate!==void 0&&d.sampleRate!==c.sampleRate)throw n();super(d,2);const{latencyHint:p}=c,{sampleRate:m}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:p==="balanced"?512/m:p==="interactive"||p===void 0?256/m:p==="playback"?1024/m:Math.max(2,Math.min(128,Math.round(p*m/128)))*128/m,this._nativeAudioContext=d,l.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";const g=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",g)};d.addEventListener("statechange",g)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),sB(this)}))}createMediaElementSource(c){return new i(this,{mediaElement:c})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(c){return new o(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new a(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,d)=>{const p=()=>{this._nativeAudioContext.removeEventListener("statechange",p),this._nativeAudioContext.state==="running"?c():this.resume().then(c,d)};this._nativeAudioContext.addEventListener("statechange",p)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?e():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?e():c})}},spe=(t,e,n,r,i,s,o,a)=>class extends t{constructor(u,c){const d=s(u),p=o(d),m=i(d,c,p),g=p?e(a):null;super(u,!1,m,g),this._isNodeOfNativeOfflineAudioContext=p,this._nativeAudioDestinationNode=m}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},ope=t=>{const e=new WeakMap,n=async(r,i)=>{const s=i.destination;return e.set(i,s),await t(r,i,s),s};return{render(r,i){const s=e.get(i);return s!==void 0?Promise.resolve(s):n(r,i)}}},ape=(t,e,n,r,i,s,o,a)=>(l,u)=>{const c=u.listener,d=()=>{const b=new Float32Array(1),T=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),C=o(u);let I=!1,R=[0,0,-1,0,1,0],N=[0,0,0];const z=()=>{if(I)return;I=!0;const J=r(u,256,9,0);J.onaudioprocess=({inputBuffer:ne})=>{const ee=[s(ne,b,0),s(ne,b,1),s(ne,b,2),s(ne,b,3),s(ne,b,4),s(ne,b,5)];ee.some((j,H)=>j!==R[H])&&(c.setOrientation(...ee),R=ee);const F=[s(ne,b,6),s(ne,b,7),s(ne,b,8)];F.some((j,H)=>j!==N[H])&&(c.setPosition(...F),N=F)},T.connect(J)},V=J=>ne=>{ne!==R[J]&&(R[J]=ne,c.setOrientation(...R))},W=J=>ne=>{ne!==N[J]&&(N[J]=ne,c.setPosition(...N))},K=(J,ne,ee)=>{const F=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ne});F.connect(T,0,J),F.start(),Object.defineProperty(F.offset,"defaultValue",{get(){return ne}});const j=t({context:l},C,F.offset,Ei,Wi);return a(j,"value",H=>()=>H.call(j),H=>D=>{try{H.call(j,D)}catch(U){if(U.code!==9)throw U}z(),C&&ee(D)}),j.cancelAndHoldAtTime=(H=>C?()=>{throw i()}:(...D)=>{const U=H.apply(j,D);return z(),U})(j.cancelAndHoldAtTime),j.cancelScheduledValues=(H=>C?()=>{throw i()}:(...D)=>{const U=H.apply(j,D);return z(),U})(j.cancelScheduledValues),j.exponentialRampToValueAtTime=(H=>C?()=>{throw i()}:(...D)=>{const U=H.apply(j,D);return z(),U})(j.exponentialRampToValueAtTime),j.linearRampToValueAtTime=(H=>C?()=>{throw i()}:(...D)=>{const U=H.apply(j,D);return z(),U})(j.linearRampToValueAtTime),j.setTargetAtTime=(H=>C?()=>{throw i()}:(...D)=>{const U=H.apply(j,D);return z(),U})(j.setTargetAtTime),j.setValueAtTime=(H=>C?()=>{throw i()}:(...D)=>{const U=H.apply(j,D);return z(),U})(j.setValueAtTime),j.setValueCurveAtTime=(H=>C?()=>{throw i()}:(...D)=>{const U=H.apply(j,D);return z(),U})(j.setValueCurveAtTime),j};return{forwardX:K(0,0,V(0)),forwardY:K(1,0,V(1)),forwardZ:K(2,-1,V(2)),positionX:K(6,0,W(0)),positionY:K(7,0,W(1)),positionZ:K(8,0,W(2)),upX:K(3,0,V(3)),upY:K(4,1,V(4)),upZ:K(5,0,V(5))}},{forwardX:p,forwardY:m,forwardZ:g,positionX:y,positionY:_,positionZ:v,upX:x,upY:w,upZ:M}=c.forwardX===void 0?d():c;return{get forwardX(){return p},get forwardY(){return m},get forwardZ(){return g},get positionX(){return y},get positionY(){return _},get positionZ(){return v},get upX(){return x},get upY(){return w},get upZ(){return M}}},kx=t=>"context"in t,Ev=t=>kx(t[0]),td=(t,e,n,r)=>{for(const i of t)if(n(i)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},LL=(t,e,[n,r],i)=>{td(t,[e,n,r],s=>s[0]===e&&s[1]===n,i)},DL=(t,[e,n,r],i)=>{const s=t.get(e);s===void 0?t.set(e,new Set([[n,r]])):td(s,[n,r],o=>o[0]===n,i)},Rp=t=>"inputs"in t,Fx=(t,e,n,r)=>{if(Rp(e)){const i=e.inputs[r];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,r),[e,n,r]},oB=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},lpe=(t,e,n)=>ew(t,r=>r[0]===e&&r[1]===n),aB=(t,e)=>{if(!Sv(t).delete(e))throw new Error("Missing the expected event listener.")},lB=(t,e,n)=>{const r=Bo(t,e),i=ew(r,s=>s[0]===n);return r.size===0&&t.delete(e),i},Ux=(t,e,n,r)=>{Rp(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Pn=t=>Bo(iP,t),v0=t=>Bo(sP,t),Lh=t=>tA.has(t),C_=t=>!tp.has(t),kL=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),i=t.createGain(),s=t.createBuffer(1,2,44100),o=s.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=s,a.loop=!0,a.connect(r).connect(t.destination),a.connect(i),a.disconnect(i),r.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,c=>c===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),xb=(t,e)=>{const n=new Map;for(const r of t)for(const i of r){const s=n.get(i);n.set(i,s===void 0?1:s+1)}n.forEach((r,i)=>e(i,r))},zx=t=>"context"in t,upe=t=>{const e=new Map;t.connect=(n=>(r,i=0,s=0)=>{const o=zx(r)?n(r,i,s):n(r,i),a=e.get(r);return a===void 0?e.set(r,[{input:s,output:i}]):a.every(l=>l.input!==s||l.output!==i)&&a.push({input:s,output:i}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,i,s)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==r);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(r))if(i===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const a=o.filter(l=>l.output!==i&&(l.input!==s||s===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(l=>{zx(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},cpe=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=Mv(e),{outputs:o}=Ai(t),a=Sv(t),l=u=>{const c=Pn(t),d=v0(e);if(u){const p=lB(s,t,n);LL(i,t,p,!1),!r&&!Lh(t)&&c.connect(d,n)}else{const p=lpe(i,t,n);DL(s,p,!1),!r&&!Lh(t)&&c.disconnect(d,n)}};return td(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),Sl(t)?LL(i,t,[n,l],!0):DL(s,[t,n,l],!0),!0):!1},hpe=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=Ai(e),o=oB(i[r],t,n);return o===null?[nB(s,t,n,r)[2],!1]:[o[2],!0]},dpe=(t,e,n)=>{const{activeInputs:r,passiveInputs:i}=Mv(e),s=oB(r,t,n);return s===null?[lB(i,t,n)[1],!1]:[s[2],!0]},aP=(t,e,n,r,i)=>{const[s,o]=hpe(t,n,r,i);if(s!==null&&(aB(t,s),o&&!e&&!Lh(t)&&Ux(Pn(t),Pn(n),r,i)),Sl(n)){const{activeInputs:a}=Ai(n);iA(n,a)}},lP=(t,e,n,r)=>{const[i,s]=dpe(t,n,r);i!==null&&(aB(t,i),s&&!e&&!Lh(t)&&Pn(t).disconnect(v0(n),r))},fpe=(t,e)=>{const n=Ai(t),r=[];for(const i of n.outputs)Ev(i)?aP(t,e,...i):lP(t,e,...i),r.push(i[0]);return n.outputs.clear(),r},ppe=(t,e,n)=>{const r=Ai(t),i=[];for(const s of r.outputs)s[1]===n&&(Ev(s)?aP(t,e,...s):lP(t,e,...s),i.push(s[0]),r.outputs.delete(s));return i},mpe=(t,e,n,r,i)=>{const s=Ai(t);return Array.from(s.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(i===void 0||o[2]===i)).map(o=>(Ev(o)?aP(t,e,...o):lP(t,e,...o),s.outputs.delete(o),o[0]))},gpe=(t,e,n,r,i,s,o,a,l,u,c,d,p,m,g,y)=>class extends u{constructor(v,x,w,M){super(w),this._context=v,this._nativeAudioNode=w;const b=c(v);d(b)&&n(kL,()=>kL(b,y))!==!0&&upe(w),iP.set(this,w),eB.set(this,new Set),v.state!=="closed"&&x&&np(this),t(this,M,w)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(v){this._nativeAudioNode.channelCount=v}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(v){this._nativeAudioNode.channelCountMode=v}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(v){this._nativeAudioNode.channelInterpretation=v}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(v,x=0,w=0){if(x<0||x>=this._nativeAudioNode.numberOfOutputs)throw i();const M=c(this._context),b=g(M);if(p(v)||m(v))throw s();if(kx(v)){const I=Pn(v);try{const N=Fx(this._nativeAudioNode,I,x,w),z=C_(this);(b||z)&&this._nativeAudioNode.disconnect(...N),this.context.state!=="closed"&&!z&&C_(v)&&np(v)}catch(N){throw N.code===12?s():N}if(e(this,v,x,w,b)){const N=l([this],v);xb(N,r(b))}return v}const T=v0(v);if(T.name==="playbackRate"&&T.maxValue===1024)throw o();try{this._nativeAudioNode.connect(T,x),(b||C_(this))&&this._nativeAudioNode.disconnect(T,x)}catch(I){throw I.code===12?s():I}if(cpe(this,v,x,b)){const I=l([this],v);xb(I,r(b))}}disconnect(v,x,w){let M;const b=c(this._context),T=g(b);if(v===void 0)M=fpe(this,T);else if(typeof v=="number"){if(v<0||v>=this.numberOfOutputs)throw i();M=ppe(this,T,v)}else{if(x!==void 0&&(x<0||x>=this.numberOfOutputs)||kx(v)&&w!==void 0&&(w<0||w>=v.numberOfInputs))throw i();if(M=mpe(this,T,v,x,w),M.length===0)throw s()}for(const C of M){const I=l([this],C);xb(I,a)}}},vpe=(t,e,n,r,i,s,o,a,l,u,c,d,p)=>(m,g,y,_=null,v=null)=>{const x=y.value,w=new Afe(x),M=g?r(w):null,b={get defaultValue(){return x},get maxValue(){return _===null?y.maxValue:_},get minValue(){return v===null?y.minValue:v},get value(){return y.value},set value(T){y.value=T,b.setValueAtTime(T,m.context.currentTime)},cancelAndHoldAtTime(T){if(typeof y.cancelAndHoldAtTime=="function")M===null&&w.flush(m.context.currentTime),w.add(i(T)),y.cancelAndHoldAtTime(T);else{const C=Array.from(w).pop();M===null&&w.flush(m.context.currentTime),w.add(i(T));const I=Array.from(w).pop();y.cancelScheduledValues(T),C!==I&&I!==void 0&&(I.type==="exponentialRampToValue"?y.exponentialRampToValueAtTime(I.value,I.endTime):I.type==="linearRampToValue"?y.linearRampToValueAtTime(I.value,I.endTime):I.type==="setValue"?y.setValueAtTime(I.value,I.startTime):I.type==="setValueCurve"&&y.setValueCurveAtTime(I.values,I.startTime,I.duration))}return b},cancelScheduledValues(T){return M===null&&w.flush(m.context.currentTime),w.add(s(T)),y.cancelScheduledValues(T),b},exponentialRampToValueAtTime(T,C){if(T===0)throw new RangeError;if(!Number.isFinite(C)||C<0)throw new RangeError;const I=m.context.currentTime;return M===null&&w.flush(I),Array.from(w).length===0&&(w.add(u(x,I)),y.setValueAtTime(x,I)),w.add(o(T,C)),y.exponentialRampToValueAtTime(T,C),b},linearRampToValueAtTime(T,C){const I=m.context.currentTime;return M===null&&w.flush(I),Array.from(w).length===0&&(w.add(u(x,I)),y.setValueAtTime(x,I)),w.add(a(T,C)),y.linearRampToValueAtTime(T,C),b},setTargetAtTime(T,C,I){return M===null&&w.flush(m.context.currentTime),w.add(l(T,C,I)),y.setTargetAtTime(T,C,I),b},setValueAtTime(T,C){return M===null&&w.flush(m.context.currentTime),w.add(u(T,C)),y.setValueAtTime(T,C),b},setValueCurveAtTime(T,C,I){const R=T instanceof Float32Array?T:new Float32Array(T);if(d!==null&&d.name==="webkitAudioContext"){const N=C+I,z=m.context.sampleRate,V=Math.ceil(C*z),W=Math.floor(N*z),K=W-V,J=new Float32Array(K);for(let ee=0;ee<K;ee+=1){const F=(R.length-1)/I*((V+ee)/z-C),j=Math.floor(F),H=Math.ceil(F);J[ee]=j===H?R[j]:(1-(F-j))*R[j]+(1-(H-F))*R[H]}M===null&&w.flush(m.context.currentTime),w.add(c(J,C,I)),y.setValueCurveAtTime(J,C,I);const ne=W/z;ne<N&&p(b,J[J.length-1],ne),p(b,R[R.length-1],N)}else M===null&&w.flush(m.context.currentTime),w.add(c(R,C,I)),y.setValueCurveAtTime(R,C,I);return b}};return n.set(b,y),e.set(b,m),t(b,M),b},ype=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:i}=n;e.exponentialRampToValueAtTime(i,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:i}=n;e.linearRampToValueAtTime(i,r)}else if(n.type==="setTarget"){const{startTime:r,target:i,timeConstant:s}=n;e.setTargetAtTime(i,r,s)}else if(n.type==="setValue"){const{startTime:r,value:i}=n;e.setValueAtTime(i,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:i,values:s}=n;e.setValueCurveAtTime(s,i,r)}else throw new Error("Can't apply an unknown automation.")}});class uB{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,i)=>e.call(n,r,i,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const _pe={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},xpe=(t,e,n,r,i,s,o,a,l,u,c,d,p,m)=>class extends e{constructor(y,_,v){var x;const w=a(y),M=l(w),b=c({..._pe,...v});p(b);const T=nA.get(w),C=T==null?void 0:T.get(_),I=M||w.state!=="closed"?w:(x=o(w))!==null&&x!==void 0?x:w,R=i(I,M?null:y.baseLatency,u,_,C,b),N=M?r(_,b,C):null;super(y,!0,R,N);const z=[];R.parameters.forEach((W,K)=>{const J=n(this,M,W);z.push([K,J])}),this._nativeAudioWorkletNode=R,this._onprocessorerror=null,this._parameters=new uB(z),M&&t(w,this);const{activeInputs:V}=s(this);d(R,V)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(y){const _=typeof y=="function"?m(this,y):null;this._nativeAudioWorkletNode.onprocessorerror=_;const v=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=v!==null&&v===_?y:v}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Bx(t,e,n,r,i){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,i);else{const s=t.getChannelData(r);if(e[n].byteLength===0)e[n]=s.slice(i,i+128);else{const o=new Float32Array(s.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const cB=(t,e,n,r,i)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,i):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],i)},Vx=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const i=[],s=typeof e=="number"?e:e[r];for(let o=0;o<s;o+=1)i.push(new Float32Array(128));n.push(i)}return n},Spe=(t,e)=>{const n=Bo(rA,t),r=Pn(e);return Bo(n,r)},wpe=async(t,e,n,r,i,s,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,u=i.reduce((_,v)=>_+v,0),c=u===0?null:n.createBuffer(u,a,n.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const d=Ai(t),p=await Spe(n,t),m=Vx(r.numberOfInputs,r.channelCount),g=Vx(r.numberOfOutputs,i),y=Array.from(t.parameters.keys()).reduce((_,v)=>({..._,[v]:new Float32Array(128)}),{});for(let _=0;_<a;_+=128){if(r.numberOfInputs>0&&e!==null)for(let v=0;v<r.numberOfInputs;v+=1)for(let x=0;x<r.channelCount;x+=1)Bx(e,m[v],x,x,_);s.parameterDescriptors!==void 0&&e!==null&&s.parameterDescriptors.forEach(({name:v},x)=>{Bx(e,y,v,l+x,_)});for(let v=0;v<r.numberOfInputs;v+=1)for(let x=0;x<i[v];x+=1)g[v][x].byteLength===0&&(g[v][x]=new Float32Array(128));try{const v=m.map((w,M)=>d.activeInputs[M].size===0?[]:w),x=o(_/n.sampleRate,n.sampleRate,()=>p.process(v,g,y));if(c!==null)for(let w=0,M=0;w<r.numberOfOutputs;w+=1){for(let b=0;b<i[w];b+=1)cB(c,g[w],b,M+b,_);M+=i[w]}if(!x)break}catch(v){t.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return c},Mpe=(t,e,n,r,i,s,o,a,l,u,c,d,p,m,g,y)=>(_,v,x)=>{const w=new WeakMap;let M=null;const b=async(T,C)=>{let I=c(T),R=null;const N=yi(I,C),z=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(d===null){const V=z.reduce((ne,ee)=>ne+ee,0),W=i(C,{channelCount:Math.max(1,V),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,V)}),K=[];for(let ne=0;ne<T.numberOfOutputs;ne+=1)K.push(r(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:z[ne]}));const J=o(C,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});J.connect=e.bind(null,K),J.disconnect=l.bind(null,K),R=[W,K,J]}else N||(I=new d(C,_));if(w.set(C,R===null?I:R[2]),R!==null){if(M===null){if(x===void 0)throw new Error("Missing the processor constructor.");if(p===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ee=T.channelCount*T.numberOfInputs,F=x.parameterDescriptors===void 0?0:x.parameterDescriptors.length,j=ee+F;M=wpe(T,j===0?null:await(async()=>{const D=new p(j,Math.ceil(T.context.length/128)*128,C.sampleRate),U=[],Y=[];for(let ue=0;ue<v.numberOfInputs;ue+=1)U.push(o(D,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),Y.push(i(D,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const q=await Promise.all(Array.from(T.parameters.values()).map(async ue=>{const Se=s(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue.value});return await m(D,ue,Se.offset),Se})),te=r(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ee+F)});for(let ue=0;ue<v.numberOfInputs;ue+=1){U[ue].connect(Y[ue]);for(let Se=0;Se<v.channelCount;Se+=1)Y[ue].connect(te,Se,ue*v.channelCount+Se)}for(const[ue,Se]of q.entries())Se.connect(te,0,ee+ue),Se.start(0);return te.connect(D.destination),await Promise.all(U.map(ue=>g(T,D,ue))),y(D)})(),C,v,z,x,u)}const V=await M,W=n(C,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[K,J,ne]=R;V!==null&&(W.buffer=V,W.start(0)),W.connect(K);for(let ee=0,F=0;ee<T.numberOfOutputs;ee+=1){const j=J[ee];for(let H=0;H<z[ee];H+=1)K.connect(j,F+H,H);F+=z[ee]}return ne}if(N)for(const[V,W]of T.parameters.entries())await t(C,W,I.parameters.get(V));else for(const[V,W]of T.parameters.entries())await m(C,W,I.parameters.get(V));return await g(T,C,I),I};return{render(T,C){a(C,T);const I=w.get(C);return I!==void 0?Promise.resolve(I):b(T,C)}}},Epe=(t,e,n,r,i,s,o,a,l,u,c,d,p,m,g,y,_,v,x,w)=>class extends g{constructor(b,T){super(b,T),this._nativeContext=b,this._audioWorklet=t===void 0?void 0:{addModule:(C,I)=>t(this,C,I)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(b,T,C){return new n({length:T,numberOfChannels:b,sampleRate:C})}createBufferSource(){return new r(this)}createChannelMerger(b=6){return new s(this,{numberOfInputs:b})}createChannelSplitter(b=6){return new o(this,{numberOfOutputs:b})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(b=1){return new c(this,{maxDelayTime:b})}createDynamicsCompressor(){return new d(this)}createGain(){return new p(this)}createIIRFilter(b,T){return new m(this,{feedback:T,feedforward:b})}createOscillator(){return new y(this)}createPanner(){return new _(this)}createPeriodicWave(b,T,C={disableNormalization:!1}){return new v(this,{...C,imag:T,real:b})}createStereoPanner(){return new x(this)}createWaveShaper(){return new w(this)}decodeAudioData(b,T,C){return u(this._nativeContext,b).then(I=>(typeof T=="function"&&T(I),I),I=>{throw typeof C=="function"&&C(I),I})}},bpe={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Tpe=(t,e,n,r,i,s,o,a)=>class extends t{constructor(u,c){const d=s(u),p={...bpe,...c},m=i(d,p),g=o(d),y=g?n():null;super(u,!1,m,y),this._Q=e(this,g,m.Q,Ei,Wi),this._detune=e(this,g,m.detune,1200*Math.log2(Ei),-1200*Math.log2(Ei)),this._frequency=e(this,g,m.frequency,u.sampleRate/2,0),this._gain=e(this,g,m.gain,40*Math.log10(Ei),Wi),this._nativeBiquadFilterNode=m,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,c,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,c,d)}catch(p){throw p.code===11?r():p}if(u.length!==c.length||c.length!==d.length)throw r()}},Ape=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(a,l)=>{let u=n(a);const c=yi(u,l);if(!c){const d={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,d)}return s.set(l,u),c?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await r(l,a.Q,u.Q),await r(l,a.detune,u.detune),await r(l,a.frequency,u.frequency),await r(l,a.gain,u.gain)),await i(a,l,u),u};return{render(a,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},Cpe=(t,e)=>(n,r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t.get(n);if(s!==void 0)return s;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},Ppe={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Rpe=(t,e,n,r,i)=>class extends t{constructor(o,a){const l=r(o),u={...Ppe,...a},c=n(l,u),d=i(l)?e():null;super(o,!1,c,d)}},Npe=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!yi(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return r.set(o,a),await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},Ipe={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Ope=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=r(a),c=s({...Ipe,...l}),d=n(u,c),p=i(u)?e():null;super(a,!1,d,p)}},Lpe=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!yi(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return r.set(o,a),await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},Dpe=t=>(e,n,r)=>t(n,e,r),kpe=t=>(e,n,r=0,i=0)=>{const s=e[r];if(s===void 0)throw t();return zx(n)?s.connect(n,0,i):s.connect(n,0)},Fpe=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return r.buffer=i,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},Upe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},zpe=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const c=i(l),d={...Upe,...u},p=r(c,d),m=s(c),g=m?n():null;super(l,!1,p,g),this._constantSourceNodeRenderer=g,this._nativeConstantSourceNode=p,this._offset=e(this,m,p.offset,Ei,Wi),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===u?l:c}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){np(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),Sl(this)&&wv(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},Bpe=(t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let d=n(u);const p=yi(d,c);if(!p){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(c,m),o!==null&&d.start(o),a!==null&&d.stop(a)}return s.set(c,d),p?await t(c,u.offset,d.offset):await r(c,u.offset,d.offset),await i(u,c,d),d};return{set start(u){o=u},set stop(u){a=u},render(u,c){const d=s.get(c);return d!==void 0?Promise.resolve(d):l(u,c)}}},Vpe=t=>e=>(t[0]=e,t[0]),jpe={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Hpe=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=r(a),c={...jpe,...l},d=n(u,c),m=i(u)?e():null;super(a,!1,d,m),this._isBufferNullified=!1,this._nativeConvolverNode=d,c.buffer!==null&&s(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},Wpe=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!yi(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return r.set(o,a),Rp(a)?await n(s,o,a.inputs[0]):await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},Gpe=(t,e)=>(n,r,i)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,i)}catch(s){throw s.name==="SyntaxError"?t():s}},$pe=()=>new DOMException("","DataCloneError"),FL=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const i=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>i();try{e.postMessage(t,[t])}catch{}finally{i()}})},qpe=(t,e,n,r,i,s,o,a,l,u,c)=>(d,p)=>{const m=o(d)?d:s(d);if(i.has(p)){const g=n();return Promise.reject(g)}try{i.add(p)}catch{}return e(l,()=>l(m))?m.decodeAudioData(p).then(g=>(FL(p).catch(()=>{}),e(a,()=>a(g))||c(g),t.add(g),g)):new Promise((g,y)=>{const _=async()=>{try{await FL(p)}catch{}},v=x=>{y(x),_()};try{m.decodeAudioData(p,x=>{typeof x.copyFromChannel!="function"&&(u(x),oP(x)),t.add(x),_().then(()=>g(x))},x=>{v(x===null?r():x)})}catch(x){v(x)}})},Xpe=(t,e,n,r,i,s,o,a)=>(l,u)=>{const c=e.get(l);if(c===void 0)throw new Error("Missing the expected cycle count.");const d=s(l.context),p=a(d);if(c===u){if(e.delete(l),!p&&o(l)){const m=r(l),{outputs:g}=n(l);for(const y of g)if(Ev(y)){const _=r(y[0]);t(m,_,y[1],y[2])}else{const _=i(y[0]);m.connect(_,y[1])}}}else e.set(l,c-u)},Ype={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Zpe=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const c=i(l),d={...Ype,...u},p=r(c,d),m=s(c),g=m?n(d.maxDelayTime):null;super(l,!1,p,g),this._delayTime=e(this,m,p.delayTime),o(this,d.maxDelayTime)}get delayTime(){return this._delayTime}},Kpe=(t,e,n,r,i)=>s=>{const o=new WeakMap,a=async(l,u)=>{let c=n(l);const d=yi(c,u);if(!d){const p={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:s};c=e(u,p)}return o.set(u,c),d?await t(u,l.delayTime,c.delayTime):await r(u,l.delayTime,c.delayTime),await i(l,u,c),c};return{render(l,u){const c=o.get(u);return c!==void 0?Promise.resolve(c):a(l,u)}}},Qpe=t=>(e,n,r,i)=>t(e[i],s=>s[0]===n&&s[1]===r),Jpe=t=>(e,n)=>{t(e).delete(n)},eme=t=>"delayTime"in t,tme=(t,e,n)=>function r(i,s){const o=kx(s)?s:n(t,s);if(eme(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>r([...i,o],l[0])).reduce((l,u)=>l.concat(u),[])},Xy=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},nme=t=>(e,n=void 0,r=void 0,i=0)=>n===void 0?e.forEach(s=>s.disconnect()):typeof n=="number"?Xy(t,e,n).disconnect():zx(n)?r===void 0?e.forEach(s=>s.disconnect(n)):i===void 0?Xy(t,e,r).disconnect(n,0):Xy(t,e,r).disconnect(n,0,i):r===void 0?e.forEach(s=>s.disconnect(n)):Xy(t,e,r).disconnect(n,0),rme={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},ime=(t,e,n,r,i,s,o,a)=>class extends t{constructor(u,c){const d=s(u),p={...rme,...c},m=r(d,p),g=o(d),y=g?n():null;super(u,!1,m,y),this._attack=e(this,g,m.attack),this._knee=e(this,g,m.knee),this._nativeDynamicsCompressorNode=m,this._ratio=e(this,g,m.ratio),this._release=e(this,g,m.release),this._threshold=e(this,g,m.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=c,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},sme=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(a,l)=>{let u=n(a);const c=yi(u,l);if(!c){const d={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,d)}return s.set(l,u),c?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await r(l,a.attack,u.attack),await r(l,a.knee,u.knee),await r(l,a.ratio,u.ratio),await r(l,a.release,u.release),await r(l,a.threshold,u.threshold)),await i(a,l,u),u};return{render(a,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},ome=()=>new DOMException("","EncodingError"),ame=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const i=t.document.head;if(i===null)r(new SyntaxError);else{const s=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(c,d,p,m,g)=>{if(d===a||d===t.location.href&&p===1&&m===1)return u(),r(g),!1;if(l!==null)return l(c,d,p,m,g)},s.onerror=()=>{u(),r(new SyntaxError)},s.onload=()=>{u(),n()},s.src=a,s.type="module",i.appendChild(s)}}),lme=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,i){if(r!==null){let s=this._listeners.get(r);s===void 0&&(s=t(this,r),typeof r=="function"&&this._listeners.set(r,s)),this._nativeEventTarget.addEventListener(n,s,i)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,i){const s=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,s===void 0?null:s,i)}},ume=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},cme=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},hme={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},dme=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=i(a),c={...hme,...l},d=r(u,c),p=s(u),m=p?n():null;super(a,!1,d,m),this._gain=e(this,p,d.gain,Ei,Wi)}get gain(){return this._gain}},fme=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(a,l)=>{let u=n(a);const c=yi(u,l);if(!c){const d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,d)}return s.set(l,u),c?await t(l,a.gain,u.gain):await r(l,a.gain,u.gain),await i(a,l,u),u};return{render(a,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},pme=(t,e)=>n=>e(t,n),mme=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},gme=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},vme=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},yme=t=>e=>t.get(e),Vr=()=>new DOMException("","InvalidStateError"),_me=t=>e=>{const n=t.get(e);if(n===void 0)throw Vr();return n},xme=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},Sme=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},tw=()=>new DOMException("","InvalidAccessError"),wme=t=>{t.getFrequencyResponse=(e=>(n,r,i)=>{if(n.length!==r.length||r.length!==i.length)throw tw();return e.call(t,n,r,i)})(t.getFrequencyResponse)},Mme={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Eme=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=r(a),c=i(u),d={...Mme,...l},p=e(u,c?null:a.baseLatency,d),m=c?n(d.feedback,d.feedforward):null;super(a,!1,p,m),wme(p),this._nativeIIRFilterNode=p,s(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},hB=(t,e,n,r,i,s,o,a,l,u,c)=>{const d=u.length;let p=a;for(let m=0;m<d;m+=1){let g=n[0]*u[m];for(let y=1;y<i;y+=1){const _=p-y&l-1;g+=n[y]*s[_],g-=t[y]*o[_]}for(let y=i;y<r;y+=1)g+=n[y]*s[p-y&l-1];for(let y=i;y<e;y+=1)g-=t[y]*o[p-y&l-1];s[p]=u[m],o[p]=g,p=p+1&l-1,c[m]=g}return p},bme=(t,e,n,r)=>{const i=n instanceof Float64Array?n:new Float64Array(n),s=r instanceof Float64Array?r:new Float64Array(r),o=i.length,a=s.length,l=Math.min(o,a);if(i[0]!==1){for(let g=0;g<o;g+=1)s[g]/=i[0];for(let g=1;g<a;g+=1)i[g]/=i[0]}const u=32,c=new Float32Array(u),d=new Float32Array(u),p=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),m=t.numberOfChannels;for(let g=0;g<m;g+=1){const y=t.getChannelData(g),_=p.getChannelData(g);c.fill(0),d.fill(0),hB(i,o,s,a,l,c,d,0,u,y,_)}return p},Tme=(t,e,n,r,i)=>(s,o)=>{const a=new WeakMap;let l=null;const u=async(c,d)=>{let p=null,m=e(c);const g=yi(m,d);if(d.createIIRFilter===void 0?p=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(m=d.createIIRFilter(o,s)),a.set(d,p===null?m:p),p!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const _=new n(c.context.destination.channelCount,c.context.length,d.sampleRate);l=(async()=>{await r(c,_,_.destination);const v=await i(_);return bme(v,d,s,o)})()}const y=await l;return p.buffer=y,p.start(0),p}return await r(c,d,m),m};return{render(c,d){const p=a.get(d);return p!==void 0?Promise.resolve(p):u(c,d)}}},Ame=(t,e,n,r,i,s)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&s(a)){const c=r(a),{outputs:d}=n(a);for(const p of d)if(Ev(p)){const m=r(p[0]);e(c,m,p[1],p[2])}else{const m=i(p[0]);c.disconnect(m,p[1])}}t.set(a,l)}else t.set(a,u+l)},Cme=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},Pme=(t,e)=>n=>t.has(n)||e(n),Rme=(t,e)=>n=>t.has(n)||e(n),Nme=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},Ime=t=>e=>t!==null&&e instanceof t,Ome=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,Lme=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,Dme=(t,e)=>n=>t(n)||e(n),kme=t=>e=>t!==null&&e instanceof t,Fme=t=>t!==null&&t.isSecureContext,Ume=(t,e,n,r)=>class extends t{constructor(s,o){const a=n(s),l=e(a,o);if(r(a))throw TypeError();super(s,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},zme={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Bme=(t,e,n,r)=>class extends t{constructor(s,o){const a=n(s);if(r(a))throw new TypeError;const l={...zme,...o},u=e(a,l);super(s,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Vme=(t,e,n,r)=>class extends t{constructor(s,o){const a=n(s),l=e(a,o);if(r(a))throw new TypeError;super(s,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},jme=(t,e,n)=>class extends t{constructor(i,s){const o=n(i),a=e(o,s);super(i,!0,a,null)}},Hme=(t,e,n,r,i,s)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,J2.set(this,a),r(a)&&i.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?s(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},y0=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},Wme=(t,e)=>(n,r,i)=>{const s=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const c=s.size===0;if(e(a))return o.call(n,a,l,u),t(s,[a,l,u],d=>d[0]===a&&d[1]===l&&d[2]===u,!0),c&&r(),a;o.call(n,a,l),t(s,[a,l],d=>d[0]===a&&d[1]===l,!0),c&&r()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const c=s.size>0;if(a===void 0)o.apply(n),s.clear();else if(typeof a=="number"){o.call(n,a);for(const p of s)p[1]===a&&s.delete(p)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const p of s)p[0]===a&&(l===void 0||p[1]===l)&&(u===void 0||p[2]===u)&&s.delete(p)}const d=s.size===0;c&&d&&i()})(n.disconnect),n},Ln=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},Rr=(t,e)=>{Ln(t,e,"channelCount"),Ln(t,e,"channelCountMode"),Ln(t,e,"channelInterpretation")},UL=t=>typeof t.getFloatTimeDomainData=="function",Gme=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let i=0;i<r;i+=1)e[i]=(n[i]-128)*.0078125;return e}},$me=(t,e)=>(n,r)=>{const i=n.createAnalyser();if(Rr(i,r),!(r.maxDecibels>r.minDecibels))throw e();return Ln(i,r,"fftSize"),Ln(i,r,"maxDecibels"),Ln(i,r,"minDecibels"),Ln(i,r,"smoothingTimeConstant"),t(UL,()=>UL(i))||Gme(i),i},qme=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Zn=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},Xme=t=>{t.start=(e=>{let n=!1;return(r=0,i=0,s)=>{if(n)throw Vr();e.call(t,r,i,s),n=!0}})(t.start)},uP=t=>{t.start=(e=>(n=0,r=0,i)=>{if(typeof i=="number"&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,i)})(t.start)},cP=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},Yme=(t,e,n,r,i,s,o,a,l,u,c)=>(d,p)=>{const m=d.createBufferSource();return Rr(m,p),Zn(m,p,"playbackRate"),Ln(m,p,"buffer"),Ln(m,p,"loop"),Ln(m,p,"loopEnd"),Ln(m,p,"loopStart"),e(n,()=>n(d))||Xme(m),e(r,()=>r(d))||l(m),e(i,()=>i(d))||u(m,d),e(s,()=>s(d))||uP(m),e(o,()=>o(d))||c(m,d),e(a,()=>a(d))||cP(m),t(d,m),m},Zme=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,Kme=(t,e)=>(n,r,i)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}i&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{s.channelCount=l}catch(u){if(l>s.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),s.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),s.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>s.maxChannelCount}),o.connect(s),o},Qme=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,Jme=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},ege=(t,e,n,r,i)=>(s,o,a,l,u,c)=>{if(a!==null)try{const d=new a(s,l,c),p=new Map;let m=null;if(Object.defineProperties(d,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>m,set:g=>{typeof m=="function"&&d.removeEventListener("processorerror",m),m=typeof g=="function"?g:null,typeof m=="function"&&d.addEventListener("processorerror",m)}}}),d.addEventListener=(g=>(...y)=>{if(y[0]==="processorerror"){const _=typeof y[1]=="function"?y[1]:typeof y[1]=="object"&&y[1]!==null&&typeof y[1].handleEvent=="function"?y[1].handleEvent:null;if(_!==null){const v=p.get(y[1]);v!==void 0?y[1]=v:(y[1]=x=>{x.type==="error"?(Object.defineProperties(x,{type:{value:"processorerror"}}),_(x)):_(new ErrorEvent(y[0],{...x}))},p.set(_,y[1]))}}return g.call(d,"error",y[1],y[2]),g.call(d,...y)})(d.addEventListener),d.removeEventListener=(g=>(...y)=>{if(y[0]==="processorerror"){const _=p.get(y[1]);_!==void 0&&(p.delete(y[1]),y[1]=_)}return g.call(d,"error",y[1],y[2]),g.call(d,y[0],y[1],y[2])})(d.removeEventListener),c.numberOfOutputs!==0){const g=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(g).connect(s.destination),i(d,()=>g.disconnect(),()=>g.connect(s.destination))}return d}catch(d){throw d.code===11?r():d}if(u===void 0)throw r();return Jme(c),e(s,o,u,c)},dB=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),tge=t=>new Promise((e,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=({data:s})=>{r.close(),i.close(),e(s)},r.onmessageerror=({data:s})=>{r.close(),i.close(),n(s)},i.postMessage(t)}),nge=async(t,e)=>{const n=await tge(e);return new t(n)},rge=(t,e,n,r)=>{let i=rA.get(t);i===void 0&&(i=new WeakMap,rA.set(t,i));const s=nge(n,r);return i.set(e,s),s},ige=(t,e,n,r,i,s,o,a,l,u,c,d,p)=>(m,g,y,_)=>{if(_.numberOfInputs===0&&_.numberOfOutputs===0)throw l();const v=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(v.some(he=>he<1))throw l();if(v.length!==_.numberOfOutputs)throw e();if(_.channelCountMode!=="explicit")throw l();const x=_.channelCount*_.numberOfInputs,w=v.reduce((he,de)=>he+de,0),M=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length;if(x+M>6||w>6)throw l();const b=new MessageChannel,T=[],C=[];for(let he=0;he<_.numberOfInputs;he+=1)T.push(o(m,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),C.push(i(m,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const I=[];if(y.parameterDescriptors!==void 0)for(const{defaultValue:he,maxValue:de,minValue:De,name:Le}of y.parameterDescriptors){const Ie=s(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:_.parameterData[Le]!==void 0?_.parameterData[Le]:he===void 0?0:he});Object.defineProperties(Ie.offset,{defaultValue:{get:()=>he===void 0?0:he},maxValue:{get:()=>de===void 0?Ei:de},minValue:{get:()=>De===void 0?Wi:De}}),I.push(Ie)}const R=r(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,x+M)}),N=dB(g,m.sampleRate),z=a(m,N,x+M,Math.max(1,w)),V=i(m,{channelCount:Math.max(1,w),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,w)}),W=[];for(let he=0;he<_.numberOfOutputs;he+=1)W.push(r(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[he]}));for(let he=0;he<_.numberOfInputs;he+=1){T[he].connect(C[he]);for(let de=0;de<_.channelCount;de+=1)C[he].connect(R,de,he*_.channelCount+de)}const K=new uB(y.parameterDescriptors===void 0?[]:y.parameterDescriptors.map(({name:he},de)=>{const De=I[de];return De.connect(R,0,x+de),De.start(0),[he,De.offset]}));R.connect(z);let J=_.channelInterpretation,ne=null;const ee=_.numberOfOutputs===0?[z]:W,F={get bufferSize(){return N},get channelCount(){return _.channelCount},set channelCount(he){throw n()},get channelCountMode(){return _.channelCountMode},set channelCountMode(he){throw n()},get channelInterpretation(){return J},set channelInterpretation(he){for(const de of T)de.channelInterpretation=he;J=he},get context(){return z.context},get inputs(){return T},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return ne},set onprocessorerror(he){typeof ne=="function"&&F.removeEventListener("processorerror",ne),ne=typeof he=="function"?he:null,typeof ne=="function"&&F.addEventListener("processorerror",ne)},get parameters(){return K},get port(){return b.port2},addEventListener(...he){return z.addEventListener(he[0],he[1],he[2])},connect:t.bind(null,ee),disconnect:u.bind(null,ee),dispatchEvent(...he){return z.dispatchEvent(he[0])},removeEventListener(...he){return z.removeEventListener(he[0],he[1],he[2])}},j=new Map;b.port1.addEventListener=(he=>(...de)=>{if(de[0]==="message"){const De=typeof de[1]=="function"?de[1]:typeof de[1]=="object"&&de[1]!==null&&typeof de[1].handleEvent=="function"?de[1].handleEvent:null;if(De!==null){const Le=j.get(de[1]);Le!==void 0?de[1]=Le:(de[1]=Ie=>{c(m.currentTime,m.sampleRate,()=>De(Ie))},j.set(De,de[1]))}}return he.call(b.port1,de[0],de[1],de[2])})(b.port1.addEventListener),b.port1.removeEventListener=(he=>(...de)=>{if(de[0]==="message"){const De=j.get(de[1]);De!==void 0&&(j.delete(de[1]),de[1]=De)}return he.call(b.port1,de[0],de[1],de[2])})(b.port1.removeEventListener);let H=null;Object.defineProperty(b.port1,"onmessage",{get:()=>H,set:he=>{typeof H=="function"&&b.port1.removeEventListener("message",H),H=typeof he=="function"?he:null,typeof H=="function"&&(b.port1.addEventListener("message",H),b.port1.start())}}),y.prototype.port=b.port1;let D=null;rge(m,F,y,_).then(he=>D=he);const Y=Vx(_.numberOfInputs,_.channelCount),q=Vx(_.numberOfOutputs,v),te=y.parameterDescriptors===void 0?[]:y.parameterDescriptors.reduce((he,{name:de})=>({...he,[de]:new Float32Array(128)}),{});let ue=!0;const Se=()=>{_.numberOfOutputs>0&&z.disconnect(V);for(let he=0,de=0;he<_.numberOfOutputs;he+=1){const De=W[he];for(let Le=0;Le<v[he];Le+=1)V.disconnect(De,de+Le,Le);de+=v[he]}},pe=new Map;z.onaudioprocess=({inputBuffer:he,outputBuffer:de})=>{if(D!==null){const De=d(F);for(let Le=0;Le<N;Le+=128){for(let Ie=0;Ie<_.numberOfInputs;Ie+=1)for(let Ve=0;Ve<_.channelCount;Ve+=1)Bx(he,Y[Ie],Ve,Ve,Le);y.parameterDescriptors!==void 0&&y.parameterDescriptors.forEach(({name:Ie},Ve)=>{Bx(he,te,Ie,x+Ve,Le)});for(let Ie=0;Ie<_.numberOfInputs;Ie+=1)for(let Ve=0;Ve<v[Ie];Ve+=1)q[Ie][Ve].byteLength===0&&(q[Ie][Ve]=new Float32Array(128));try{const Ie=Y.map((it,ae)=>{if(De[ae].size>0)return pe.set(ae,N/128),it;const k=pe.get(ae);return k===void 0?[]:(it.every(le=>le.every(_e=>_e===0))&&(k===1?pe.delete(ae):pe.set(ae,k-1)),it)});ue=c(m.currentTime+Le/m.sampleRate,m.sampleRate,()=>D.process(Ie,q,te));for(let it=0,ae=0;it<_.numberOfOutputs;it+=1){for(let B=0;B<v[it];B+=1)cB(de,q[it],B,ae+B,Le);ae+=v[it]}}catch(Ie){ue=!1,F.dispatchEvent(new ErrorEvent("processorerror",{colno:Ie.colno,filename:Ie.filename,lineno:Ie.lineno,message:Ie.message}))}if(!ue){for(let Ie=0;Ie<_.numberOfInputs;Ie+=1){T[Ie].disconnect(C[Ie]);for(let Ve=0;Ve<_.channelCount;Ve+=1)C[Le].disconnect(R,Ve,Ie*_.channelCount+Ve)}if(y.parameterDescriptors!==void 0){const Ie=y.parameterDescriptors.length;for(let Ve=0;Ve<Ie;Ve+=1){const it=I[Ve];it.disconnect(R,0,x+Ve),it.stop()}}R.disconnect(z),z.onaudioprocess=null,Ge?Se():Z();break}}}};let Ge=!1;const nt=o(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ze=()=>z.connect(nt).connect(m.destination),Z=()=>{z.disconnect(nt),nt.disconnect()},Ne=()=>{if(ue){Z(),_.numberOfOutputs>0&&z.connect(V);for(let he=0,de=0;he<_.numberOfOutputs;he+=1){const De=W[he];for(let Le=0;Le<v[he];Le+=1)V.connect(De,de+Le,Le);de+=v[he]}}Ge=!0},ye=()=>{ue&&(ze(),Se()),Ge=!1};return ze(),p(F,Ne,ye)},fB=(t,e)=>{const n=t.createBiquadFilter();return Rr(n,e),Zn(n,e,"Q"),Zn(n,e,"detune"),Zn(n,e,"frequency"),Zn(n,e,"gain"),Ln(n,e,"type"),n},sge=(t,e)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,i),Rr(i,r),i},oge=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Vr()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Vr()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Vr()}})},bv=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Rr(n,e),oge(n),n},age=(t,e,n,r,i)=>(s,o)=>{if(s.createConstantSource===void 0)return n(s,o);const a=s.createConstantSource();return Rr(a,o),Zn(a,o,"offset"),e(r,()=>r(s))||uP(a),e(i,()=>i(s))||cP(a),t(s,a),a},Np=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),lge=(t,e,n,r)=>(i,{offset:s,...o})=>{const a=i.createBuffer(1,2,44100),l=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(i,{...o,gain:s}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const d={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(g){u.channelCount=g},get channelCountMode(){return u.channelCountMode},set channelCountMode(g){u.channelCountMode=g},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(g){u.channelInterpretation=g},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(g){l.onended=g},addEventListener(...g){return l.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return l.dispatchEvent(g[0])},removeEventListener(...g){return l.removeEventListener(g[0],g[1],g[2])},start(g=0){l.start.call(l,g)},stop(g=0){l.stop.call(l,g)}},p=()=>l.connect(u),m=()=>l.disconnect(u);return t(i,l),r(Np(d,u),p,m)},uge=(t,e)=>(n,r)=>{const i=n.createConvolver();if(Rr(i,r),r.disableNormalization===i.normalize&&(i.normalize=!r.disableNormalization),Ln(i,r,"buffer"),r.channelCount>2||(e(i,"channelCount",s=>()=>s.call(i),s=>o=>{if(o>2)throw t();return s.call(i,o)}),r.channelCountMode==="max"))throw t();return e(i,"channelCountMode",s=>()=>s.call(i),s=>o=>{if(o==="max")throw t();return s.call(i,o)}),i},pB=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Rr(n,e),Zn(n,e,"delayTime"),n},cge=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(Rr(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Zn(r,n,"attack"),Zn(r,n,"knee"),Zn(r,n,"ratio"),Zn(r,n,"release"),Zn(r,n,"threshold"),r},Qi=(t,e)=>{const n=t.createGain();return Rr(n,e),Zn(n,e,"gain"),n},hge=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const i=e.createIIRFilter(r.feedforward,r.feedback);return Rr(i,r),i};function dge(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function fge(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function zL(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=fge(n,e),n[0]+=t[r];return n}const pge=(t,e,n,r)=>(i,s,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const d=dB(s,i.sampleRate),p=u instanceof Float64Array?u:new Float64Array(u),m=c instanceof Float64Array?c:new Float64Array(c),g=p.length,y=m.length,_=Math.min(g,y);if(g===0||g>20)throw r();if(p[0]===0)throw e();if(y===0||y>20)throw r();if(m[0]===0)throw e();if(p[0]!==1){for(let I=0;I<y;I+=1)m[I]/=p[0];for(let I=1;I<g;I+=1)p[I]/=p[0]}const v=n(i,d,o,o);v.channelCount=o,v.channelCountMode=a,v.channelInterpretation=l;const x=32,w=[],M=[],b=[];for(let I=0;I<o;I+=1){w.push(0);const R=new Float32Array(x),N=new Float32Array(x);R.fill(0),N.fill(0),M.push(R),b.push(N)}v.onaudioprocess=I=>{const R=I.inputBuffer,N=I.outputBuffer,z=R.numberOfChannels;for(let V=0;V<z;V+=1){const W=R.getChannelData(V),K=N.getChannelData(V);w[V]=hB(p,g,m,y,_,M[V],b[V],w[V],x,W,K)}};const T=i.sampleRate/2;return Np({get bufferSize(){return d},get channelCount(){return v.channelCount},set channelCount(I){v.channelCount=I},get channelCountMode(){return v.channelCountMode},set channelCountMode(I){v.channelCountMode=I},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(I){v.channelInterpretation=I},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener(...I){return v.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return v.dispatchEvent(I[0])},getFrequencyResponse(I,R,N){if(I.length!==R.length||R.length!==N.length)throw t();const z=I.length;for(let V=0;V<z;V+=1){const W=-Math.PI*(I[V]/T),K=[Math.cos(W),Math.sin(W)],J=zL(m,K),ne=zL(p,K),ee=dge(J,ne);R[V]=Math.sqrt(ee[0]*ee[0]+ee[1]*ee[1]),N[V]=Math.atan2(ee[1],ee[0])}},removeEventListener(...I){return v.removeEventListener(I[0],I[1],I[2])}},v)},mge=(t,e)=>t.createMediaElementSource(e.mediaElement),gge=(t,e)=>{const n=t.createMediaStreamDestination();return Rr(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},vge=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((s,o)=>s.id<o.id?-1:s.id>o.id?1:0);const r=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(i,"mediaStream",{value:e}),i},yge=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const i=new MediaStream([r]),s=n.createMediaStreamSource(i);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return s},_ge=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,xge=(t,e,n,r,i,s)=>(o,a)=>{const l=o.createOscillator();return Rr(l,a),Zn(l,a,"detune"),Zn(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):Ln(l,a,"type"),e(n,()=>n(o))||uP(l),e(r,()=>r(o))||s(l,o),e(i,()=>i(o))||cP(l),t(o,l),l},Sge=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(Rr(r,n),Zn(r,n,"orientationX"),Zn(r,n,"orientationY"),Zn(r,n,"orientationZ"),Zn(r,n,"positionX"),Zn(r,n,"positionY"),Zn(r,n,"positionZ"),Ln(r,n,"coneInnerAngle"),Ln(r,n,"coneOuterAngle"),Ln(r,n,"coneOuterGain"),Ln(r,n,"distanceModel"),Ln(r,n,"maxDistance"),Ln(r,n,"panningModel"),Ln(r,n,"refDistance"),Ln(r,n,"rolloffFactor"),r)},wge=(t,e,n,r,i,s,o,a,l,u)=>(c,{coneInnerAngle:d,coneOuterAngle:p,coneOuterGain:m,distanceModel:g,maxDistance:y,orientationX:_,orientationY:v,orientationZ:x,panningModel:w,positionX:M,positionY:b,positionZ:T,refDistance:C,rolloffFactor:I,...R})=>{const N=c.createPanner();if(R.channelCount>2||R.channelCountMode==="max")throw o();Rr(N,R);const z={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},V=n(c,{...z,channelInterpretation:"speakers",numberOfInputs:6}),W=r(c,{...R,gain:1}),K=r(c,{...z,gain:1}),J=r(c,{...z,gain:0}),ne=r(c,{...z,gain:0}),ee=r(c,{...z,gain:0}),F=r(c,{...z,gain:0}),j=r(c,{...z,gain:0}),H=i(c,256,6,1),D=s(c,{...z,curve:new Float32Array([1,1]),oversample:"none"});let U=[_,v,x],Y=[M,b,T];const q=new Float32Array(1);H.onaudioprocess=({inputBuffer:pe})=>{const Ge=[l(pe,q,0),l(pe,q,1),l(pe,q,2)];Ge.some((ze,Z)=>ze!==U[Z])&&(N.setOrientation(...Ge),U=Ge);const nt=[l(pe,q,3),l(pe,q,4),l(pe,q,5)];nt.some((ze,Z)=>ze!==Y[Z])&&(N.setPosition(...nt),Y=nt)},Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ne.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ee.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0});const te={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(pe){if(pe>2)throw o();W.channelCount=pe,N.channelCount=pe},get channelCountMode(){return N.channelCountMode},set channelCountMode(pe){if(pe==="max")throw o();W.channelCountMode=pe,N.channelCountMode=pe},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(pe){W.channelInterpretation=pe,N.channelInterpretation=pe},get coneInnerAngle(){return N.coneInnerAngle},set coneInnerAngle(pe){N.coneInnerAngle=pe},get coneOuterAngle(){return N.coneOuterAngle},set coneOuterAngle(pe){N.coneOuterAngle=pe},get coneOuterGain(){return N.coneOuterGain},set coneOuterGain(pe){if(pe<0||pe>1)throw e();N.coneOuterGain=pe},get context(){return N.context},get distanceModel(){return N.distanceModel},set distanceModel(pe){N.distanceModel=pe},get inputs(){return[W]},get maxDistance(){return N.maxDistance},set maxDistance(pe){if(pe<0)throw new RangeError;N.maxDistance=pe},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get orientationX(){return K.gain},get orientationY(){return J.gain},get orientationZ(){return ne.gain},get panningModel(){return N.panningModel},set panningModel(pe){N.panningModel=pe},get positionX(){return ee.gain},get positionY(){return F.gain},get positionZ(){return j.gain},get refDistance(){return N.refDistance},set refDistance(pe){if(pe<0)throw new RangeError;N.refDistance=pe},get rolloffFactor(){return N.rolloffFactor},set rolloffFactor(pe){if(pe<0)throw new RangeError;N.rolloffFactor=pe},addEventListener(...pe){return W.addEventListener(pe[0],pe[1],pe[2])},dispatchEvent(...pe){return W.dispatchEvent(pe[0])},removeEventListener(...pe){return W.removeEventListener(pe[0],pe[1],pe[2])}};d!==te.coneInnerAngle&&(te.coneInnerAngle=d),p!==te.coneOuterAngle&&(te.coneOuterAngle=p),m!==te.coneOuterGain&&(te.coneOuterGain=m),g!==te.distanceModel&&(te.distanceModel=g),y!==te.maxDistance&&(te.maxDistance=y),_!==te.orientationX.value&&(te.orientationX.value=_),v!==te.orientationY.value&&(te.orientationY.value=v),x!==te.orientationZ.value&&(te.orientationZ.value=x),w!==te.panningModel&&(te.panningModel=w),M!==te.positionX.value&&(te.positionX.value=M),b!==te.positionY.value&&(te.positionY.value=b),T!==te.positionZ.value&&(te.positionZ.value=T),C!==te.refDistance&&(te.refDistance=C),I!==te.rolloffFactor&&(te.rolloffFactor=I),(U[0]!==1||U[1]!==0||U[2]!==0)&&N.setOrientation(...U),(Y[0]!==0||Y[1]!==0||Y[2]!==0)&&N.setPosition(...Y);const ue=()=>{W.connect(N),t(W,D,0,0),D.connect(K).connect(V,0,0),D.connect(J).connect(V,0,1),D.connect(ne).connect(V,0,2),D.connect(ee).connect(V,0,3),D.connect(F).connect(V,0,4),D.connect(j).connect(V,0,5),V.connect(H).connect(c.destination)},Se=()=>{W.disconnect(N),a(W,D,0,0),D.disconnect(K),K.disconnect(V),D.disconnect(J),J.disconnect(V),D.disconnect(ne),ne.disconnect(V),D.disconnect(ee),ee.disconnect(V),D.disconnect(F),F.disconnect(V),D.disconnect(j),j.disconnect(V),V.disconnect(H),H.disconnect(c.destination)};return u(Np(te,N),ue,Se)},Mge=t=>(e,{disableNormalization:n,imag:r,real:i})=>{const s=r instanceof Float32Array?r:new Float32Array(r),o=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(o,s,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},Tv=(t,e,n,r)=>t.createScriptProcessor(e,n,r),Ege=(t,e)=>(n,r)=>{const i=r.channelCountMode;if(i==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const s=n.createStereoPanner();return Rr(s,r),Zn(s,r,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>i,set:o=>{if(o!==i)throw e()}}),s},bge=(t,e,n,r,i,s)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},d=(g,y,_,v)=>{const x=new Float32Array(16385),w=new Float32Array(16385);for(let R=0;R<16385;R+=1){const N=R/16384*l;x[R]=Math.cos(N),w[R]=Math.sin(N)}const M=n(g,{...u,gain:0}),b=r(g,{...c,curve:x}),T=r(g,{...c,curve:a}),C=n(g,{...u,gain:0}),I=r(g,{...c,curve:w});return{connectGraph(){y.connect(M),y.connect(T.inputs===void 0?T:T.inputs[0]),y.connect(C),T.connect(_),_.connect(b.inputs===void 0?b:b.inputs[0]),_.connect(I.inputs===void 0?I:I.inputs[0]),b.connect(M.gain),I.connect(C.gain),M.connect(v,0,0),C.connect(v,0,1)},disconnectGraph(){y.disconnect(M),y.disconnect(T.inputs===void 0?T:T.inputs[0]),y.disconnect(C),T.disconnect(_),_.disconnect(b.inputs===void 0?b:b.inputs[0]),_.disconnect(I.inputs===void 0?I:I.inputs[0]),b.disconnect(M.gain),I.disconnect(C.gain),M.disconnect(v,0,0),C.disconnect(v,0,1)}}},p=(g,y,_,v)=>{const x=new Float32Array(16385),w=new Float32Array(16385),M=new Float32Array(16385),b=new Float32Array(16385),T=Math.floor(16385/2);for(let ee=0;ee<16385;ee+=1)if(ee>T){const F=(ee-T)/(16384-T)*l;x[ee]=Math.cos(F),w[ee]=Math.sin(F),M[ee]=0,b[ee]=1}else{const F=ee/(16384-T)*l;x[ee]=1,w[ee]=0,M[ee]=Math.cos(F),b[ee]=Math.sin(F)}const C=e(g,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),I=n(g,{...u,gain:0}),R=r(g,{...c,curve:x}),N=n(g,{...u,gain:0}),z=r(g,{...c,curve:w}),V=r(g,{...c,curve:a}),W=n(g,{...u,gain:0}),K=r(g,{...c,curve:M}),J=n(g,{...u,gain:0}),ne=r(g,{...c,curve:b});return{connectGraph(){y.connect(C),y.connect(V.inputs===void 0?V:V.inputs[0]),C.connect(I,0),C.connect(N,0),C.connect(W,1),C.connect(J,1),V.connect(_),_.connect(R.inputs===void 0?R:R.inputs[0]),_.connect(z.inputs===void 0?z:z.inputs[0]),_.connect(K.inputs===void 0?K:K.inputs[0]),_.connect(ne.inputs===void 0?ne:ne.inputs[0]),R.connect(I.gain),z.connect(N.gain),K.connect(W.gain),ne.connect(J.gain),I.connect(v,0,0),W.connect(v,0,0),N.connect(v,0,1),J.connect(v,0,1)},disconnectGraph(){y.disconnect(C),y.disconnect(V.inputs===void 0?V:V.inputs[0]),C.disconnect(I,0),C.disconnect(N,0),C.disconnect(W,1),C.disconnect(J,1),V.disconnect(_),_.disconnect(R.inputs===void 0?R:R.inputs[0]),_.disconnect(z.inputs===void 0?z:z.inputs[0]),_.disconnect(K.inputs===void 0?K:K.inputs[0]),_.disconnect(ne.inputs===void 0?ne:ne.inputs[0]),R.disconnect(I.gain),z.disconnect(N.gain),K.disconnect(W.gain),ne.disconnect(J.gain),I.disconnect(v,0,0),W.disconnect(v,0,0),N.disconnect(v,0,1),J.disconnect(v,0,1)}}},m=(g,y,_,v,x)=>{if(y===1)return d(g,_,v,x);if(y===2)return p(g,_,v,x);throw i()};return(g,{channelCount:y,channelCountMode:_,pan:v,...x})=>{if(_==="max")throw i();const w=t(g,{...x,channelCount:1,channelCountMode:_,numberOfInputs:2}),M=n(g,{...x,channelCount:y,channelCountMode:_,gain:1}),b=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:v});let{connectGraph:T,disconnectGraph:C}=m(g,y,M,b,w);Object.defineProperty(b.gain,"defaultValue",{get:()=>0}),Object.defineProperty(b.gain,"maxValue",{get:()=>1}),Object.defineProperty(b.gain,"minValue",{get:()=>-1});const I={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(V){M.channelCount!==V&&(R&&C(),{connectGraph:T,disconnectGraph:C}=m(g,V,M,b,w),R&&T()),M.channelCount=V},get channelCountMode(){return M.channelCountMode},set channelCountMode(V){if(V==="clamped-max"||V==="max")throw i();M.channelCountMode=V},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(V){M.channelInterpretation=V},get context(){return M.context},get inputs(){return[M]},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get pan(){return b.gain},addEventListener(...V){return M.addEventListener(V[0],V[1],V[2])},dispatchEvent(...V){return M.dispatchEvent(V[0])},removeEventListener(...V){return M.removeEventListener(V[0],V[1],V[2])}};let R=!1;const N=()=>{T(),R=!0},z=()=>{C(),R=!1};return s(Np(I,w),N,z)}},Tge=(t,e,n,r,i,s,o)=>(a,l)=>{const u=a.createWaveShaper();if(s!==null&&s.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);Rr(u,l);const c=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(c!==null&&c.length<2)throw e();Ln(u,{curve:c},"curve"),Ln(u,l,"oversample");let d=null,p=!1;return o(u,"curve",y=>()=>y.call(u),y=>_=>(y.call(u,_),p&&(r(_)&&d===null?d=t(a,u):!r(_)&&d!==null&&(d(),d=null)),_)),i(u,()=>{p=!0,r(u.curve)&&(d=t(a,u))},()=>{p=!1,d!==null&&(d(),d=null)})},Age=(t,e,n,r,i)=>(s,{curve:o,oversample:a,...l})=>{const u=s.createWaveShaper(),c=s.createWaveShaper();Rr(u,l),Rr(c,l);const d=n(s,{...l,gain:1}),p=n(s,{...l,gain:-1}),m=n(s,{...l,gain:1}),g=n(s,{...l,gain:-1});let y=null,_=!1,v=null;const x={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(b){d.channelCount=b,p.channelCount=b,u.channelCount=b,m.channelCount=b,c.channelCount=b,g.channelCount=b},get channelCountMode(){return u.channelCountMode},set channelCountMode(b){d.channelCountMode=b,p.channelCountMode=b,u.channelCountMode=b,m.channelCountMode=b,c.channelCountMode=b,g.channelCountMode=b},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(b){d.channelInterpretation=b,p.channelInterpretation=b,u.channelInterpretation=b,m.channelInterpretation=b,c.channelInterpretation=b,g.channelInterpretation=b},get context(){return u.context},get curve(){return v},set curve(b){if(b!==null&&b.length<2)throw e();if(b===null)u.curve=b,c.curve=b;else{const T=b.length,C=new Float32Array(T+2-T%2),I=new Float32Array(T+2-T%2);C[0]=b[0],I[0]=-b[T-1];const R=Math.ceil((T+1)/2),N=(T+1)/2-1;for(let z=1;z<R;z+=1){const V=z/R*N,W=Math.floor(V),K=Math.ceil(V);C[z]=W===K?b[W]:(1-(V-W))*b[W]+(1-(K-V))*b[K],I[z]=W===K?-b[T-1-W]:-((1-(V-W))*b[T-1-W])-(1-(K-V))*b[T-1-K]}C[R]=T%2===1?b[R-1]:(b[R-2]+b[R-1])/2,u.curve=C,c.curve=I}v=b,_&&(r(v)&&y===null?y=t(s,d):y!==null&&(y(),y=null))},get inputs(){return[d]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(b){u.oversample=b,c.oversample=b},addEventListener(...b){return d.addEventListener(b[0],b[1],b[2])},dispatchEvent(...b){return d.dispatchEvent(b[0])},removeEventListener(...b){return d.removeEventListener(b[0],b[1],b[2])}};o!==null&&(x.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==x.oversample&&(x.oversample=a);const w=()=>{d.connect(u).connect(m),d.connect(p).connect(c).connect(g).connect(m),_=!0,r(v)&&(y=t(s,d))},M=()=>{d.disconnect(u),u.disconnect(m),d.disconnect(p),p.disconnect(c),c.disconnect(g),g.disconnect(m),_=!1,y!==null&&(y(),y=null)};return i(Np(x,m),w,M)},Li=()=>new DOMException("","NotSupportedError"),Cge={numberOfChannels:1},Pge=(t,e,n,r,i)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:c,numberOfChannels:d,sampleRate:p}={...Cge,...u},m=r(d,c,p);e(y0,()=>y0(m))||m.addEventListener("statechange",(()=>{let g=0;const y=_=>{this._state==="running"&&(g>0?(m.removeEventListener("statechange",y),_.stopImmediatePropagation(),this._waitForThePromiseToSettle(_)):g+=1)};return y})()),super(m,d),this._length=c,this._nativeOfflineAudioContext=m,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,sB(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},Rge={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Nge=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const c=i(l),d={...Rge,...u},p=n(c,d),m=s(c),g=m?r():null,y=l.sampleRate/2;super(l,!1,p,g),this._detune=e(this,m,p.detune,153600,-153600),this._frequency=e(this,m,p.frequency,y,-y),this._nativeOscillatorNode=p,this._onended=null,this._oscillatorNodeRenderer=g,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===u?l:c}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){np(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),Sl(this)&&wv(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},Ige=(t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null,l=null;const u=async(c,d)=>{let p=n(c);const m=yi(p,d);if(!m){const g={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,periodicWave:o===null?void 0:o,type:p.type};p=e(d,g),a!==null&&p.start(a),l!==null&&p.stop(l)}return s.set(d,p),m?(await t(d,c.detune,p.detune),await t(d,c.frequency,p.frequency)):(await r(d,c.detune,p.detune),await r(d,c.frequency,p.frequency)),await i(c,d,p),p};return{set periodicWave(c){o=c},set start(c){a=c},set stop(c){l=c},render(c,d){const p=s.get(d);return p!==void 0?Promise.resolve(p):u(c,d)}}},Oge={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Lge=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const c=i(l),d={...Oge,...u},p=n(c,d),m=s(c),g=m?r():null;super(l,!1,p,g),this._nativePannerNode=p,this._orientationX=e(this,m,p.orientationX,Ei,Wi),this._orientationY=e(this,m,p.orientationY,Ei,Wi),this._orientationZ=e(this,m,p.orientationZ,Ei,Wi),this._positionX=e(this,m,p.positionX,Ei,Wi),this._positionY=e(this,m,p.positionY,Ei,Wi),this._positionZ=e(this,m,p.positionZ,Ei,Wi),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},Dge=(t,e,n,r,i,s,o,a,l,u)=>()=>{const c=new WeakMap;let d=null;const p=async(m,g)=>{let y=null,_=s(m);const v={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation},x={...v,coneInnerAngle:_.coneInnerAngle,coneOuterAngle:_.coneOuterAngle,coneOuterGain:_.coneOuterGain,distanceModel:_.distanceModel,maxDistance:_.maxDistance,panningModel:_.panningModel,refDistance:_.refDistance,rolloffFactor:_.rolloffFactor},w=yi(_,g);if("bufferSize"in _)y=r(g,{...v,gain:1});else if(!w){const M={...x,orientationX:_.orientationX.value,orientationY:_.orientationY.value,orientationZ:_.orientationZ.value,positionX:_.positionX.value,positionY:_.positionY.value,positionZ:_.positionZ.value};_=i(g,M)}if(c.set(g,y===null?_:y),y!==null){if(d===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const z=new o(6,m.context.length,g.sampleRate),V=e(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});V.connect(z.destination),d=(async()=>{const W=await Promise.all([m.orientationX,m.orientationY,m.orientationZ,m.positionX,m.positionY,m.positionZ].map(async(K,J)=>{const ne=n(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:J===0?1:0});return await a(z,K,ne.offset),ne}));for(let K=0;K<6;K+=1)W[K].connect(V,0,K),W[K].start(0);return u(z)})()}const M=await d,b=r(g,{...v,gain:1});await l(m,g,b);const T=[];for(let z=0;z<M.numberOfChannels;z+=1)T.push(M.getChannelData(z));let C=[T[0][0],T[1][0],T[2][0]],I=[T[3][0],T[4][0],T[5][0]],R=r(g,{...v,gain:1}),N=i(g,{...x,orientationX:C[0],orientationY:C[1],orientationZ:C[2],positionX:I[0],positionY:I[1],positionZ:I[2]});b.connect(R).connect(N.inputs[0]),N.connect(y);for(let z=128;z<M.length;z+=128){const V=[T[0][z],T[1][z],T[2][z]],W=[T[3][z],T[4][z],T[5][z]];if(V.some((K,J)=>K!==C[J])||W.some((K,J)=>K!==I[J])){C=V,I=W;const K=z/g.sampleRate;R.gain.setValueAtTime(0,K),R=r(g,{...v,gain:0}),N=i(g,{...x,orientationX:C[0],orientationY:C[1],orientationZ:C[2],positionX:I[0],positionY:I[1],positionZ:I[2]}),R.gain.setValueAtTime(1,K),b.connect(R).connect(N.inputs[0]),N.connect(y)}}return y}return w?(await t(g,m.orientationX,_.orientationX),await t(g,m.orientationY,_.orientationY),await t(g,m.orientationZ,_.orientationZ),await t(g,m.positionX,_.positionX),await t(g,m.positionY,_.positionY),await t(g,m.positionZ,_.positionZ)):(await a(g,m.orientationX,_.orientationX),await a(g,m.orientationY,_.orientationY),await a(g,m.orientationZ,_.orientationZ),await a(g,m.positionX,_.positionX),await a(g,m.positionY,_.positionY),await a(g,m.positionZ,_.positionZ)),Rp(_)?await l(m,g,_.inputs[0]):await l(m,g,_),_};return{render(m,g){const y=c.get(g);return y!==void 0?Promise.resolve(y):p(m,g)}}},kge={disableNormalization:!1},Fge=(t,e,n,r)=>class mB{constructor(s,o){const a=e(s),l=r({...kge,...o}),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](s){return s!==null&&typeof s=="object"&&Object.getPrototypeOf(s)===mB.prototype||n.has(s)}},Uge=(t,e)=>(n,r,i)=>(t(r).replay(i),e(r,n,i)),zge=(t,e,n)=>async(r,i,s)=>{const o=t(r);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,c])=>{const p=await e(u).render(u,i),m=r.context.destination;!n(u)&&(r!==m||!n(r))&&p.connect(s,c,l)})).reduce((a,l)=>[...a,...l],[]))},Bge=(t,e,n)=>async(r,i,s)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const c=await t(a).render(a,i);n(a)||c.connect(s,l)}))},Vge=(t,e,n,r)=>i=>t(y0,()=>y0(i))?Promise.resolve(t(r,r)).then(s=>{if(!s){const o=n(i,512,0,1);i.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>i.currentTime,o.connect(i.destination)}return i.startRendering()}):new Promise(s=>{const o=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=a=>{o.disconnect(),s(a.renderedBuffer)},o.connect(i.destination),i.startRendering()}),jge=t=>(e,n)=>{t.set(e,n)},Hge=t=>(e,n)=>t.set(e,n),Wge=(t,e,n,r,i,s,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(r(u)).map(c=>n(c).render(c,u)))).then(()=>i(u)).then(c=>(typeof c.copyFromChannel!="function"?(o(c),oP(c)):e(s,()=>s(c))||a(c),t.add(c),c)),Gge={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},$ge=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=i(a),c={...Gge,...l},d=n(u,c),p=s(u),m=p?r():null;super(a,!1,d,m),this._pan=e(this,p,d.pan)}get pan(){return this._pan}},qge=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(a,l)=>{let u=n(a);const c=yi(u,l);if(!c){const d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,d)}return s.set(l,u),c?await t(l,a.pan,u.pan):await r(l,a.pan,u.pan),Rp(u)?await i(a,l,u.inputs[0]):await i(a,l,u),u};return{render(a,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},Xge=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Yge=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),i=URL.createObjectURL(n);let s=!1,o=!1;try{await r.audioWorklet.addModule(i);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>s=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await r.startRendering()}catch{}finally{URL.revokeObjectURL(i)}return s&&!o},Zge=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(i=>{n.oncomplete=()=>{r.disconnect(),i(n.currentTime!==0)},n.startRendering()})},Kge=()=>new DOMException("","UnknownError"),Qge={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Jge=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const c=i(l),d={...Qge,...u},p=n(c,d),g=s(c)?r():null;super(l,!0,p,g),this._isCurveNullified=!1,this._nativeWaveShaperNode=p,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},e0e=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!yi(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return r.set(o,a),Rp(a)?await n(s,o,a.inputs[0]):await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},t0e=()=>typeof window>"u"?null:window,n0e=(t,e)=>n=>{n.copyFromChannel=(r,i,s=0)=>{const o=t(s),a=t(i);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=r.length;for(let d=o<0?-o:0;d+o<l&&d<c;d+=1)r[d]=u[d+o]},n.copyToChannel=(r,i,s=0)=>{const o=t(s),a=t(i);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=r.length;for(let d=o<0?-o:0;d+o<l&&d<c;d+=1)u[d+o]=r[d]}},r0e=t=>e=>{e.copyFromChannel=(n=>(r,i,s=0)=>{const o=t(s),a=t(i);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,i,s=0)=>{const o=t(s),a=t(i);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},i0e=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",i=>()=>{const s=i.call(e);return s===r?null:s},i=>s=>i.call(e,s===null?r:s))},s0e=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)i.connect(r,0,l)},()=>i.disconnect(r))},gB=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),vB=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Av=(t,e,n,r)=>{let i=t;for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:s,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(s),set:r(o)})},o0e=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),a0e=t=>({...t,channelCount:t.numberOfOutputs}),l0e=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},yB=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;yB(t,e,n+1e-7)}},u0e=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},c0e=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},h0e=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},hP=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},_B=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},dP=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},d0e=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},f0e=t=>{t.start=(e=>(n=0,r=0,i)=>{const s=t.buffer,o=s===null?r:Math.min(s.duration,r);s!==null&&o>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,i)})(t.start)},xB=(t,e)=>{const n=e.createGain();t.connect(n);const r=(i=>()=>{i.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Np(t,n),t.stop=(i=>{let s=!1;return(o=0)=>{if(s)try{i.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else i.call(t,o),s=!0}})(t.stop)},Ip=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},p0e=Lfe(td),m0e=Bfe(td),g0e=Qpe(ew),SB=new WeakMap,v0e=gme(SB),Yo=Cpe(new Map,new WeakMap),Ea=t0e(),wB=$me(Yo,Ia),fP=mme(Ai),ti=zge(Ai,fP,Lh),y0e=Gfe(wB,Pn,ti),Sn=_me(J2),Ul=_ge(Ea),fn=kme(Ul),MB=new WeakMap,EB=lme(Ip),Cv=Zme(Ea),pP=Ime(Cv),mP=Ome(Ea),bB=Lme(Ea),_0=Qme(Ea),hr=gpe(Dfe(Qz),zfe(p0e,m0e,Fx,g0e,Ux,Ai,v0e,Sv,Pn,td,Sl,Lh,C_),Yo,Ame(tA,Ux,Ai,Pn,v0,Sl),Ia,tw,Li,Xpe(Fx,tA,Ai,Pn,v0,Sn,Sl,fn),tme(MB,Ai,Bo),EB,Sn,pP,mP,bB,fn,_0),_0e=Wfe(hr,y0e,Ia,wB,Sn,fn),gP=new WeakSet,BL=qme(Ea),TB=Vpe(new Uint32Array(1)),vP=n0e(TB,Ia),yP=r0e(TB),x0e=qfe(gP,Yo,Li,BL,Ul,Xge(BL),vP,yP),nw=Vfe(Qi),AB=Bge(fP,Mv,Lh),Oa=Dpe(AB),Op=Yme(nw,Yo,u0e,c0e,h0e,hP,_B,dP,f0e,i0e(Av),xB),La=Uge(vme(Mv),AB),S0e=Zfe(Oa,Op,Pn,La,ti),Zo=vpe(kfe(Jz),MB,sP,ype,Cfe,Pfe,Rfe,Nfe,Ife,QT,Zz,Cv,yB),w0e=Yfe(hr,S0e,Zo,Vr,Op,Sn,fn,Ip),M0e=spe(hr,ope,Ia,Vr,Kme(Qi,Av),Sn,fn,ti),E0e=Ape(Oa,fB,Pn,La,ti),nd=Hge(SB),b0e=Tpe(hr,Zo,E0e,tw,fB,Sn,fn,nd),pc=Wme(td,mP),T0e=s0e(Vr,pc),mc=sge(Cv,T0e),A0e=Npe(mc,Pn,ti),C0e=Rpe(hr,A0e,mc,Sn,fn),P0e=Lpe(bv,Pn,ti),R0e=Ope(hr,P0e,bv,Sn,fn,a0e),N0e=lge(nw,Op,Qi,pc),Lp=age(nw,Yo,N0e,hP,dP),I0e=Bpe(Oa,Lp,Pn,La,ti),O0e=zpe(hr,Zo,I0e,Lp,Sn,fn,Ip),CB=uge(Li,Av),L0e=Wpe(CB,Pn,ti),D0e=Hpe(hr,L0e,CB,Sn,fn,nd),k0e=Kpe(Oa,pB,Pn,La,ti),F0e=Zpe(hr,Zo,k0e,pB,Sn,fn,nd),PB=cge(Li),U0e=sme(Oa,PB,Pn,La,ti),z0e=ime(hr,Zo,U0e,PB,Li,Sn,fn,nd),B0e=fme(Oa,Qi,Pn,La,ti),V0e=dme(hr,Zo,B0e,Qi,Sn,fn),j0e=pge(tw,Vr,Tv,Li),rw=Vge(Yo,Qi,Tv,Zge(Qi,Ul)),H0e=Tme(Op,Pn,Ul,ti,rw),W0e=hge(j0e),G0e=Eme(hr,W0e,H0e,Sn,fn,nd),$0e=ape(Zo,mc,Lp,Tv,Li,gB,fn,Av),RB=new WeakMap,q0e=Hme(M0e,$0e,EB,fn,RB,Ip),NB=xge(nw,Yo,hP,_B,dP,xB),X0e=Ige(Oa,NB,Pn,La,ti),Y0e=Nge(hr,Zo,NB,X0e,Sn,fn,Ip),IB=Fpe(Op),Z0e=Age(IB,Vr,Qi,vB,pc),iw=Tge(IB,Vr,Z0e,vB,pc,Cv,Av),K0e=wge(Fx,Vr,mc,Qi,Tv,iw,Li,Ux,gB,pc),OB=Sge(K0e),Q0e=Dge(Oa,mc,Lp,Qi,OB,Pn,Ul,La,ti,rw),J0e=Lge(hr,Zo,OB,Q0e,Sn,fn,nd),eve=Mge(Ia),tve=Fge(eve,Sn,new WeakSet,l0e),nve=bge(mc,bv,Qi,iw,Li,pc),LB=Ege(nve,Li),rve=qge(Oa,LB,Pn,La,ti),ive=$ge(hr,Zo,LB,rve,Sn,fn),sve=e0e(iw,Pn,ti),ove=Jge(hr,Vr,iw,sve,Sn,fn,nd),DB=Fme(Ea),_P=ume(Ea),kB=new WeakMap,ave=xme(kB,Ul),lve=DB?Ufe(Yo,Li,ame(Ea),_P,cme(Ofe),Sn,ave,fn,_0,new WeakMap,new WeakMap,Yge(_0,Ul),Ea):void 0,uve=Dme(pP,fn),cve=qpe(gP,Yo,$pe,ome,new WeakSet,Sn,uve,Dx,y0,vP,yP),FB=Epe(lve,_0e,x0e,w0e,b0e,C0e,R0e,O0e,D0e,cve,F0e,z0e,V0e,G0e,q0e,Y0e,J0e,tve,ive,ove),hve=Ume(hr,mge,Sn,fn),dve=Bme(hr,gge,Sn,fn),fve=Vme(hr,vge,Sn,fn),pve=yge(Vr,fn),mve=jme(hr,pve,Sn),gve=ipe(FB,Vr,Li,Kge,hve,dve,fve,mve,Cv),xP=Sme(RB),vve=jfe(xP),UB=kpe(Ia),yve=Jpe(xP),zB=nme(Ia),BB=new WeakMap,_ve=pme(BB,Bo),xve=ige(UB,Ia,Vr,mc,bv,Lp,Qi,Tv,Li,zB,_P,_ve,pc),Sve=ege(Vr,xve,Qi,Li,pc),wve=Mpe(Oa,UB,Op,mc,bv,Lp,Qi,yve,zB,_P,Pn,_0,Ul,La,ti,rw),Mve=yme(kB),Eve=jge(BB),VL=DB?xpe(vve,hr,Zo,wve,Sve,Ai,Mve,Sn,fn,_0,o0e,Eve,d0e,Ip):void 0,bve=Gpe(Li,Ul),Tve=Wge(gP,Yo,fP,xP,rw,Dx,vP,yP),Ave=Pge(FB,Yo,Vr,bve,Tve),Cve=Cme(J2,pP),Pve=Pme(iP,mP),Rve=Rme(sP,bB),Nve=Nme(J2,fn);function _t(t,e){if(!t)throw new Error(e)}function Vo(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function VB(t){!t.isOffline&&t.state!=="running"&&HB('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let jB=console;function Ive(...t){jB.log(...t)}function HB(...t){jB.warn(...t)}function ws(t){return typeof t>"u"}function kt(t){return!ws(t)}function Ove(t){return typeof t=="function"}function ba(t){return typeof t=="number"}function zu(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function WB(t){return typeof t=="boolean"}function Ki(t){return Array.isArray(t)}function jo(t){return typeof t=="string"}function Yy(t){return jo(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function Lve(t){return new gve(t)}function Dve(t,e,n){return new Ave(t,e,n)}const yh=typeof self=="object"?self:null,kve=yh&&(yh.hasOwnProperty("AudioContext")||yh.hasOwnProperty("webkitAudioContext"));function Fve(t,e,n){return _t(kt(VL),"This node only works in a secure context (https or localhost)"),new VL(t,e,n)}function Ko(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function ur(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}class Uve{constructor(e,n,r){this._callback=e,this._type=n,this._updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(e*1e3,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Dh(t){return Rve(t)}function Bu(t){return Pve(t)}function P_(t){return Nve(t)}function Kd(t){return Cve(t)}function GB(t){return t instanceof AudioBuffer}function zve(t,e){return t==="value"||Dh(e)||Bu(e)||GB(e)}function If(t,...e){if(!e.length)return t;const n=e.shift();if(zu(t)&&zu(n))for(const r in n)zve(r,n[r])?t[r]=n[r]:zu(n[r])?(t[r]||Object.assign(t,{[r]:{}}),If(t[r],n[r])):Object.assign(t,{[r]:n[r]});return If(t,...e)}function Bve(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function Pe(t,e,n=[],r){const i={},s=Array.from(e);if(zu(s[0])&&r&&!Reflect.has(s[0],r)&&(Object.keys(s[0]).some(a=>Reflect.has(t,a))||(If(i,{[r]:s[0]}),n.splice(n.indexOf(r),1),s.shift())),s.length===1&&zu(s[0]))If(i,s[0]);else for(let o=0;o<n.length;o++)kt(s[o])&&(i[n[o]]=s[o]);return If(t,i)}function Vve(t){return t.constructor.getDefaults()}function Ma(t,e){return ws(t)?e:t}function ah(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class zl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||yh&&this.toString()===yh.TONE_DEBUG_CLASS)&&Ive(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}zl.version=Yz;const SP=1e-6;function jx(t,e){return t>e+SP}function oA(t,e){return jx(t,e)||Eo(t,e)}function $B(t,e){return t+SP<e}function Eo(t,e){return Math.abs(t-e)<SP}function qB(t,e,n){return Math.max(Math.min(t,n),e)}class Da extends zl{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Pe(Da.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(_t(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];_t(oA(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Eo(this._timeline[n].time,e)){for(let r=n;r>=0&&Eo(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&oA(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const i=this._timeline.length;let s=i;if(i>0&&this._timeline[i-1][n]<=e)return i-1;for(;r<s;){let o=Math.floor(r+(s-r)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Eo(a[n],e)){for(let u=o;u<this._timeline.length;u++){const c=this._timeline[u];if(Eo(c[n],e))o=u;else break}return o}else{if($B(a[n],e)&&jx(l[n],e))return o;jx(a[n],e)?s=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let i=this._search(e),s=this._search(n);return i!==-1&&s!==-1?(this._timeline[i].time!==e&&(i+=1),this._timeline[s].time===n&&(s-=1),this._iterate(r,i,s)):i===-1&&this._iterate(r,0,s),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Eo(this._timeline[r].time,e)){let i=r;for(let s=r;s>=0&&Eo(this._timeline[s].time,e);s--)i=s;this._iterate(s=>{n(s)},i,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const XB=[];function sw(t){XB.push(t)}function jve(t){XB.forEach(e=>e(t))}const YB=[];function ow(t){YB.push(t)}function Hve(t){YB.forEach(e=>e(t))}class Pv extends zl{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(i=>{ws(this._events)&&(this._events={}),this._events.hasOwnProperty(i)||(this._events[i]=[]),this._events[i].push(n)}),this}once(e,n){const r=(...i)=>{n(...i),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(i=>{if(ws(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(ws(n))this._events[e]=[];else{const s=this._events[e];for(let o=s.length-1;o>=0;o--)s[o]===n&&s.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let i=0,s=r.length;i<s;i++)r[i].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Pv.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class ZB extends Pv{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let wP=class KB extends ZB{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Da,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=Pe(KB.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=Lve({latencyHint:e.latencyHint}),this._ticker=new Uve(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(jve(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return _t(Kd(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return _t(Kd(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return _t(Kd(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){_t(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){_t(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){_t(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){_t(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return Fve(this.rawContext,e,n)}addAudioWorkletModule(e,n){return ur(this,void 0,void 0,function*(){_t(kt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(n)||this._workletModules.set(n,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(n)})}workletsAreReady(){return ur(this,void 0,void 0,function*(){const e=[];this._workletModules.forEach(n=>e.push(n)),yield Promise.all(e)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let n=0;if(this._latencyHint=e,jo(e))switch(e){case"interactive":n=.1;break;case"playback":n=.5;break;case"balanced":n=.25;break}this.lookAhead=n,this.updateInterval=n/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Kd(this._context)?this._context.resume():Promise.resolve()}close(){return ur(this,void 0,void 0,function*(){Kd(this._context)&&(yield this._context.close()),this._initialized&&Hve(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let s=0;s<r.length;s++)r[s]=e;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=n,i.loop=!0,i.start(0),this._constants.set(e,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,i=()=>{const s=this.now();this._timeouts.add({callback:()=>{e(),i()},id:r,time:s+n})};return i(),r}};class Wve extends ZB{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e,n){return ur(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Zt(t,e){Ki(e)?e.forEach(n=>Zt(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function MP(t,e){Ki(e)?e.forEach(n=>MP(t,n)):Object.defineProperty(t,e,{writable:!0})}const tn=()=>{};class sn extends zl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=tn;const e=Pe(sn.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,e.url&&GB(e.url)||e.url instanceof sn?this.set(e.url):jo(e.url)&&this.load(e.url).catch(e.onerror)}static getDefaults(){return{onerror:tn,onload:tn,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Po().sampleRate}set(e){return e instanceof sn?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return ur(this,void 0,void 0,function*(){const n=sn.load(e).then(r=>{this.set(r),this.onload(this)});sn.downloads.push(n);try{yield n}finally{const r=sn.downloads.indexOf(n);sn.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Ki(e)&&e[0].length>0,r=n?e.length:1,i=n?e[0].length:e.length,s=Po(),o=s.createBuffer(r,i,s.sampleRate),a=!n&&r===1?[e]:e;for(let l=0;l<r;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(ba(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let i=0;i<r;i++){const s=this.toArray(i);for(let o=0;o<s.length;o++)n[o]+=s[o]}n=n.map(i=>i/r),this.fromArray(n)}return this}toArray(e){if(ba(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){const r=Math.floor(e*this.sampleRate),i=Math.floor(n*this.sampleRate);_t(r<i,"The start time must be less than the end time");const s=i-r,o=Po().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(r,i),a);return new sn(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new sn().fromArray(e)}static fromUrl(e){return ur(this,void 0,void 0,function*(){return yield new sn().load(e)})}static load(e){return ur(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const a=n[1].split("|");let l=a[0];for(const u of a)if(sn.supportsType(u)){l=u;break}e=e.replace(n[0],l)}const r=sn.baseUrl===""||sn.baseUrl.endsWith("/")?sn.baseUrl:sn.baseUrl+"/",i=yield fetch(r+e);if(!i.ok)throw new Error(`could not load url: ${e}`);const s=yield i.arrayBuffer();return yield Po().decodeAudioData(s)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return ur(this,void 0,void 0,function*(){for(yield Promise.resolve();sn.downloads.length;)yield sn.downloads[0]})}}sn.baseUrl="";sn.downloads=[];class aw extends wP{constructor(){super({clockSource:"offline",context:P_(arguments[0])?arguments[0]:Dve(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:P_(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=P_(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return ur(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(i=>setTimeout(i,1)))}})}render(e=!0){return ur(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new sn(n)})}close(){return Promise.resolve()}}const QB=new Wve;let Of=QB;function Po(){return Of===QB&&kve&&Gve(new wP),Of}function Gve(t){Kd(t)?Of=new wP(t):P_(t)?Of=new aw(t):Of=t}function $ve(){return Of.resume()}if(yh&&!yh.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Yz} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function JB(t){return Math.pow(10,t/20)}function ml(t){return 20*(Math.log(t)/Math.LN10)}function eV(t){return Math.pow(2,t/12)}let lw=440;function qve(){return lw}function Xve(t){lw=t}function aA(t){return Math.round(tV(t))}function tV(t){return 69+12*Math.log2(t/lw)}function Yve(t){return lw*Math.pow(2,(t-69)/12)}class EP extends zl{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),i=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/r)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let i=0;return e&&e!=="0"&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(i+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(i+=this._beatsToUnits(parseFloat(r)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof EP&&this.fromType(this._val),ws(this._val))return this._noArg();if(jo(this._val)&&ws(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(zu(this._val)){let e=0;for(const n in this._val)if(kt(this._val[n])){const r=this._val[n],i=new this.constructor(this.context,n).valueOf()*r;e+=i}return e}if(kt(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return jo(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Ro extends EP{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Ro(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),i=this.valueOf(),a=Math.round(i/r)*r-i;return i+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let s=1;s<9;s++){const o=Math.pow(2,s);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],i=new Ro(this.context,n[0]).toSeconds();return n.forEach(s=>{const o=new Ro(this.context,s).toSeconds();Math.abs(o-e)<Math.abs(i-e)&&(r=s,i=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let i=n%1*4;n=Math.floor(n)%this._getTimeSignature();const s=i.toString();return s.length>3&&(i=parseFloat(parseFloat(s).toFixed(3))),[r,n,i].join(":")}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.round(n*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return aA(this.toFrequency())}_now(){return this.context.now()}}class Ks extends Ro{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return qve()}static set A4(e){Xve(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Ks.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,n){const i=Zve[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?i:Ks.mtof(i)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let i=1;return e&&e!=="0"&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(i*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(i*=this._beatsToUnits(parseFloat(r)/4)),i}}})}transpose(e){return new Ks(this.context,this.valueOf()*eV(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return aA(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Ks.A4);let r=Math.round(12*n)+57;const i=Math.floor(r/12);return i<0&&(r+=-12*i),Kve[r%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Yve(e)}static ftom(e){return aA(e)}}const Zve={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Kve=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Lf extends Ro{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class jr extends zl{constructor(){super();const e=Pe(jr.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Po()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new Ro(this.context,e).toSeconds()}toFrequency(e){return new Ks(this.context,e).toFrequency()}toTicks(e){return new Lf(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{ws(e[r])&&delete n[r]}),n}get(){const e=Vve(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];kt(r)&&kt(r.value)&&kt(r.setValueAtTime)?e[n]=r.value:r instanceof jr?e[n]=r._getPartialProperties(e[n]):Ki(r)||ba(r)||jo(r)||WB(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&kt(this[n])&&(this[n]&&kt(this[n].value)&&kt(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof jr?this[n].set(e[n]):this[n]=e[n])}),this}}class Rv extends Da{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return Vo(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let i=r;i>=0;i--){const s=this._timeline[i];if(s.state===e)return s}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let i=r;i<this._timeline.length;i++){const s=this._timeline[i];if(s.state===e)return s}}}class Gt extends jr{constructor(){super(Pe(Gt.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=Pe(Gt.getDefaults(),arguments,["param","units","convert"]);for(_t(kt(e.param)&&(Dh(e.param)||e.param instanceof Gt),"param must be an AudioParam");!Dh(e.param);)e.param=e.param._param;this._swappable=kt(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Da(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,kt(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(jr.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return kt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return kt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return kt(this.maxValue)&&kt(this.minValue)&&Vo(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?JB(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?ml(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),i=this._fromType(e);return _t(isFinite(i)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),i=this._events.get(n);let s=this._initialValue;if(i===null)s=this._initialValue;else if(i.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(i.time);let a;o===null?a=this._initialValue:a=o.value,i.type==="setTargetAtTime"&&(s=this._exponentialApproach(i.time,a,i.value,i.constant,n))}else if(r===null)s=i.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=i.value;if(i.type==="setTargetAtTime"){const a=this._events.getBefore(i.time);a===null?o=this._initialValue:o=a.value}r.type==="linearRampToValueAtTime"?s=this._linearInterpolate(i.time,o,r.time,r.value,n):s=this._exponentialInterpolate(i.time,o,r.time,r.value,n)}else s=i.value;return this._toType(s)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),i=this.toSeconds(n);return _t(isFinite(r)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:i,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,i),this._param.linearRampToValueAtTime(r,i),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Eo(r,0)?this._minOutput:r,this._assertRange(r);const i=this.toSeconds(n);return _t(isFinite(r)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,i),this._param.exponentialRampToValueAtTime(r,i),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const i=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,i),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const i=this._fromType(e);_t(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const s=this.toSeconds(n);return this._assertRange(i),_t(isFinite(i)&&isFinite(s),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:s,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",e,s,r),this._param.setTargetAtTime(i,s,r),this}setValueCurveAtTime(e,n,r,i=1){r=this.toSeconds(r),n=this.toSeconds(n);const s=this._fromType(e[0])*i;this.setValueAtTime(this._toType(s),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*i;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return _t(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));_t(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const i=this._events.get(n),s=this._events.getAfter(n);return i&&Eo(i.time,n)?s?(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):s&&(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time),s.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):s.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const i=this._events.getAfter(r.time),s=i?i.time:n+2,o=(s-n)/10;for(let a=n;a<s;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,i=>{i.type==="cancelScheduledValues"?e.cancelScheduledValues(i.time):i.type==="setTargetAtTime"?e.setTargetAtTime(i.value,i.time,i.constant):e[i.type](i.value,i.time)}),this}setParam(e){_t(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,i,s){return r+(n-r)*Math.exp(-(s-e)/i)}_linearInterpolate(e,n,r,i,s){return n+(i-n)*((s-e)/(r-e))}_exponentialInterpolate(e,n,r,i,s){return n*Math.pow(i/n,(s-e)/(r-e))}}class at extends jr{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return kt(this.input)?Dh(this.input)||this.input instanceof Gt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return kt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return kt(e)&&(e instanceof at||Bu(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();_t(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return Ho(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return HB("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return nV(this,e,n,r),this}chain(...e){return kh(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),kt(this.input)&&(this.input instanceof at?this.input.dispose():Bu(this.input)&&this.input.disconnect()),kt(this.output)&&(this.output instanceof at?this.output.dispose():Bu(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function kh(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof at?n.connect(r):Bu(n)&&Ho(n,r),r),e)}function Ho(t,e,n=0,r=0){for(_t(kt(t),"Cannot connect from undefined node"),_t(kt(e),"Cannot connect to undefined node"),(e instanceof at||Bu(e))&&_t(e.numberOfInputs>0,"Cannot connect to node with no inputs"),_t(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof at||e instanceof Gt;)kt(e.input)&&(e=e.input);for(;t instanceof at;)kt(t.output)&&(t=t.output);Dh(e)?t.connect(e,n):t.connect(e,n,r)}function nV(t,e,n=0,r=0){if(kt(e))for(;e instanceof at;)e=e.input;for(;!Bu(t);)kt(t.output)&&(t=t.output);Dh(e)?t.disconnect(e,n):Bu(e)?t.disconnect(e,n,r):t.disconnect()}class $t extends at{constructor(){super(Pe($t.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=Pe($t.getDefaults(),arguments,["gain","units"]);this.gain=new Gt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Zt(this,"gain")}static getDefaults(){return Object.assign(at.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class rp extends at{constructor(e){super(e),this.onended=tn,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new $t({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(at.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:tn})}_startGain(e,n=1){_t(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){_t(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.context.currentTime),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==tn&&(this.onended(this),this.onended=tn,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),_t(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Hx extends rp{constructor(){super(Pe(Hx.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=Pe(Hx.getDefaults(),arguments,["offset"]);Ho(this._source,this._gainNode),this.offset=new Gt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(rp.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class nn extends at{constructor(){super(Pe(nn.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=Pe(nn.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Hx({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(at.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return uw(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,i){return this._param.setValueCurveAtTime(e,n,r,i),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function uw(t,e,n,r){(e instanceof Gt||Dh(e)||e instanceof nn&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof nn&&(e.overridden=!0)),Ho(t,e,n,r)}class Wx extends Gt{constructor(){super(Pe(Wx.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Da(1/0),this._multiplier=1;const e=Pe(Wx.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Gt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const i=this._fromType(e),s=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const l=r*a+n,u=this._exponentialApproach(s.time,s.value,i,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const i=this._events.get(r),s=this._events.previousEvent(i),o=this._getTicksUntilEvent(s,r);return i.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const i=this._events.get(r),s=this._events.previousEvent(i),o=this._getTicksUntilEvent(s,r);return i.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),i=this._events.get(n),s=Math.round(Math.max((n-i.time)*10,1)),o=(n-i.time)/s;for(let a=0;a<=s;a++){const l=o*a+i.time,u=this._exponentialInterpolate(i.time,i.value,n,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ws(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let i=this._fromType(this.getValueAtTime(n));const s=this._events.get(n);return s&&s.time===n&&s.type==="setValueAtTime"&&(i=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+i)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),i=this.getTicksAtTime(n);return this.getTimeOfTick(i+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const i=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-i)/(r.time-n.time),a=Math.sqrt(Math.pow(i,2)-2*o*(n.ticks-e)),l=(-i+a)/o,u=(-i-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),i=this.toSeconds(e),s=this.getTicksAtTime(r);return this.getTicksAtTime(r+i)-s}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Gx extends nn{constructor(){super(Pe(Gx.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=Pe(Gx.getDefaults(),arguments,["value"]);this.input=this._param=new Wx({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(nn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class $x extends jr{constructor(){super(Pe($x.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Rv,this._tickOffset=new Da;const e=Pe($x.getDefaults(),arguments,["frequency"]);this.frequency=new Gx({context:this.context,units:e.units,value:e.frequency}),Zt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},jr.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),kt(n)&&this.setTicksAtTime(n,r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&this._state.setStateAtTime("paused",n),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),i={state:"paused",time:n};this._state.add(i);let s=r,o=0;return this._state.forEachBetween(r.time,n+this.sampleTime,a=>{let l=s.time;const u=this._tickOffset.get(a.time);u&&u.time>=s.time&&(o=u.ticks,l=u.time),s.state==="started"&&a.state!=="started"&&(o+=this.frequency.getTicksAtTime(a.time)-this.frequency.getTicksAtTime(l)),s=a}),this._state.remove(i),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);let i=n,s=0;return this._state.forEachBetween(n.time,e+this.sampleTime,o=>{let a=i.time;const l=this._tickOffset.get(o.time);l&&l.time>=i.time&&(s=l.seconds,a=l.time),i.state==="started"&&o.state!=="started"&&(s+=o.time-a),i=o}),this._state.remove(r),s}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),i=this._state.get(n),s=Math.max(r.time,i.time),o=this.frequency.getTicksAtTime(s)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let i=this._state.get(e);this._state.forEachBetween(e,n,o=>{i&&i.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(i.time,e),o.time-this.sampleTime,r),i=o});let s=null;if(i&&i.state==="started"){const o=Math.max(i.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(i.time),u=a-l;let c=Math.ceil(u)-u;c=Eo(c,1)?0:c;let d=this.frequency.getTimeOfTick(a+c);for(;d<n;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(p){s=p;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(s)throw s;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class x0 extends jr{constructor(){super(Pe(x0.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=tn,this._lastUpdate=0,this._state=new Rv("stopped"),this._boundLoop=this._loop.bind(this);const e=Pe(x0.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new $x({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Zt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(jr.getDefaults(),{callback:tn,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){VB(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),i=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(i+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const i=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,i);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,i)=>{this.callback(r,i)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Pv.mixin(x0);class ip extends at{constructor(){super(Pe(ip.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=Pe(ip.getDefaults(),arguments,["delayTime","maxDelay"]),n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new Gt({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Zt(this,"delayTime")}static getDefaults(){return Object.assign(at.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class bP extends zl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Pe(bP.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:tn,onload:tn,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return _t(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=tn,i=tn){return jo(n)?this._buffers.set(e.toString(),new sn(this.baseUrl+n,r,i)):this._buffers.set(e.toString(),new sn(n,r,i)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class An extends Lf{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Qve extends jr{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Da,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}sw(t=>{t.draw=new Qve({context:t})});ow(t=>{t.draw.dispose()});class Jve extends zl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){_t(kt(e.time),"Events must have a time property"),_t(kt(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new e1e(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,i=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,i=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,i=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,i=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,i=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),i&&this._rebalance(i)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),i=e.right;i&&(e.right=i.left,i.left=e),n!==null?r?n.left=i:n.right=i:this._setRoot(i)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),i=e.left;i&&(e.left=i.right,i.right=e),n!==null?r?n.left=i:n.right=i:this._setRoot(i)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let i=1;i<n.length;i++)n[i].low>r.low&&(r=n[i]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(i=>{i.event&&n(i.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(i=>{i.event&&n(i.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class e1e{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ju extends at{constructor(){super(Pe(Ju.getDefaults(),arguments,["volume"])),this.name="Volume";const e=Pe(Ju.getDefaults(),arguments,["volume"]);this.input=this.output=new $t({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Zt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(at.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class qx extends at{constructor(){super(Pe(qx.getDefaults(),arguments)),this.name="Destination",this.input=new Ju({context:this.context}),this.output=new $t({context:this.context}),this.volume=this.input.volume;const e=Pe(qx.getDefaults(),arguments);kh(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(at.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),kh(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}sw(t=>{t.destination=new qx({context:t})});ow(t=>{t.destination.dispose()});class t1e extends zl{constructor(e){super(),this.name="TimelineValue",this._timeline=new Da({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class ec{constructor(e,n){this.id=ec._eventId++;const r=Object.assign(ec.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=r.time}static getDefaults(){return{callback:tn,once:!1,time:0}}invoke(e){this.callback&&(this.callback(e),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}ec._eventId=0;class TP extends ec{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(TP.getDefaults(),n);this.duration=new An(e.context,r.duration).valueOf(),this._interval=new An(e.context,r.interval).valueOf(),this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ec.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const n=this.transport.getTicksAtTime(e);n>=this.time&&n>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new An(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const n=this.transport.getTicksAtTime(e);n>this.time&&(this._nextTick=this.time+Math.ceil((n-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new An(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new An(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}let rV=class lA extends jr{constructor(){super(Pe(lA.getDefaults(),arguments)),this.name="Transport",this._loop=new t1e(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Da,this._repeatedEvents=new Jve,this._syncedSignals=[],this._swingAmount=0;const e=Pe(lA.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new x0({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Zt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(jr.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),i=Math.sin(r*Math.PI)*this._swingAmount;e+=new An(this.context,this._swingTicks*2/3).toSeconds()*i}this._timeline.forEachAtTime(n,r=>r.invoke(e))}schedule(e,n){const r=new ec(this,{callback:e,time:new Lf(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,i=1/0){const s=new TP(this,{callback:e,duration:new Ro(this.context,i).toTicks(),interval:new Ro(this.context,n).toTicks(),time:new Lf(this.context,r).toTicks()});return this._addEvent(s,this._repeatedEvents)}scheduleOnce(e,n){const r=new ec(this,{callback:e,once:!0,time:new Lf(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new An(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){let r;return kt(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Ki(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Ro(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Ro(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new An(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new An(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),i=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),s=n+i;this.emit("stop",s),this._clock.setTicksAtTime(e,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),i=e-r%e;return this._clock.nextTickTime(i,n)}}syncSignal(e,n){if(!n){const i=this.now();if(e.getValueAtTime(i)!==0){const o=1/(60/this.bpm.getValueAtTime(i)/this.PPQ);n=e.getValueAtTime(i)/o}else n=0}const r=new $t(n);return this.bpm.connect(r),r.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:r,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.ratio.dispose(),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),MP(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}};Pv.mixin(rV);sw(t=>{t.transport=new rV({context:t})});ow(t=>{t.transport.dispose()});class Qr extends at{constructor(e){super(e),this.input=void 0,this._state=new Rv("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=tn,this._syncedStop=tn,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ju({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Zt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(at.getDefaults(),{mute:!1,onstop:tn,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let i=ws(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(i=this._clampToCurrentTime(i),!this._synced&&this._state.getValueAtTime(i)==="started")_t(jx(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,n,r);else if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const s=this._state.get(i);s&&(s.offset=this.toSeconds(Ma(n,0)),s.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},i);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else VB(this.context),this._start(i,n,r);return this}stop(e){let n=ws(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||kt(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(n>0){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const i=n-this.toSeconds(r.time);let s;r.duration&&(s=this.toSeconds(r.duration)-i),this._start(e,this.toSeconds(r.offset)+i,s)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=tn,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class sp extends rp{constructor(){super(Pe(sp.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=Pe(sp.getDefaults(),arguments,["url","onload"]);Ho(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Gt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new sn(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(rp.getDefaults(),{url:new sn,loop:!1,loopEnd:0,loopStart:0,onload:tn,onerror:tn,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,i=1){_t(this.buffer.loaded,"buffer is either not set or not loaded");const s=this.toSeconds(e);this._startGain(s,i),this.loop?n=Ma(n,this.loopStart):n=Ma(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;oA(o,a)&&(o=(o-l)%u+l),Eo(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,$B(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(s,o)),kt(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(s+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class S0 extends Qr{constructor(){super(Pe(S0.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=Pe(S0.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Qr.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(_t(e in jL,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const n=this.now();this._stop(n),this._start(n)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const n=jL[this._type];this._source=new sp({url:n,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Gd=44100*5,Sb=2,Ja={brown:null,pink:null,white:null},jL={get brown(){if(!Ja.brown){const t=[];for(let e=0;e<Sb;e++){const n=new Float32Array(Gd);t[e]=n;let r=0;for(let i=0;i<Gd;i++){const s=Math.random()*2-1;n[i]=(r+.02*s)/1.02,r=n[i],n[i]*=3.5}}Ja.brown=new sn().fromArray(t)}return Ja.brown},get pink(){if(!Ja.pink){const t=[];for(let e=0;e<Sb;e++){const n=new Float32Array(Gd);t[e]=n;let r,i,s,o,a,l,u;r=i=s=o=a=l=u=0;for(let c=0;c<Gd;c++){const d=Math.random()*2-1;r=.99886*r+d*.0555179,i=.99332*i+d*.0750759,s=.969*s+d*.153852,o=.8665*o+d*.3104856,a=.55*a+d*.5329522,l=-.7616*l-d*.016898,n[c]=r+i+s+o+a+l+u+d*.5362,n[c]*=.11,u=d*.115926}}Ja.pink=new sn().fromArray(t)}return Ja.pink},get white(){if(!Ja.white){const t=[];for(let e=0;e<Sb;e++){const n=new Float32Array(Gd);t[e]=n;for(let r=0;r<Gd;r++)n[r]=Math.random()*2-1}Ja.white=new sn().fromArray(t)}return Ja.white}};function rd(t,e){return ur(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new aw(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Xx extends rp{constructor(){super(Pe(Xx.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=Pe(Xx.getDefaults(),arguments,["frequency","type"]);Ho(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Gt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Gt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Zt(this,["frequency","detune"])}static getDefaults(){return Object.assign(rp.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Bn extends Qr{constructor(){super(Pe(Bn.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=Pe(Bn.getDefaults(),arguments,["frequency","type"]);this.frequency=new nn({context:this.context,units:"frequency",value:e.frequency}),Zt(this,"frequency"),this.detune=new nn({context:this.context,units:"cents",value:e.detune}),Zt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Qr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new Xx({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Bn._periodicWaveCache.find(n=>n.phase===this._phase&&Bve(n.partials,this._partials));{const e=Bn._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(kt(r)){const{partials:i,wave:s}=r;this._wave=s,this._partials=i,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[i,s]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(i,s);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Bn._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),Bn._periodicWaveCache.length>100&&Bn._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Vo(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const i=new Float32Array(e);this._partials.forEach((s,o)=>i[o]=s),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(e,n){let i=2048;const s=new Float32Array(i),o=new Float32Array(i);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,i=a,this._partials.length===0)return[s,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),i=a):this._partialCount=0,this._partials=[]}for(let l=1;l<i;++l){const u=2/(l*Math.PI);let c;switch(e){case"sine":c=l<=a?1:0,this._partials[l-1]=c;break;case"square":c=l&1?2*u:0,this._partials[l-1]=c;break;case"sawtooth":c=u*(l&1?1:-1),this._partials[l-1]=c;break;case"triangle":l&1?c=2*(u*u)*(l-1>>1&1?-1:1):c=0,this._partials[l-1]=c;break;case"custom":c=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}c!==0?(s[l]=-c*Math.sin(n*l),o[l]=c*Math.cos(n*l)):(s[l]=0,o[l]=0)}return[s,o]}_inverseFFT(e,n,r){let i=0;const s=e.length;for(let o=0;o<s;o++)i+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return i}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const i=Math.PI*2,s=32;for(let o=0;o<s;o++)r=Math.max(this._inverseFFT(e,n,o/s*i),r);return qB(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return ur(this,void 0,void 0,function*(){return rd(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Bn._periodicWaveCache=[];class tc extends at{constructor(){super(Object.assign(Pe(tc.getDefaults(),arguments,["context"])))}connect(e,n=0,r=0){return uw(this,e,n,r),this}}class Fh extends tc{constructor(){super(Object.assign(Pe(Fh.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=Pe(Fh.getDefaults(),arguments,["mapping","length"]);Ki(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Ove(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(nn.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let i=0,s=n;i<s;i++){const o=i/(s-1)*2-1;r[i]=e(o,i)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));_t(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class iV extends tc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Fh({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ta extends nn{constructor(){super(Object.assign(Pe(Ta.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=Pe(Ta.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new $t({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(nn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class w0 extends Qr{constructor(){super(Pe(w0.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new iV({context:this.context}),this._modulationNode=new $t({context:this.context});const e=Pe(w0.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Bn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Bn({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ta({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Zt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Bn.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return ur(this,void 0,void 0,function*(){return rd(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class M0 extends Qr{constructor(){super(Pe(M0.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new $t({context:this.context,gain:0});const e=Pe(M0.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Bn({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new nn({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Bn({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ta({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Ta({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Zt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Bn.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return ur(this,void 0,void 0,function*(){return rd(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class op extends Qr{constructor(){super(Pe(op.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new $t({context:this.context,gain:0}),this._thresh=new Fh({context:this.context,mapping:n=>n<=0?-1:1});const e=Pe(op.getDefaults(),arguments,["frequency","width"]);this.width=new nn({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Bn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Zt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return ur(this,void 0,void 0,function*(){return rd(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class E0 extends Qr{constructor(){super(Pe(E0.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=Pe(E0.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new nn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new nn({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Zt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Bn.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((i,s)=>i.detune.value=n+r*s)}}get count(){return this._oscillators.length}set count(e){if(Vo(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new Bn({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):tn});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return ur(this,void 0,void 0,function*(){return rd(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class b0 extends Qr{constructor(){super(Pe(b0.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ta({context:this.context,value:2});const e=Pe(b0.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new op({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Bn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Zt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return ur(this,void 0,void 0,function*(){return rd(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const HL={am:w0,fat:E0,fm:M0,oscillator:Bn,pulse:op,pwm:b0};class Uh extends Qr{constructor(){super(Pe(Uh.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=Pe(Uh.getDefaults(),arguments,["frequency","type"]);this.frequency=new nn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new nn({context:this.context,units:"cents",value:e.detune}),Zt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Bn.getDefaults(),M0.getDefaults(),w0.getDefaults(),E0.getDefaults(),op.getDefaults(),b0.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=HL[e],r=this.now();if(this._oscillator){const i=this._oscillator;i.stop(r),this.context.setTimeout(()=>i.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof HL[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&ba(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&ba(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&jo(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return ur(this,void 0,void 0,function*(){return rd(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class AP extends nn{constructor(){super(Object.assign(Pe(AP.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new $t({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,kh(this._constantSource,this._sum)}static getDefaults(){return Object.assign(nn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Yx extends tc{constructor(){super(Object.assign(Pe(Yx.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=Pe(Yx.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Ta({context:this.context,value:e.max-e.min}),this._add=this.output=new AP({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(tc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class CP extends tc{constructor(){super(Object.assign(Pe(CP.getDefaults(),arguments))),this.name="Zero",this._gain=new $t({context:this.context}),this.output=this._gain,this.input=void 0,Ho(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),nV(this.context.getConstant(0),this._gain),this}}class ap extends at{constructor(){super(Pe(ap.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Gt.prototype._fromType,this._toType=Gt.prototype._toType,this._is=Gt.prototype._is,this._clampValue=Gt.prototype._clampValue;const e=Pe(ap.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new Bn(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new $t({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new nn({context:this.context,units:"audioRange",value:0}),this._zeros=new CP({context:this.context}),this._a2g=new iV({context:this.context}),this._scaler=this.output=new Yx({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Zt(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Bn.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,r=this.max;this._units=e,this.min=n,this.max=r}get state(){return this._oscillator.state}connect(e,n,r){return(e instanceof Gt||e instanceof nn)&&(this.convert=e.convert,this.units=e.units),uw(this,e,n,r),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function sV(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Vo(s,t,e),n.set(this,s)}})}}function Bl(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Vo(this.toSeconds(s),t,e),n.set(this,s)}})}}class T0 extends Qr{constructor(){super(Pe(T0.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=Pe(T0.getDefaults(),arguments,["url","onload"]);this._buffer=new sn({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Qr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:tn,onerror:tn,playbackRate:1,reverse:!1})}load(e){return ur(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=tn){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Ma(n,this._loopStart):n=Ma(n,0);const i=this.toSeconds(n),s=r;r=Ma(r,Math.max(this._buffer.duration-i,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const a=new sp({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&ws(s)?a.start(e,i):a.start(e,i,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){this._stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const i=this.toSeconds(e);this._stop(r),this._start(r,i)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Vo(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Vo(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(i=>i.cancelStop())),this._activeSources.forEach(i=>{i.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Ko([Bl(0)],T0.prototype,"fadeIn",void 0);Ko([Bl(0)],T0.prototype,"fadeOut",void 0);class n1e extends tc{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Fh({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class no extends at{constructor(){super(Pe(no.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new nn({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=Pe(no.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(at.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(jo(e))return e;{let r;for(r in Zy)if(Zy[r][n]===e)return r;return e}}_setCurve(e,n,r){if(jo(r)&&Reflect.has(Zy,r)){const i=Zy[r];zu(i)?e!=="_decayCurve"&&(this[e]=i[n]):this[e]=i}else if(Ki(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){_t(["linear","exponential"].some(n=>n===e),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let i=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/i;i=(1-o)/a}if(i<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,i,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,i,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,i,n)}if(s&&this.sustain<1){const a=n*this.sustain,l=e+i;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,s+l):this._sig.exponentialApproachValueAtTime(a,l,s)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(_t(Ki(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return uw(this,e,n,r),this}asArray(e=1024){return ur(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,r=new aw(1,n,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),s=i+this.toSeconds(this.release),o=s*.1,a=s+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(n*(i+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Ko([Bl(0)],no.prototype,"attack",void 0);Ko([Bl(0)],no.prototype,"decay",void 0);Ko([sV(0,1)],no.prototype,"sustain",void 0);Ko([Bl(0)],no.prototype,"release",void 0);const Zy=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/(128-1)*(Math.PI/2));const i=[],s=6.4;for(e=0;e<128-1;e++){n=e/(128-1);const p=Math.sin(n*(Math.PI*2)*s-Math.PI/2)+1;i[e]=p/10+n*.83}i[128-1]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/(128-1)*a)/a;const l=[];for(e=0;e<128;e++)n=e/(128-1),l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/(128-1);const p=Math.pow(n,3)*4+.2,m=Math.cos(p*Math.PI*2*n);u[e]=Math.abs(m*(1-n))}function c(p){const m=new Array(p.length);for(let g=0;g<p.length;g++)m[g]=1-p[g];return m}function d(p){return p.slice(0).reverse()}return{bounce:{In:c(u),Out:u},cosine:{In:r,Out:d(r)},exponential:"exponential",linear:"linear",ripple:{In:i,Out:c(i)},sine:{In:l,Out:c(l)},step:{In:o,Out:c(o)}}})();class zh extends at{constructor(){super(Pe(zh.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=Pe(zh.getDefaults(),arguments);this._volume=this.output=new Ju({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Zt(this,"volume")}static getDefaults(){return Object.assign(at.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...i)=>{const s=i[n],o=this.context.transport.schedule(a=>{i[n]=a,r.apply(this,i)},s);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,n,r,i){const s=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,s,i),this.triggerRelease(s+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Nl extends zh{constructor(){super(Pe(Nl.getDefaults(),arguments));const e=Pe(Nl.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(zh.getDefaults(),{detune:0,onsilence:tn,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const i=this.toSeconds(n);return this._triggerEnvelopeAttack(i,r),this.setNote(e,i),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),i=e instanceof Ks?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const s=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,s,r)}else this.frequency.setValueAtTime(i,r);return this}}Ko([Bl(0)],Nl.prototype,"portamento",void 0);class PP extends no{constructor(){super(Pe(PP.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new $t({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class nc extends Nl{constructor(){super(Pe(nc.getDefaults(),arguments)),this.name="Synth";const e=Pe(nc.getDefaults(),arguments);this.oscillator=new Uh(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new PP(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Zt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Nl.getDefaults(),{envelope:Object.assign(ah(no.getDefaults(),Object.keys(at.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(ah(Uh.getDefaults(),[...Object.keys(Qr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),i=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+i)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class A0 extends Nl{constructor(){super(Pe(A0.getDefaults(),arguments)),this.name="ModulationSynth";const e=Pe(A0.getDefaults(),arguments);this._carrier=new nc({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new nc({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new nn({context:this.context,units:"frequency"}),this.detune=new nn({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new Ta({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new $t({context:this.context,gain:0}),Zt(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Nl.getDefaults(),{harmonicity:3,oscillator:Object.assign(ah(Uh.getDefaults(),[...Object.keys(Qr.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(ah(no.getDefaults(),Object.keys(at.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(ah(Uh.getDefaults(),[...Object.keys(Qr.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(ah(no.getDefaults(),Object.keys(at.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,n){this._carrier._triggerEnvelopeAttack(e,n),this._modulator._triggerEnvelopeAttack(e,n)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class C0 extends at{constructor(){super(Pe(C0.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=Pe(C0.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Gt({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Gt({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Gt({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Gt({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(at.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){_t(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let o=0;o<e;o++){const l=Math.pow(o/e,2)*(2e4-20)+20;n[o]=l}const r=new Float32Array(e),i=new Float32Array(e),s=this.context.createBiquadFilter();return s.type=this.type,s.Q.value=this.Q.value,s.frequency.value=this.frequency.value,s.gain.value=this.gain.value,s.getFrequencyResponse(n,r,i),r}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class rc extends at{constructor(){super(Pe(rc.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new $t({context:this.context}),this.output=new $t({context:this.context}),this._filters=[];const e=Pe(rc.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new nn({context:this.context,units:"positive",value:e.Q}),this.frequency=new nn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new nn({context:this.context,units:"cents",value:e.detune}),this.gain=new nn({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Zt(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(at.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){_t(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(r=>r.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=ba(e)?e:parseInt(e,10),r=[-12,-24,-48,-96];let i=r.indexOf(n);_t(i!==-1,`rolloff can only be ${r.join(", ")}`),i+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(s=>s.disconnect()),this._filters=new Array(i);for(let s=0;s<i;s++){const o=new C0({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[s]=o}this._internalChannels=this._filters,kh(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new C0({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),r=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((s,o)=>r[o]*=s)}),n.dispose(),r}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),MP(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Zx extends A0{constructor(){super(Pe(Zx.getDefaults(),arguments)),this.name="FMSynth";const e=Pe(Zx.getDefaults(),arguments);this.modulationIndex=new Ta({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(A0.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class P0 extends nc{constructor(){super(Pe(P0.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=Pe(P0.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Zt(this,["oscillator","envelope"])}static getDefaults(){return If(Nl.getDefaults(),nc.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),i=this.toFrequency(e instanceof Ks?e.toFrequency():e),s=i*this.octaves;return this.oscillator.frequency.setValueAtTime(s,r),this.oscillator.frequency.exponentialRampToValueAtTime(i,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ko([sV(0)],P0.prototype,"octaves",void 0);Ko([Bl(0)],P0.prototype,"pitchDecay",void 0);const oV=new Set;function RP(t){oV.add(t)}function aV(t,e){const n=`registerProcessor("${t}", ${e})`;oV.add(n)}const r1e=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;RP(r1e);const i1e=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;RP(i1e);const s1e=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;RP(s1e);const o1e="feedback-comb-filter",a1e=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;aV(o1e,a1e);class gl extends zh{constructor(){super(Pe(gl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=Pe(gl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(r=>{const i=parseInt(r,10);if(_t(Yy(r)||ba(i)&&isFinite(i),`url key is neither a note or midi pitch: ${r}`),Yy(r)){const s=new Ks(this.context,r).toMidi();n[s]=e.urls[r]}else ba(i)&&isFinite(i)&&(n[i]=e.urls[i])}),this._buffers=new bP({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(zh.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:tn,onerror:tn,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(i=>{const s=tV(new Ks(this.context,i).toFrequency()),o=Math.round(s),a=s-o,l=this._findClosest(o),u=o-l,c=this._buffers.get(u),d=eV(l+a),p=new sp({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);p.start(n,0,c.duration/d,r),Ki(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(p),p.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const m=this._activeSources.get(o),g=m.indexOf(p);g!==-1&&m.splice(g,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=new Ks(this.context,r).toMidi();if(this._activeSources.has(i)&&this._activeSources.get(i).length){const s=this._activeSources.get(i);n=this.toSeconds(n),s.forEach(o=>{o.stop(n)}),this._activeSources.set(i,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,i=1){const s=this.toSeconds(r);return this.triggerAttack(e,s,i),Ki(n)?(_t(Ki(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,s+this.toSeconds(l))})):this.triggerRelease(e,s+this.toSeconds(n)),this}add(e,n,r){if(_t(Yy(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Yy(e)){const i=new Ks(this.context,e).toMidi();this._buffers.add(i,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Ko([Bl(0)],gl.prototype,"attack",void 0);Ko([Bl(0)],gl.prototype,"release",void 0);class ga extends jr{constructor(){super(Pe(ga.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Rv("stopped"),this._startOffset=0;const e=Pe(ga.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(jr.getDefaults(),{callback:tn,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let r;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const i=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||ba(this._loop)&&this._loop>1){r=1/0,ba(this._loop)&&(r=this._loop*this._getLoopDuration());const s=this._state.getAfter(i);s!==null&&(r=Math.min(r,s.time-i)),r!==1/0&&(this._state.setStateAtTime("stopped",i+r+1,{id:-1}),r=new An(this.context,r));const o=new An(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),o,new An(this.context,i),r)}else n.id=this.context.transport.schedule(this._tick.bind(this),new An(this.context,i))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);const n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const r=this._state.getBefore(n);let i=n;r!==null&&(i=r.time),this._rescheduleEvents(i)}return this}cancel(e){e=Ma(e,-1/0);const n=this.toTicks(e);return this._state.forEachFrom(n,r=>{this.context.transport.clear(r.id)}),this._state.cancel(n),this}_tick(e){const n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let r=.02;WB(this.humanize)||(r=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*r}this.callback(e,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new An(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new An(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){const r=this._getLoopDuration();return(e-n.time)%r/r}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class R0 extends jr{constructor(){super(Pe(R0.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const e=Pe(R0.getDefaults(),arguments,["callback","interval"]);this._event=new ga({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign(jr.getDefaults(),{interval:"4n",callback:tn,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(e){e===1/0?this._event.loop=!0:this._event.loop=e}dispose(){return super.dispose(),this._event.dispose(),this}}class gg extends ga{constructor(){super(Pe(gg.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new Rv("stopped"),this._events=new Set;const e=Pe(gg.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,e.events.forEach(n=>{Ki(n)?this.add(n[0],n[1]):this.add(n)})}static getDefaults(){return Object.assign(ga.getDefaults(),{events:[]})}start(e,n){const r=this.toTicks(e);if(this._state.getValueAtTime(r)!=="started"){n=Ma(n,this._loop?this._loopStart:0),this._loop?n=Ma(n,this._loopStart):n=Ma(n,0);const i=this.toTicks(n);this._state.add({id:-1,offset:i,state:"started",time:r}),this._forEach(s=>{this._startNote(s,r,i)})}return this}_startNote(e,n,r){n-=r,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<r&&(n+=this._getLoopDuration()),e.start(new An(this.context,n))):e.startOffset<this._loopStart&&e.startOffset>=r&&(e.loop=!1,e.start(new An(this.context,n))):e.startOffset>=r&&e.start(new An(this.context,n))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(n=>{n.startOffset+=this._startOffset})}stop(e){const n=this.toTicks(e);return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._forEach(r=>{r.stop(e)}),this}at(e,n){const r=new Lf(this.context,e).toTicks(),i=new An(this.context,1).toSeconds(),s=this._events.values();let o=s.next();for(;!o.done;){const a=o.value;if(Math.abs(r-a.startOffset)<i)return kt(n)&&(a.value=n),a;o=s.next()}return kt(n)?(this.add(e,n),this.at(e)):null}add(e,n){e instanceof Object&&Reflect.has(e,"time")&&(n=e,e=n.time);const r=this.toTicks(e);let i;return n instanceof ga?(i=n,i.callback=this._tick.bind(this)):i=new ga({callback:this._tick.bind(this),context:this.context,value:n}),i.startOffset=r,i.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(i),this._restartEvent(i),this}_restartEvent(e){this._state.forEach(n=>{n.state==="started"?this._startNote(e,n.time,n.offset):e.stop(new An(this.context,n.time))})}remove(e,n){return zu(e)&&e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e),this._events.forEach(r=>{r.startOffset===e&&(ws(n)||kt(n)&&r.value===n)&&(this._events.delete(r),r.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(n=>n.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(n=>{n instanceof gg?n._forEach(e):e(n)}),this}_setAll(e,n){this._forEach(r=>{r[e]=n})}_tick(e,n){this.mute||this.callback(e,n)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(n=>{n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.loop=e,this._testLoopBoundries(n)})}get loopEnd(){return new An(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopEnd=e,this._testLoopBoundries(n)})}get loopStart(){return new An(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(n=>{n.loopStart=this.loopStart,this._testLoopBoundries(n)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*l1e(t){let e=0;for(;e<t.length;)e=Dp(e,t),yield t[e],e++}function*u1e(t){let e=t.length-1;for(;e>=0;)e=Dp(e,t),yield t[e],e--}function*Im(t,e){for(;;)yield*e(t)}function Dp(t,e){return qB(t,0,e.length-1)}function*WL(t,e){let n=e?0:t.length-1;for(;;)n=Dp(n,t),yield t[n],e?(n++,n>=t.length-1&&(e=!1)):(n--,n<=0&&(e=!0))}function*c1e(t){let e=0,n=0;for(;e<t.length;)e=Dp(e,t),yield t[e],n++,e+=n%2?2:-1}function*h1e(t){let e=t.length-1,n=0;for(;e>=0;)e=Dp(e,t),yield t[e],n++,e+=n%2?-2:1}function*d1e(t){for(;;){const e=Math.floor(Math.random()*t.length);yield t[e]}}function*f1e(t){const e=[];for(let n=0;n<t.length;n++)e.push(n);for(;e.length>0;){const n=e.splice(Math.floor(e.length*Math.random()),1),r=Dp(n[0],t);yield t[r]}}function*p1e(t){let e=Math.floor(Math.random()*t.length);for(;;)e===0?e++:e===t.length-1||Math.random()<.5?e--:e++,yield t[e]}function*GL(t,e="up",n=0){switch(_t(t.length>0,"The array must have more than one value in it"),e){case"up":yield*Im(t,l1e);case"down":yield*Im(t,u1e);case"upDown":yield*WL(t,!0);case"downUp":yield*WL(t,!1);case"alternateUp":yield*Im(t,c1e);case"alternateDown":yield*Im(t,h1e);case"random":yield*d1e(t);case"randomOnce":yield*Im(t,f1e);case"randomWalk":yield*p1e(t)}}class N0 extends R0{constructor(){super(Pe(N0.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const e=Pe(N0.getDefaults(),arguments,["callback","values","pattern"]);this.callback=e.callback,this._values=e.values,this._pattern=GL(e.values,e.pattern),this._type=e.pattern}static getDefaults(){return Object.assign(R0.getDefaults(),{pattern:"up",values:[],callback:tn})}_tick(e){const n=this._pattern.next();this._value=n.value,this.callback(e,this._value)}get values(){return this._values}set values(e){this._values=e,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(e){this._type=e,this._pattern=GL(this._values,this._type)}}class Kx extends ga{constructor(){super(Pe(Kx.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new gg({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const e=Pe(Kx.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(e.subdivision),this.events=e.events,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.playbackRate=e.playbackRate,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate}static getDefaults(){return Object.assign(ah(ga.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(e,n){n!==null&&this.callback(e,n)}get events(){return this._events}set events(e){this.clear(),this._eventsArray=e,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(e,n){return this._part.start(e,n&&this._indexTime(n)),this}stop(e){return this._part.stop(e),this}get subdivision(){return new An(this.context,this._subdivision).toSeconds()}_createSequence(e){return new Proxy(e,{get:(n,r)=>n[r],set:(n,r,i)=>(jo(r)&&isFinite(parseInt(r,10))&&Ki(i)?n[r]=this._createSequence(i):n[r]=i,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(e,n,r){e.forEach((i,s)=>{const o=s*n+r;if(Ki(i))this._rescheduleSequence(i,n/i.length,o);else{const a=new An(this.context,o,"i").toSeconds();this._part.add(a,i)}})}_indexTime(e){return new An(this.context,e*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(e){this._part.loop=e}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this._part.loopStart=this._indexTime(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,e===0?this._part.loopEnd=this._indexTime(this._eventsArray.length):this._part.loopEnd=this._indexTime(e)}get startOffset(){return this._part.startOffset}set startOffset(e){this._part.startOffset=e}get playbackRate(){return this._part.playbackRate}set playbackRate(e){this._part.playbackRate=e}get probability(){return this._part.probability}set probability(e){this._part.probability=e}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(e){this._part.humanize=e}get length(){return this._part.length}}class I0 extends at{constructor(){super(Object.assign(Pe(I0.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new n1e({context:this.context}),this.a=new $t({context:this.context,gain:0}),this.b=new $t({context:this.context,gain:0}),this.output=new $t({context:this.context}),this._internalChannels=[this.a,this.b];const e=Pe(I0.getDefaults(),arguments,["fade"]);this.fade=new nn({context:this.context,units:"normalRange",value:e.fade}),Zt(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Ho(this._split,this.a.gain,0),Ho(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(at.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class lp extends at{constructor(e){super(e),this.name="Effect",this._dryWet=new I0({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new $t({context:this.context}),this.effectReturn=new $t({context:this.context}),this.input=new $t({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Zt(this,"wet")}static getDefaults(){return Object.assign(at.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Qx extends at{constructor(){super(Object.assign(Pe(Qx.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=Pe(Qx.getDefaults(),arguments,["pan"]);this.pan=new Gt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Zt(this,"pan")}static getDefaults(){return Object.assign(at.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const m1e="bit-crusher",g1e=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;aV(m1e,g1e);class up extends at{constructor(){super(Pe(up.getDefaults(),arguments,["channels"])),this.name="Split";const e=Pe(up.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(at.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class cp extends at{constructor(){super(Pe(cp.getDefaults(),arguments,["channels"])),this.name="Merge";const e=Pe(cp.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(at.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class $L extends at{constructor(e){super(e),this.name="StereoEffect",this.input=new $t({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new I0({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new up({context:this.context,channels:2}),this._merge=new cp({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Zt(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),kh(...e),Ho(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),kh(...e),Ho(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(at.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class qL extends $L{constructor(e){super(e),this.feedback=new nn({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new $t({context:this.context}),this._feedbackR=new $t({context:this.context}),this._feedbackSplit=new up({context:this.context,channels:2}),this._feedbackMerge=new cp({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Zt(this,["feedback"])}static getDefaults(){return Object.assign($L.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Jx extends qL{constructor(){super(Pe(Jx.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const e=Pe(Jx.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new ap({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new ap({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new ip({context:this.context}),this._delayNodeR=new ip({context:this.context}),this.frequency=this._lfoL.frequency,Zt(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(qL.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const n=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-n,0),this._lfoL.max=this._delayTime+n,this._lfoR.min=Math.max(this._delayTime-n,0),this._lfoR.max=this._delayTime+n}get delayTime(){return this._delayTime*1e3}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class eS extends lp{constructor(){super(Pe(eS.getDefaults(),arguments,["distortion"])),this.name="Distortion";const e=Pe(eS.getDefaults(),arguments,["distortion"]);this._shaper=new Fh({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(lp.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const n=e*100,r=Math.PI/180;this._shaper.setMap(i=>Math.abs(i)<.001?0:(3+n)*i*20*r/(Math.PI+n*Math.abs(i)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class XL extends lp{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new $t({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Zt(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(lp.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class tS extends XL{constructor(){super(Pe(tS.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const e=Pe(tS.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new ip({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Zt(this,"delayTime")}static getDefaults(){return Object.assign(XL.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class nS extends lp{constructor(){super(Pe(nS.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const e=Pe(nS.getDefaults(),arguments,["decay"]);this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(lp.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),Vo(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),Vo(e,0),this._preDelay=e,this.generate()}generate(){return ur(this,void 0,void 0,function*(){const e=this.ready,n=new aw(2,this._decay+this._preDelay,this.context.sampleRate),r=new S0({context:n}),i=new S0({context:n}),s=new cp({context:n});r.connect(s,0,0),i.connect(s,0,1);const o=new $t({context:n}).toDestination();s.connect(o),r.start(0),i.start(0),o.gain.setValueAtTime(0,0),o.gain.setValueAtTime(1,this._preDelay),o.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const a=n.render();return this.ready=a.then(tn),yield e,this._convolver.buffer=(yield a).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class rS extends at{constructor(){super(Pe(rS.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const e=Pe(rS.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new $t({context:this.context}),this._split=new up({context:this.context,channels:e.channels}),this.input.connect(this._split),Vo(e.channels,1);for(let n=0;n<e.channels;n++)this._analysers[n]=this.context.createAnalyser(),this._split.connect(this._analysers[n],n,0);this.size=e.size,this.type=e.type}static getDefaults(){return Object.assign(at.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((e,n)=>{const r=this._buffers[n];this._type==="fft"?e.getFloatFrequencyData(r):this._type==="waveform"&&e.getFloatTimeDomainData(r)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(e){this._analysers.forEach((n,r)=>{n.fftSize=e*2,this._buffers[r]=new Float32Array(e)})}get channels(){return this._analysers.length}get type(){return this._type}set type(e){_t(e==="waveform"||e==="fft",`Analyser: invalid type: ${e}`),this._type=e}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(e){this._analysers.forEach(n=>n.smoothingTimeConstant=e)}dispose(){return super.dispose(),this._analysers.forEach(e=>e.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class iS extends at{constructor(){super(Pe(iS.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new rS({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class O0 extends iS{constructor(){super(Pe(O0.getDefaults(),arguments,["size"])),this.name="Waveform";const e=Pe(O0.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=e.size}static getDefaults(){return Object.assign(iS.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(e){this._analyser.size=e}}class rr extends at{constructor(){super(Pe(rr.getDefaults(),arguments,["solo"])),this.name="Solo";const e=Pe(rr.getDefaults(),arguments,["solo"]);this.input=this.output=new $t({context:this.context}),rr._allSolos.has(this.context)||rr._allSolos.set(this.context,new Set),rr._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(at.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),rr._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){rr._soloed.has(this.context)||rr._soloed.set(this.context,new Set),rr._soloed.get(this.context).add(this)}_removeSolo(){rr._soloed.has(this.context)&&rr._soloed.get(this.context).delete(this)}_isSoloed(){return rr._soloed.has(this.context)&&rr._soloed.get(this.context).has(this)}_noSolos(){return!rr._soloed.has(this.context)||rr._soloed.has(this.context)&&rr._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),rr._allSolos.get(this.context).delete(this),this._removeSolo(),this}}rr._allSolos=new Map;rr._soloed=new Map;class sS extends at{constructor(){super(Pe(sS.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=Pe(sS.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Qx({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ju({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Zt(this,["pan","volume"])}static getDefaults(){return Object.assign(at.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Xc extends at{constructor(){super(Pe(Xc.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=Pe(Xc.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new rr({solo:e.solo,context:this.context}),this._panVol=this.output=new sS({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Zt(this,["pan","volume"])}static getDefaults(){return Object.assign(at.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Xc.buses.has(e)||Xc.buses.set(e,new $t({context:this.context})),Xc.buses.get(e)}send(e,n=0){const r=this._getBus(e),i=new $t({context:this.context,units:"decibels",gain:n});return this.connect(i),i.connect(r),i}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Xc.buses=new Map;class v1e extends at{constructor(){super(...arguments),this.name="Listener",this.positionX=new Gt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Gt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Gt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Gt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Gt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Gt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Gt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Gt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Gt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(at.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}sw(t=>{t.listener=new v1e({context:t})});ow(t=>{t.listener.dispose()});const mi=Po().transport;Po().destination;Po().destination;Po().listener;Po().draw;const y1e=Po();function _1e(){return sn.loaded()}function x1e(t){return wn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}},{tag:"line",attr:{x1:"18",y1:"9",x2:"12",y2:"15"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"18",y2:"15"}}]})(t)}function S1e(t){return wn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"12",x2:"2",y2:"12"}},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}},{tag:"line",attr:{x1:"6",y1:"16",x2:"6.01",y2:"16"}},{tag:"line",attr:{x1:"10",y1:"16",x2:"10.01",y2:"16"}}]})(t)}function w1e(t){return wn({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"}}]})(t)}function M1e(t){return wn({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"}}]})(t)}function E1e(t){return wn({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,72H130.67L102.93,51.2a16.12,16.12,0,0,0-9.6-3.2H40A16,16,0,0,0,24,64V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V88A16,16,0,0,0,216,72ZM40,64H93.33l21.34,16L93.33,96H40ZM216,200H40V112H93.33a16.12,16.12,0,0,0,9.6-3.2L130.67,88H216Z"}}]})(t)}function b1e(t){return wn({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M245,110.64A16,16,0,0,0,232,104H216V88a16,16,0,0,0-16-16H130.67L102.94,51.2a16.14,16.14,0,0,0-9.6-3.2H40A16,16,0,0,0,24,64V208h0a8,8,0,0,0,8,8H211.1a8,8,0,0,0,7.59-5.47l28.49-85.47A16.05,16.05,0,0,0,245,110.64ZM93.34,64l27.73,20.8a16.12,16.12,0,0,0,9.6,3.2H200v16H69.77a16,16,0,0,0-15.18,10.94L40,158.7V64Zm112,136H43.1l26.67-80H232Z"}}]})(t)}function wb({name:t,isOpen:e,setIsOpen:n}){return O.jsxs("button",{onClick:()=>n(!e),className:"flex items-center transition-all duration-300",children:[e?O.jsxs(O.Fragment,{children:[O.jsx("span",{className:"mr-2",children:O.jsx(w1e,{size:18})})," ",O.jsx("span",{className:"mr-1",children:O.jsx(b1e,{size:22})})]}):O.jsxs(O.Fragment,{children:[O.jsx("span",{className:"mr-2",children:O.jsx(M1e,{size:18})}),O.jsx("span",{className:"mr-1",children:O.jsx(E1e,{size:22})})]})," ",O.jsx("span",{children:t})]})}const oS={error:null,songList:[],currentSong:{songName:"",masterVolume:1,drumVolume:.75,bassVolume:.75,melodicVolume:.75,bpm:120,distortion:{mix:0,amount:.5,filterFrequency:22e3},reverb:{mix:.25,decay:.5,preDelay:.2},delay:{mix:.1,time:.5,feedback:.25},bassSynth:{attack:0,decay:.25,sustain:1,release:.25,waveform:"fatsawtooth",filterFrequency:22e3},melodicSynth:{waveform:"fatsawtooth",attack:0,decay:.25,sustain:.25,release:.25,filterFrequency:22e3,filterMod:0,filterType:"lowpass",metal:0,chorus:0,lfoFrequency:"8n",lfoShape:"sine2"},melodicPattern:{key:"C",scale:"major",sequence:[],patternType:"up",transpose:0,timeInterval:"8n",noteDuration:"8n",length:4},kitPattern:{patternLength:16,bdSteps:new Array(16).fill(!1),sdSteps:new Array(16).fill(!1),clSteps:new Array(16).fill(!1),chSteps:new Array(16).fill(!1)}}},Mb=t=>Math.round(t*22e3),aS=t=>{switch(t){case"sine":return"fatsine1";case"triangle":return"fattriangle";case"sawtooth":return"fatsawtooth";case"square":return"fatsquare";default:return"fatsine1"}},lV=t=>{switch(t){case"sine":return"sine2";case"triangle":return"triangle2";case"sawtooth":return"sawtooth2";case"square":return"square2";default:return"sine2"}},T1e=t=>t<=0&&t>.2?"lowpass":t>=.2&&t<.4?"highpass":t>=.4&&t<.6?"bandpass":t>=.6&&t<.8?"peaking":t>=.8&&t<1?"notch":"lowpass",A1e=t=>{const e=.08333333333333333;let n=0;const r=[];for(let i=0;i<12;i++)r.push(n),n+=e;return r.push(1),t>=r[0]&&t<r[1]?"1n":t>=r[1]&&t<r[2]?"2n":t>=r[2]&&t<r[3]?"4n":t>=r[3]&&t<r[4]?"4t":t>=r[4]&&t<r[5]?"8n":t>=r[5]&&t<r[6]?"8t":t>=r[6]&&t<r[7]?"16n":t>=r[7]&&t<r[8]?"16t":t>=r[8]&&t<r[9]?"32n":t>=r[9]&&t<r[10]?"32t":t>=r[10]&&t<r[11]?"64n":t>=r[11]&&t<=r[12]?"64t":"4n"},uV=Z2({name:"song",initialState:oS,reducers:{setError:(t,e)=>{t.error=e.payload},setCurrentSong:(t,e)=>{t.currentSong=e.payload},setSongList:(t,e)=>{t.songList=e.payload},setBpm:(t,e)=>{t.currentSong.bpm=e.payload},setKitPatternLength:(t,e)=>{t.currentSong.kitPattern.patternLength=e.payload},setMasterVolume:(t,e)=>{t.currentSong.masterVolume=e.payload},setDrumVolume:(t,e)=>{t.currentSong.drumVolume=e.payload},setBassVolume:(t,e)=>{t.currentSong.bassVolume=e.payload},setMelodicVolume:(t,e)=>{t.currentSong.melodicVolume=e.payload},setDistortionMix:(t,e)=>{t.currentSong.distortion.mix=e.payload},setDistortionAmount:(t,e)=>{t.currentSong.distortion.amount=e.payload},setDistortionFilter:(t,e)=>{t.currentSong.distortion.filterFrequency=e.payload},setReverbMix:(t,e)=>{t.currentSong.reverb.mix=e.payload},setReverbDecay:(t,e)=>{t.currentSong.reverb.decay=e.payload},setReverbPreDelay:(t,e)=>{t.currentSong.reverb.preDelay=e.payload},setDelayMix:(t,e)=>{t.currentSong.delay.mix=e.payload},setDelayTime:(t,e)=>{t.currentSong.delay.time=e.payload},setDelayFeedback:(t,e)=>{t.currentSong.delay.feedback=e.payload},setMelodicSynthAttack:(t,e)=>{t.currentSong.melodicSynth.attack=e.payload},setMelodicSynthDecay:(t,e)=>{t.currentSong.melodicSynth.decay=e.payload},setMelodicSynthSustain:(t,e)=>{t.currentSong.melodicSynth.sustain=e.payload},setMelodicSynthRelease:(t,e)=>{t.currentSong.melodicSynth.release=e.payload},setMelodicSynthWaveform:(t,e)=>{t.currentSong.melodicSynth.waveform=aS(e.payload)},setMelodicSynthChorus:(t,e)=>{t.currentSong.melodicSynth.chorus=e.payload},setMelodicSynthFilterFrequency:(t,e)=>{t.currentSong.melodicSynth.filterFrequency=e.payload},setMelodicSynthFilterType:(t,e)=>{t.currentSong.melodicSynth.filterType=e.payload},setMelodicSynthMetal:(t,e)=>{t.currentSong.melodicSynth.metal=e.payload},setMelodicSynthLfoFreq:(t,e)=>{t.currentSong.melodicSynth.lfoFrequency=e.payload},setMelodicSynthFilterMod:(t,e)=>{t.currentSong.melodicSynth.filterMod=e.payload},setMelodicSynthLfoWaveform:(t,e)=>{t.currentSong.melodicSynth.lfoShape=lV(e.payload)},setBassSynthWaveform:(t,e)=>{t.currentSong.bassSynth.waveform=aS(e.payload)},setBassSynthFilterFrequency:(t,e)=>{t.currentSong.bassSynth.filterFrequency=e.payload},setBassSynthAttack:(t,e)=>{t.currentSong.bassSynth.attack=e.payload},setBassSynthDecay:(t,e)=>{t.currentSong.bassSynth.decay=e.payload},setBassSynthSustain:(t,e)=>{t.currentSong.bassSynth.sustain=e.payload},setBassSynthRelease:(t,e)=>{t.currentSong.bassSynth.release=e.payload},setMelodicPatternKey:(t,e)=>{t.currentSong.melodicPattern.key=e.payload},setMelodicPatternScale:(t,e)=>{t.currentSong.melodicPattern.scale=e.payload},setMelodicPatternTranspose:(t,e)=>{t.currentSong.melodicPattern.transpose=e.payload},setMelodicPatternType:(t,e)=>{t.currentSong.melodicPattern.patternType=e.payload},setMelodicPatternTime:(t,e)=>{t.currentSong.melodicPattern.timeInterval=e.payload},setMelodicPatternNoteDuration:(t,e)=>{t.currentSong.melodicPattern.noteDuration=e.payload},setMelodicPatternLength:(t,e)=>{t.currentSong.melodicPattern.length=e.payload},setMelodicPatternSequence:(t,e)=>{t.currentSong.melodicPattern.sequence=e.payload},toggleDrumStep:(t,e)=>{const{drumName:n,step:r}=e.payload;t.currentSong.kitPattern[n][r]=!t.currentSong.kitPattern[n][r]}}}),Vl=t=>t.song,{setError:cV,setCurrentSong:cw,toggleDrumStep:C1e,setKitPatternLength:P1e,setSongList:R1e,setBpm:N1e,setMasterVolume:hV,setMelodicVolume:I1e,setBassVolume:O1e,setDrumVolume:L1e,setDistortionMix:D1e,setDistortionAmount:k1e,setDistortionFilter:F1e,setReverbMix:U1e,setReverbDecay:z1e,setReverbPreDelay:B1e,setDelayMix:V1e,setDelayTime:j1e,setDelayFeedback:H1e,setMelodicSynthAttack:W1e,setMelodicSynthDecay:G1e,setMelodicSynthSustain:$1e,setMelodicSynthRelease:q1e,setMelodicSynthWaveform:X1e,setMelodicSynthChorus:Y1e,setMelodicSynthFilterFrequency:Z1e,setMelodicSynthFilterType:K1e,setMelodicSynthMetal:Q1e,setMelodicSynthLfoFreq:J1e,setMelodicSynthFilterMod:eye,setMelodicSynthLfoWaveform:tye,setBassSynthWaveform:nye,setBassSynthFilterFrequency:rye,setBassSynthAttack:iye,setBassSynthDecay:sye,setBassSynthSustain:oye,setBassSynthRelease:aye,setMelodicPatternKey:lye,setMelodicPatternScale:uye,setMelodicPatternTranspose:cye,setMelodicPatternType:hye,setMelodicPatternTime:dye,setMelodicPatternNoteDuration:fye,setMelodicPatternLength:pye,setMelodicPatternSequence:mye}=uV.actions,gye=uV.reducer;function vye(){const{songList:t}=Ut(Vl),e=ei(),n=u=>{e(_fe(u)),e(Q2(!0))},[r,i]=P.useState(!1),[s,o]=P.useState(!1),[a,l]=P.useState(!1);return O.jsxs("div",{className:"flex flex-grow p-4 flex-col gap-4",children:[O.jsxs("h2",{className:"text-2xl flex gap-2 font-caps",children:[O.jsx(S1e,{}),"Collections"]}),O.jsxs("div",{className:"ml-4 flex flex-col gap-4",children:[O.jsxs("div",{children:[O.jsx(wb,{name:"Songs",isOpen:r,setIsOpen:i}),r&&O.jsx("div",{className:"ml-8 mt-4 flex flex-col gap-4",children:t.map(u=>{const c=()=>{e(g0(!0)),e(xfe(u))};return O.jsxs("div",{className:"flex gap-8 items-center",children:[O.jsxs("button",{className:"flex group transition-all duration-300 hover:text-violet-300  items-center",onClick:c,children:[O.jsx("span",{className:"mr-2",children:O.jsx(pfe,{className:"group-active:scale-110",size:14})}),O.jsx("span",{className:"group-active:scale-105 text-sm",children:u.songName})]},u.id),O.jsx("button",{onClick:()=>n(u),className:"transition-all duration-300 hover:text-red-400",children:O.jsx(x1e,{size:14})})]})})})]}),O.jsx("div",{children:O.jsx(wb,{name:"Patterns",isOpen:s,setIsOpen:o})}),O.jsx("div",{children:O.jsx(wb,{name:"Effects",isOpen:a,setIsOpen:l})})]})]})}function yye(t){return wn({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M11.582 0L1.418 5.832v12.336L11.582 24V10.01L7.1 12.668v3.664c.01.111.01.225 0 .336-.103.435-.54.804-1 1.111-.802.537-1.752.509-2.166-.111-.413-.62-.141-1.631.666-2.168.384-.28.863-.399 1.334-.332V6.619c0-.154.134-.252.226-.308L11.582 3zm.836 0v6.162c.574.03 1.14.16 1.668.387a2.225 2.225 0 0 0 1.656-.717 1.02 1.02 0 1 1 1.832-.803l.004.006a1.022 1.022 0 0 1-1.295 1.197c-.34.403-.792.698-1.297.85.34.263.641.576.891.928a1.04 1.04 0 0 1 .777.125c.768.486.568 1.657-.318 1.857-.886.2-1.574-.77-1.09-1.539.02-.03.042-.06.065-.09a3.598 3.598 0 0 0-1.436-1.166 4.142 4.142 0 0 0-1.457-.369v4.01c.855.06 1.256.493 1.555.834.227.256.356.39.578.402.323.018.568.008.806 0a5.44 5.44 0 0 1 .895.022c.94-.017 1.272-.226 1.605-.446a2.533 2.533 0 0 1 1.131-.463 1.027 1.027 0 0 1 .12-.263 1.04 1.04 0 0 1 .105-.137c.023-.025.047-.044.07-.066a4.775 4.775 0 0 1 0-2.405l-.012-.01a1.02 1.02 0 1 1 .692.272h-.057a4.288 4.288 0 0 0 0 1.877h.063a1.02 1.02 0 1 1-.545 1.883l-.047-.033a1 1 0 0 1-.352-.442 1.885 1.885 0 0 0-.814.354 3.03 3.03 0 0 1-.703.365c.757.555 1.772 1.6 2.199 2.299a1.03 1.03 0 0 1 .256-.033 1.02 1.02 0 1 1-.545 1.88l-.047-.03a1.017 1.017 0 0 1-.27-1.376.72.72 0 0 1 .051-.072c-.445-.775-2.026-2.28-2.46-2.387a4.037 4.037 0 0 0-1.31-.117c-.24.008-.513.018-.866 0-.515-.027-.783-.333-1.043-.629-.26-.296-.51-.56-1.055-.611V18.5a1.877 1.877 0 0 0 .426-.135.333.333 0 0 1 .058-.027c.56-.267 1.421-.91 2.096-2.447a1.02 1.02 0 0 1-.27-1.344 1.02 1.02 0 1 1 .915 1.54 6.273 6.273 0 0 1-1.432 2.136 1.785 1.785 0 0 1 .691.306.667.667 0 0 0 .37.168 3.31 3.31 0 0 0 .888-.222 1.02 1.02 0 0 1 1.787-.79v-.005a1.02 1.02 0 0 1-.773 1.683 1.022 1.022 0 0 1-.719-.287 3.935 3.935 0 0 1-1.168.287h-.05a1.313 1.313 0 0 1-.71-.275c-.262-.177-.51-.345-1.402-.12a2.098 2.098 0 0 1-.707.2V24l10.164-5.832V5.832zm4.154 4.904a.352.352 0 0 0-.197.639l.018.01c.163.1.378.053.484-.108v-.002a.352.352 0 0 0-.303-.539zm-4.99 1.928L7.082 9.5v2l4.5-2.668zm8.385.38a.352.352 0 0 0-.295.165v.002a.35.35 0 0 0 .096.473l.013.01a.357.357 0 0 0 .487-.108.352.352 0 0 0-.301-.541zM16.09 8.647a.352.352 0 0 0-.277.163.355.355 0 0 0 .296.54c.482 0 .463-.73-.02-.703zm3.877 2.477a.352.352 0 0 0-.295.164.35.35 0 0 0 .094.475l.015.01a.357.357 0 0 0 .485-.11.352.352 0 0 0-.3-.539zm-4.375 3.594a.352.352 0 0 0-.291.172.35.35 0 0 0-.04.265.352.352 0 1 0 .33-.437zm4.375.789a.352.352 0 0 0-.295.164v.002a.352.352 0 0 0 .094.473l.015.01a.357.357 0 0 0 .485-.108.352.352 0 0 0-.3-.54zm-2.803 2.488v.002a.347.347 0 0 0-.223.084.352.352 0 0 0 .23.62.347.347 0 0 0 .23-.085.348.348 0 0 0 .12-.24.353.353 0 0 0-.35-.38.347.347 0 0 0-.007 0Z"}}]})(t)}function _ye(t){return wn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"}}]})(t)}const YL=t=>t.replace(/([a-z])([A-Z])/g,"$1 $2"),lS=t=>t.split(" ").map(e=>e[0].toUpperCase()+e.slice(1).toLowerCase()).join(" ");function zc({items:t,setCurrentItem:e,currentItem:n}){return O.jsx(Wy,{value:n,onChange:e,children:O.jsxs("div",{style:{position:"relative",zIndex:1},className:"relative mt-1",children:[O.jsxs(Wy.Button,{className:`relative h-8  shadow-gray-700  cursor-default rounded-lg bg-black py-2 
        pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 
        focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm`,children:[O.jsx("span",{className:"block truncate",children:lS(n.toString())}),O.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:O.jsx(_ye,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),O.jsx(fg,{as:P.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:O.jsx(Wy.Options,{className:`absolute mt-1 max-h-60  overflow-auto 
          rounded-md bg-black shadow-2xl shadow-gray-700 py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 
          focus:outline-none sm:text-sm scrollbar-thin scrollbar-thumb-gray-900 scrollbar-thumb-rounded-full scrollbar-track-transparent`,children:t.map((r,i)=>O.jsx(Wy.Option,{className:({active:s})=>`relative cursor-default select-none py-2 pl-9 pr-4 ${s?"bg-blue-900 text-gray-100":"text-white"}`,value:r,children:({selected:s})=>O.jsxs(O.Fragment,{children:[O.jsx("span",{className:`block truncate ${s?"font-medium":"font-normal"}`,children:lS(r.toString())}),s?O.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-blue-600",children:O.jsx(ffe,{size:20,"aria-hidden":"true"})}):null]})},i))})})]})})}const xye=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],Sye=["major","minor","dorian","phrygian","lydian","mixolydian","locrian","harmonic minor","melodic minor","major pentatonic","minor pentatonic","blues","whole tone","augmented","diminished","chromatic"],wye=[-21,-14,-7,0,7,14,21],Mye=["up","down","upDown","downUp","alternateUp","alternateDown","random","randomOnce","randomWalk"],Eye=["1n","2n","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t"],bye=["1n","2n","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t"],Tye=[1,2,3,4,8,16,32,64];class Aye{constructor(e="fatsine2"){rn(this,"_synth");rn(this,"_chorus");rn(this,"_filter");rn(this,"_filterTwo");rn(this,"_lfoFilter");this._synth=new Zx,this._synth.oscillator.type=e,this._filter=new rc(100,"lowpass"),this._filterTwo=new rc(100,"lowpass"),this._filter.rolloff=-48,this._filter.Q.value=1,this._chorus=new Jx(500,.01,1),this._lfoFilter=new ap("8n",400,2e4),this._lfoFilter.connect(this._filterTwo.frequency),this._synth.chain(this._chorus,this._filter,this._filterTwo)}get lfoFilter(){return this._lfoFilter}set lfoFilter(e){this._lfoFilter=e}get filterTwo(){return this._filterTwo}set filterTwo(e){this._filterTwo=e}get filter(){return this._filter}set filter(e){this._filter=e}get chorus(){return this._chorus}set chorus(e){this._chorus=e}get synth(){return this._synth}set synth(e){this._synth=e}}class Cye{constructor(){rn(this,"_note");rn(this,"_bd");rn(this,"_sd");rn(this,"_cl");rn(this,"_ch");rn(this,"_output");this._note="C2",this._output=new $t,this._bd={id:0,name:"BD",sampler:new gl({urls:{[this._note]:"/sounds/vocal-kick.wav"}})},this._sd={id:1,name:"SD",sampler:new gl({urls:{[this._note]:"/sounds/snare.wav"}})},this._cl={id:2,name:"CL",sampler:new gl({urls:{[this._note]:"/sounds/clap.wav"}})},this._ch={id:3,name:"CH",sampler:new gl({urls:{[this._note]:"/sounds/closed-hat.wav"}})},this._bd.sampler.connect(this._output),this._sd.sampler.connect(this._output),this._cl.sampler.connect(this._output),this._ch.sampler.connect(this._output)}get output(){return this._output}set output(e){this._output=e}get ch(){return this._ch}set ch(e){this._ch=e}get cl(){return this._cl}set cl(e){this._cl=e}get sd(){return this._sd}set sd(e){this._sd=e}get bd(){return this._bd}set bd(e){this._bd=e}get note(){return this._note}}class Pye{constructor(e="fatsawtooth"){rn(this,"_synth");rn(this,"_filter");rn(this,"_modFilter");rn(this,"_filterEnvelope");this._synth=new nc,this._synth.oscillator.type=e,this._filter=new rc,this._modFilter=new rc,this._filterEnvelope=new no,this._synth.chain(this._filter,this._modFilter)}get synth(){return this._synth}set synth(e){this._synth=e}get filter(){return this._filter}set filter(e){this._filter=e}get modFilter(){return this._modFilter}set modFilter(e){this._modFilter=e}get filterEnvelope(){return this._filterEnvelope}set filterEnvelope(e){this._filterEnvelope=e}}var uS=(t,e)=>Array(Math.abs(e)+1).join(t);function Rye(t,e,n){return function(...r){return console.warn(`${t} is deprecated. Use ${e}.`),n.apply(this,r)}}function dV(t){return t!==null&&typeof t=="object"&&typeof t.name=="string"}function fV(t){return t!==null&&typeof t=="object"&&typeof t.step=="number"&&typeof t.alt=="number"}var pV=[0,2,4,-1,1,3,5],mV=pV.map(t=>Math.floor(t*7/12));function gV(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=pV[e]+7*n;if(r===void 0)return[i*s];const o=r-mV[e]-4*n;return[i*s,i*o]}var Nye=[3,0,4,1,5,2,6];function vV(t){const[e,n,r]=t,i=Nye[Iye(e)],s=Math.floor((e+1)/7);if(n===void 0)return{step:i,alt:s,dir:r};const o=n+4*s+mV[i];return{step:i,alt:s,oct:o,dir:r}}function Iye(t){const e=(t+1)%7;return e<0?7+e:e}var yV={empty:!0,name:"",pc:"",acc:""},ZL=new Map,Oye=t=>"CDEFGAB".charAt(t),Lye=t=>t<0?uS("b",-t):uS("#",t),Dye=t=>t[0]==="b"?-t.length:t.length;function Ar(t){const e=JSON.stringify(t),n=ZL.get(e);if(n)return n;const r=typeof t=="string"?Bye(t):fV(t)?Ar(Vye(t)):dV(t)?Ar(t.name):yV;return ZL.set(e,r),r}var kye=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Fye(t){const e=kye.exec(t);return[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]}function Uye(t){return Ar(vV(t))}var zye=(t,e)=>(t%e+e)%e,Eb=[0,2,4,5,7,9,11];function Bye(t){const e=Fye(t);if(e[0]===""||e[3]!=="")return yV;const n=e[0],r=e[1],i=e[2],s=(n.charCodeAt(0)+3)%7,o=Dye(r),a=i.length?+i:void 0,l=gV({step:s,alt:o,oct:a}),u=n+r+i,c=n+r,d=(Eb[s]+o+120)%12,p=a===void 0?zye(Eb[s]+o,12)-12*99:Eb[s]+o+12*(a+1),m=p>=0&&p<=127?p:null,g=a===void 0?null:Math.pow(2,(p-69)/12)*440;return{empty:!1,acc:r,alt:o,chroma:d,coord:l,freq:g,height:p,letter:n,midi:m,name:u,oct:a,pc:c,step:s}}function Vye(t){const{step:e,alt:n,oct:r}=t,i=Oye(e);if(!i)return"";const s=i+Lye(n);return r||r===0?s+r:s}var uA={empty:!0,name:"",acc:""},jye="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",Hye="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Wye=new RegExp("^"+jye+"|"+Hye+"$");function Gye(t){const e=Wye.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var KL={};function Ri(t){return typeof t=="string"?KL[t]||(KL[t]=$ye(t)):fV(t)?Ri(Xye(t)):dV(t)?Ri(t.name):uA}var QL=[0,2,4,5,7,9,11],_V="PMMPPMM";function $ye(t){const e=Gye(t);if(e[0]==="")return uA;const n=+e[0],r=e[1],i=(Math.abs(n)-1)%7,s=_V[i];if(s==="M"&&r==="P")return uA;const o=s==="M"?"majorable":"perfectable",a=""+n+r,l=n<0?-1:1,u=n===8||n===-8?n:l*(i+1),c=qye(o,r),d=Math.floor((Math.abs(n)-1)/7),p=l*(QL[i]+c+12*d),m=(l*(QL[i]+c)%12+12)%12,g=gV({step:i,alt:c,oct:d,dir:l});return{empty:!1,name:a,num:n,q:r,step:i,alt:c,dir:l,type:o,simple:u,semitones:p,chroma:m,coord:g,oct:d}}function NP(t,e){const[n,r=0]=t,i=n*7+r*12<0,s=e||i?[-n,-r,-1]:[n,r,1];return Ri(vV(s))}function qye(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function Xye(t){const{step:e,alt:n,oct:r=0,dir:i}=t;if(!i)return"";const s=e+1+7*r,o=s===0?e+1:s,a=i<0?"-":"",l=_V[e]==="M"?"majorable":"perfectable";return a+o+Yye(l,n)}function Yye(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?uS("A",e):uS("d",t==="perfectable"?e:e+1)}function hp(t,e){const n=Ar(t),r=Array.isArray(e)?e:Ri(e).coord;if(n.empty||!r||r.length<2)return"";const i=n.coord,s=i.length===1?[i[0]+r[0]]:[i[0]+r[0],i[1]+r[1]];return Uye(s).name}function xV(t,e){const n=t.length;return r=>{if(!e)return"";const i=r<0?(n- -r%n)%n:r%n,s=Math.floor(r/n),o=hp(e,[0,s]);return hp(o,t[i])}}function Zye(t,e){const n=Ar(t),r=Ar(e);if(n.empty||r.empty)return"";const i=n.coord,s=r.coord,o=s[0]-i[0],a=i.length===2&&s.length===2?s[1]-i[1]:-Math.floor(o*7/12),l=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return NP([o,a],l).name}function Kye(t,e){const n=[];for(;e--;n[e]=e+t);return n}function Qye(t,e){const n=[];for(;e--;n[e]=t-e);return n}function Jye(t,e){return t<e?Kye(t,e-t+1):Qye(t,t-e+1)}function Nv(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}function e_e(t){return t.filter(e=>e===0||e)}var Bh={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},SV=t=>Number(t).toString(2),JL=t=>parseInt(t,2),t_e=/^[01]{12}$/;function IP(t){return t_e.test(t)}var n_e=t=>typeof t=="number"&&t>=0&&t<=4095,r_e=t=>t&&IP(t.chroma),eD={[Bh.chroma]:Bh};function ic(t){const e=IP(t)?t:n_e(t)?SV(t):Array.isArray(t)?h_e(t):r_e(t)?t.chroma:Bh.chroma;return eD[e]=eD[e]||c_e(e)}var i_e=t=>ic(t).chroma,s_e=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function o_e(t){const e=[];for(let n=0;n<12;n++)t.charAt(n)==="1"&&e.push(s_e[n]);return e}function a_e(t,e=!0){const r=ic(t).chroma.split("");return e_e(r.map((i,s)=>{const o=Nv(s,r);return e&&o[0]==="0"?null:o.join("")}))}function wV(t){const e=ic(t).setNum;return n=>{const r=ic(n).setNum;return e&&e!==r&&(r&e)===r}}function l_e(t){const e=ic(t).setNum;return n=>{const r=ic(n).setNum;return e&&e!==r&&(r|e)===r}}function u_e(t){const e=t.split("");return e.map((n,r)=>Nv(r,e).join(""))}function c_e(t){const e=JL(t),n=u_e(t).map(JL).filter(s=>s>=2048).sort()[0],r=SV(n),i=o_e(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:r,intervals:i}}function h_e(t){if(t.length===0)return Bh.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)e=Ar(t[r]),e.empty&&(e=Ri(t[r])),e.empty||(n[e.chroma]=1);return n.join("")}var d_e=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],f_e=d_e;({...Bh});var OP=[],R_={};function p_e(){return OP.slice()}function m_e(t,e,n){const r=v_e(t),i={...ic(t),name:n||"",quality:r,intervals:t,aliases:e};OP.push(i),i.name&&(R_[i.name]=i),R_[i.setNum]=i,R_[i.chroma]=i,i.aliases.forEach(s=>g_e(i,s))}function g_e(t,e){R_[e]=t}function v_e(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}f_e.forEach(([t,e,n])=>m_e(t.split(" "),n.split(" "),e));OP.sort((t,e)=>t.setNum-e.setNum);var y_e=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],__e=y_e,x_e={...Bh,intervals:[],aliases:[]},LP=[],vg={};function S_e(){return LP.map(t=>t.name)}function MV(t){return vg[t]||x_e}function DP(){return LP.slice()}function w_e(t,e,n=[]){const r={...ic(t),name:e,intervals:t,aliases:n};return LP.push(r),vg[r.name]=r,vg[r.setNum]=r,vg[r.chroma]=r,r.aliases.forEach(i=>M_e(r,i)),r}function M_e(t,e){vg[e]=t}__e.forEach(([t,e,...n])=>w_e(t.split(" "),e,n));function E_e(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var EV=Ri,b_e=t=>Ri(t).name,T_e=t=>Ri(t).semitones,A_e=t=>Ri(t).q,C_e=t=>Ri(t).num;function P_e(t){const e=Ri(t);return e.empty?"":e.simple+e.q}function R_e(t){const e=Ri(t);if(e.empty)return"";const n=(7-e.step)%7,r=e.type==="perfectable"?-e.alt:-(e.alt+1);return Ri({step:n,alt:r,oct:e.oct,dir:e.dir}).name}var N_e=[1,2,2,3,3,4,5,5,6,6,7,7],I_e="P m M m M P d P m M m M".split(" ");function O_e(t){const e=t<0?-1:1,n=Math.abs(t),r=n%12,i=Math.floor(n/12);return e*(N_e[r]+7*i)+I_e[r]}var L_e=Zye,bV=TV((t,e)=>[t[0]+e[0],t[1]+e[1]]),D_e=t=>e=>bV(t,e),k_e=TV((t,e)=>[t[0]-e[0],t[1]-e[1]]);function F_e(t,e){const n=EV(t);if(n.empty)return"";const[r,i,s]=n.coord;return NP([r+e,i,s]).name}var U_e={names:E_e,get:EV,name:b_e,num:C_e,semitones:T_e,quality:A_e,fromSemitones:O_e,distance:L_e,invert:R_e,simplify:P_e,add:bV,addTo:D_e,substract:k_e,transposeFifths:F_e};function TV(t){return(e,n)=>{const r=Ri(e).coord,i=Ri(n).coord;if(r&&i){const s=t(r,i);return NP(s).name}}}var z_e=Math.log(2),B_e=Math.log(440);function AV(t){const e=12*(Math.log(t)-B_e)/z_e+69;return Math.round(e*100)/100}var V_e="C C# D D# E F F# G G# A A# B".split(" "),j_e="C Db D Eb E F Gb G Ab A Bb B".split(" ");function kp(t,e={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const r=(e.sharps===!0?V_e:j_e)[t%12];if(e.pitchClass)return r;const i=Math.floor(t/12)-1;return r+i}var H_e=["C","D","E","F","G","A","B"],CV=t=>t.name,PV=t=>t.map(Ar).filter(e=>!e.empty);function W_e(t){return t===void 0?H_e.slice():Array.isArray(t)?PV(t).map(CV):[]}var Wo=Ar,G_e=t=>Wo(t).name,$_e=t=>Wo(t).pc,q_e=t=>Wo(t).acc,X_e=t=>Wo(t).oct,Y_e=t=>Wo(t).midi,Z_e=t=>Wo(t).freq,K_e=t=>Wo(t).chroma;function RV(t){return kp(t)}function Q_e(t){return kp(AV(t))}function J_e(t){return kp(AV(t),{sharps:!0})}function exe(t){return kp(t,{sharps:!0})}var Iv=hp,txe=hp,NV=t=>e=>Iv(e,t),nxe=NV,IV=t=>e=>Iv(t,e),rxe=IV;function OV(t,e){return Iv(t,[e,0])}var ixe=OV;function sxe(t,e){return Iv(t,[0,e])}var kP=(t,e)=>t.height-e.height,oxe=(t,e)=>e.height-t.height;function LV(t,e){return e=e||kP,PV(t).sort(e).map(CV)}function DV(t){return LV(t,kP).filter((e,n,r)=>n===0||e!==r[n-1])}var axe=t=>{const e=Wo(t);return e.empty?"":kp(e.midi||e.chroma,{sharps:e.alt>0,pitchClass:e.midi===null})};function kV(t,e){const n=Wo(t);if(n.empty)return"";const r=Wo(e||kp(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const i=n.chroma-n.alt,s=r.chroma-r.alt,o=i>11||s<0?-1:i<0||s>11?1:0,a=n.oct+o;return r.pc+a}var lxe={names:W_e,get:Wo,name:G_e,pitchClass:$_e,accidentals:q_e,octave:X_e,midi:Y_e,ascending:kP,descending:oxe,sortedNames:LV,sortedUniqNames:DV,fromMidi:RV,fromMidiSharps:exe,freq:Z_e,fromFreq:Q_e,fromFreqSharps:J_e,chroma:K_e,transpose:Iv,tr:txe,transposeBy:NV,trBy:nxe,transposeFrom:IV,trFrom:rxe,transposeFifths:OV,transposeOctaves:sxe,trFifths:ixe,simplify:axe,enharmonic:kV},FP=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],tD={...Bh,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},uxe=FP.map(cxe),cA={};uxe.forEach(t=>{cA[t.name]=t,t.aliases.forEach(e=>{cA[e]=t})});function FV(t){return typeof t=="string"?cA[t.toLowerCase()]||tD:t&&t.name?FV(t.name):tD}function cxe(t){const[e,n,r,i,s,o,a]=t,l=a?[a]:[],u=Number(n).toString(2);return{empty:!1,intervals:MV(i).intervals,modeNum:e,chroma:u,normalized:u,name:i,setNum:n,alt:r,triad:s,seventh:o,aliases:l}}function UV(t){return(e,n)=>{const r=FV(e);if(r.empty)return[];const i=Nv(r.modeNum,t),s=r.intervals.map(o=>hp(n,o));return i.map((o,a)=>s[a]+o)}}UV(FP.map(t=>t[4]));UV(FP.map(t=>t[5]));var hxe={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function zV(t){if(typeof t!="string")return["",""];const e=t.indexOf(" "),n=Ar(t.substring(0,e));if(n.empty){const i=Ar(t);return i.empty?["",t]:[i.name,""]}const r=t.substring(n.name.length+1);return[n.name,r.length?r:""]}var dxe=S_e;function Aa(t){const e=Array.isArray(t)?t:zV(t),n=Ar(e[0]).name,r=MV(e[1]);if(r.empty)return hxe;const i=r.name,s=n?r.intervals.map(a=>hp(n,a)):[],o=n?n+" "+i:i;return{...r,name:o,type:i,tonic:n,notes:s}}var fxe=Rye("Scale.scale","Scale.get",Aa);function pxe(t,e={}){const n=i_e(t),r=Ar(e.tonic??t[0]??""),i=r.chroma;if(i===void 0)return[];const s=n.split("");s[i]="1";const o=Nv(i,s).join(""),a=DP().find(u=>u.chroma===o),l=[];return a&&l.push(r.name+" "+a.name),e.match==="exact"||BV(o).forEach(u=>{l.push(r.name+" "+u)}),l}function mxe(t){const e=Aa(t),n=wV(e.chroma);return p_e().filter(r=>n(r.chroma)).map(r=>r.aliases[0])}function BV(t){const e=IP(t)?t:Aa(t).chroma,n=l_e(e);return DP().filter(r=>n(r.chroma)).map(r=>r.name)}function gxe(t){const e=wV(Aa(t).chroma);return DP().filter(n=>e(n.chroma)).map(n=>n.name)}function VV(t){const e=t.map(i=>Ar(i).pc).filter(i=>i),n=e[0],r=DV(e);return Nv(r.indexOf(n),r)}function vxe(t){const e=Aa(t);if(e.empty)return[];const n=e.tonic?e.notes:e.intervals;return a_e(e.chroma).map((r,i)=>{const s=Aa(r).name;return s?[n[i],s]:["",""]}).filter(r=>r[0])}function yxe(t){const e=Array.isArray(t)?VV(t):Aa(t).notes,n=e.map(r=>Ar(r).chroma);return r=>{const i=Ar(typeof r=="number"?RV(r):r),s=i.height;if(s===void 0)return;const o=s%12,a=n.indexOf(o);if(a!==-1)return kV(i.name,e[a])}}function _xe(t){const e=yxe(t);return(n,r)=>{const i=Ar(n).height,s=Ar(r).height;return i===void 0||s===void 0?[]:Jye(i,s).map(e).filter(o=>o)}}function xxe(t){const{intervals:e,tonic:n}=Aa(t),r=xV(e,n);return i=>i?r(i>0?i-1:i):""}function Sxe(t){const{intervals:e,tonic:n}=Aa(t);return xV(e,n)}var bb={degrees:xxe,detect:pxe,extended:BV,get:Aa,modeNames:vxe,names:dxe,rangeOf:_xe,reduced:gxe,scaleChords:mxe,scaleNotes:VV,steps:Sxe,tokenize:zV,scale:fxe};const wxe=(t,e)=>Math.random()*(e-t)+t,Mxe=(t,e)=>(t%e+e)%e;var nD={exports:{}};(function(t,e){(function(n,r){r(e)})(zt,function(n){function r(D,U){D.super_=U,D.prototype=Object.create(U.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}})}function i(D,U){Object.defineProperty(this,"kind",{value:D,enumerable:!0}),U&&U.length&&Object.defineProperty(this,"path",{value:U,enumerable:!0})}function s(D,U,Y){s.super_.call(this,"E",D),Object.defineProperty(this,"lhs",{value:U,enumerable:!0}),Object.defineProperty(this,"rhs",{value:Y,enumerable:!0})}function o(D,U){o.super_.call(this,"N",D),Object.defineProperty(this,"rhs",{value:U,enumerable:!0})}function a(D,U){a.super_.call(this,"D",D),Object.defineProperty(this,"lhs",{value:U,enumerable:!0})}function l(D,U,Y){l.super_.call(this,"A",D),Object.defineProperty(this,"index",{value:U,enumerable:!0}),Object.defineProperty(this,"item",{value:Y,enumerable:!0})}function u(D,U,Y){var q=D.slice((Y||U)+1||D.length);return D.length=U<0?D.length+U:U,D.push.apply(D,q),D}function c(D){var U=typeof D>"u"?"undefined":J(D);return U!=="object"?U:D===Math?"math":D===null?"null":Array.isArray(D)?"array":Object.prototype.toString.call(D)==="[object Date]"?"date":typeof D.toString=="function"&&/^\/.*\//.test(D.toString())?"regexp":"object"}function d(D,U,Y,q,te,ue,Se){te=te||[],Se=Se||[];var pe=te.slice(0);if(typeof ue<"u"){if(q){if(typeof q=="function"&&q(pe,ue))return;if((typeof q>"u"?"undefined":J(q))==="object"){if(q.prefilter&&q.prefilter(pe,ue))return;if(q.normalize){var Ge=q.normalize(pe,ue,D,U);Ge&&(D=Ge[0],U=Ge[1])}}}pe.push(ue)}c(D)==="regexp"&&c(U)==="regexp"&&(D=D.toString(),U=U.toString());var nt=typeof D>"u"?"undefined":J(D),ze=typeof U>"u"?"undefined":J(U),Z=nt!=="undefined"||Se&&Se[Se.length-1].lhs&&Se[Se.length-1].lhs.hasOwnProperty(ue),Ne=ze!=="undefined"||Se&&Se[Se.length-1].rhs&&Se[Se.length-1].rhs.hasOwnProperty(ue);if(!Z&&Ne)Y(new o(pe,U));else if(!Ne&&Z)Y(new a(pe,D));else if(c(D)!==c(U))Y(new s(pe,D,U));else if(c(D)==="date"&&D-U!==0)Y(new s(pe,D,U));else if(nt==="object"&&D!==null&&U!==null)if(Se.filter(function(De){return De.lhs===D}).length)D!==U&&Y(new s(pe,D,U));else{if(Se.push({lhs:D,rhs:U}),Array.isArray(D)){var ye;for(D.length,ye=0;ye<D.length;ye++)ye>=U.length?Y(new l(pe,ye,new a(void 0,D[ye]))):d(D[ye],U[ye],Y,q,pe,ye,Se);for(;ye<U.length;)Y(new l(pe,ye,new o(void 0,U[ye++])))}else{var he=Object.keys(D),de=Object.keys(U);he.forEach(function(De,Le){var Ie=de.indexOf(De);Ie>=0?(d(D[De],U[De],Y,q,pe,De,Se),de=u(de,Ie)):d(D[De],void 0,Y,q,pe,De,Se)}),de.forEach(function(De){d(void 0,U[De],Y,q,pe,De,Se)})}Se.length=Se.length-1}else D!==U&&(nt==="number"&&isNaN(D)&&isNaN(U)||Y(new s(pe,D,U)))}function p(D,U,Y,q){return q=q||[],d(D,U,function(te){te&&q.push(te)},Y),q.length?q:void 0}function m(D,U,Y){if(Y.path&&Y.path.length){var q,te=D[U],ue=Y.path.length-1;for(q=0;q<ue;q++)te=te[Y.path[q]];switch(Y.kind){case"A":m(te[Y.path[q]],Y.index,Y.item);break;case"D":delete te[Y.path[q]];break;case"E":case"N":te[Y.path[q]]=Y.rhs}}else switch(Y.kind){case"A":m(D[U],Y.index,Y.item);break;case"D":D=u(D,U);break;case"E":case"N":D[U]=Y.rhs}return D}function g(D,U,Y){if(D&&U&&Y&&Y.kind){for(var q=D,te=-1,ue=Y.path?Y.path.length-1:0;++te<ue;)typeof q[Y.path[te]]>"u"&&(q[Y.path[te]]=typeof Y.path[te]=="number"?[]:{}),q=q[Y.path[te]];switch(Y.kind){case"A":m(Y.path?q[Y.path[te]]:q,Y.index,Y.item);break;case"D":delete q[Y.path[te]];break;case"E":case"N":q[Y.path[te]]=Y.rhs}}}function y(D,U,Y){if(Y.path&&Y.path.length){var q,te=D[U],ue=Y.path.length-1;for(q=0;q<ue;q++)te=te[Y.path[q]];switch(Y.kind){case"A":y(te[Y.path[q]],Y.index,Y.item);break;case"D":te[Y.path[q]]=Y.lhs;break;case"E":te[Y.path[q]]=Y.lhs;break;case"N":delete te[Y.path[q]]}}else switch(Y.kind){case"A":y(D[U],Y.index,Y.item);break;case"D":D[U]=Y.lhs;break;case"E":D[U]=Y.lhs;break;case"N":D=u(D,U)}return D}function _(D,U,Y){if(D&&U&&Y&&Y.kind){var q,te,ue=D;for(te=Y.path.length-1,q=0;q<te;q++)typeof ue[Y.path[q]]>"u"&&(ue[Y.path[q]]={}),ue=ue[Y.path[q]];switch(Y.kind){case"A":y(ue[Y.path[q]],Y.index,Y.item);break;case"D":ue[Y.path[q]]=Y.lhs;break;case"E":ue[Y.path[q]]=Y.lhs;break;case"N":delete ue[Y.path[q]]}}}function v(D,U,Y){if(D&&U){var q=function(te){Y&&!Y(D,U,te)||g(D,U,te)};d(D,U,q)}}function x(D){return"color: "+F[D].color+"; font-weight: bold"}function w(D){var U=D.kind,Y=D.path,q=D.lhs,te=D.rhs,ue=D.index,Se=D.item;switch(U){case"E":return[Y.join("."),q,"→",te];case"N":return[Y.join("."),te];case"D":return[Y.join(".")];case"A":return[Y.join(".")+"["+ue+"]",Se];default:return[]}}function M(D,U,Y,q){var te=p(D,U);try{q?Y.groupCollapsed("diff"):Y.group("diff")}catch{Y.log("diff")}te?te.forEach(function(ue){var Se=ue.kind,pe=w(ue);Y.log.apply(Y,["%c "+F[Se].text,x(Se)].concat(ne(pe)))}):Y.log("—— no diff ——");try{Y.groupEnd()}catch{Y.log("—— diff end —— ")}}function b(D,U,Y,q){switch(typeof D>"u"?"undefined":J(D)){case"object":return typeof D[q]=="function"?D[q].apply(D,ne(Y)):D[q];case"function":return D(U);default:return D}}function T(D){var U=D.timestamp,Y=D.duration;return function(q,te,ue){var Se=["action"];return Se.push("%c"+String(q.type)),U&&Se.push("%c@ "+te),Y&&Se.push("%c(in "+ue.toFixed(2)+" ms)"),Se.join(" ")}}function C(D,U){var Y=U.logger,q=U.actionTransformer,te=U.titleFormatter,ue=te===void 0?T(U):te,Se=U.collapsed,pe=U.colors,Ge=U.level,nt=U.diff,ze=typeof U.titleFormatter>"u";D.forEach(function(Z,Ne){var ye=Z.started,he=Z.startedTime,de=Z.action,De=Z.prevState,Le=Z.error,Ie=Z.took,Ve=Z.nextState,it=D[Ne+1];it&&(Ve=it.prevState,Ie=it.started-ye);var ae=q(de),B=typeof Se=="function"?Se(function(){return Ve},de,Z):Se,k=W(he),le=pe.title?"color: "+pe.title(ae)+";":"",_e=["color: gray; font-weight: lighter;"];_e.push(le),U.timestamp&&_e.push("color: gray; font-weight: lighter;"),U.duration&&_e.push("color: gray; font-weight: lighter;");var be=ue(ae,k,Ie);try{B?pe.title&&ze?Y.groupCollapsed.apply(Y,["%c "+be].concat(_e)):Y.groupCollapsed(be):pe.title&&ze?Y.group.apply(Y,["%c "+be].concat(_e)):Y.group(be)}catch{Y.log(be)}var Fe=b(Ge,ae,[De],"prevState"),qe=b(Ge,ae,[ae],"action"),He=b(Ge,ae,[Le,De],"error"),Me=b(Ge,ae,[Ve],"nextState");if(Fe)if(pe.prevState){var st="color: "+pe.prevState(De)+"; font-weight: bold";Y[Fe]("%c prev state",st,De)}else Y[Fe]("prev state",De);if(qe)if(pe.action){var ut="color: "+pe.action(ae)+"; font-weight: bold";Y[qe]("%c action    ",ut,ae)}else Y[qe]("action    ",ae);if(Le&&He)if(pe.error){var ie="color: "+pe.error(Le,De)+"; font-weight: bold;";Y[He]("%c error     ",ie,Le)}else Y[He]("error     ",Le);if(Me)if(pe.nextState){var re="color: "+pe.nextState(Ve)+"; font-weight: bold";Y[Me]("%c next state",re,Ve)}else Y[Me]("next state",Ve);nt&&M(De,Ve,Y,B);try{Y.groupEnd()}catch{Y.log("—— log end ——")}})}function I(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=Object.assign({},j,D),Y=U.logger,q=U.stateTransformer,te=U.errorTransformer,ue=U.predicate,Se=U.logErrors,pe=U.diffPredicate;if(typeof Y>"u")return function(){return function(nt){return function(ze){return nt(ze)}}};if(D.getState&&D.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(nt){return function(ze){return nt(ze)}}};var Ge=[];return function(nt){var ze=nt.getState;return function(Z){return function(Ne){if(typeof ue=="function"&&!ue(ze,Ne))return Z(Ne);var ye={};Ge.push(ye),ye.started=K.now(),ye.startedTime=new Date,ye.prevState=q(ze()),ye.action=Ne;var he=void 0;if(Se)try{he=Z(Ne)}catch(De){ye.error=te(De)}else he=Z(Ne);ye.took=K.now()-ye.started,ye.nextState=q(ze());var de=U.diff&&typeof pe=="function"?pe(ze,Ne):U.diff;if(C(Ge,Object.assign({},U,{diff:de})),Ge.length=0,ye.error)throw ye.error;return he}}}}var R,N,z=function(D,U){return new Array(U+1).join(D)},V=function(D,U){return z("0",U-D.toString().length)+D},W=function(D){return V(D.getHours(),2)+":"+V(D.getMinutes(),2)+":"+V(D.getSeconds(),2)+"."+V(D.getMilliseconds(),3)},K=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},ne=function(D){if(Array.isArray(D)){for(var U=0,Y=Array(D.length);U<D.length;U++)Y[U]=D[U];return Y}return Array.from(D)},ee=[];R=(typeof zt>"u"?"undefined":J(zt))==="object"&&zt?zt:typeof window<"u"?window:{},N=R.DeepDiff,N&&ee.push(function(){typeof N<"u"&&R.DeepDiff===p&&(R.DeepDiff=N,N=void 0)}),r(s,i),r(o,i),r(a,i),r(l,i),Object.defineProperties(p,{diff:{value:p,enumerable:!0},observableDiff:{value:d,enumerable:!0},applyDiff:{value:v,enumerable:!0},applyChange:{value:g,enumerable:!0},revertChange:{value:_,enumerable:!0},isConflict:{value:function(){return typeof N<"u"},enumerable:!0},noConflict:{value:function(){return ee&&(ee.forEach(function(D){D()}),ee=null),p},enumerable:!0}});var F={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},j={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(D){return D},actionTransformer:function(D){return D},errorTransformer:function(D){return D},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},H=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=D.dispatch,Y=D.getState;return typeof U=="function"||typeof Y=="function"?I()({dispatch:U,getState:Y}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};n.defaults=j,n.createLogger=I,n.logger=H,n.default=H,Object.defineProperty(n,"__esModule",{value:!0})})})(nD,nD.exports);var Qo=function(e){return"@@redux-saga/"+e},Exe=Qo("CANCEL_PROMISE"),jV=Qo("CHANNEL_END"),HV=Qo("IO"),rD=Qo("MATCH"),WV=Qo("MULTICAST"),GV=Qo("SAGA_ACTION"),bxe=Qo("SELF_CANCELLATION"),Txe=Qo("TASK"),Df=Qo("TASK_CANCEL"),$V=Qo("TERMINATE"),Axe=Qo("LOCATION"),qV=function(e){return e==null},N_=function(e){return e!=null},Ji=function(e){return typeof e=="function"},UP=function(e){return typeof e=="string"},gc=Array.isArray,hw=function(e){return e&&Ji(e.then)},zP=function(e){return e&&Ji(e.next)&&Ji(e.throw)},iD=function t(e){return e&&(UP(e)||YV(e)||Ji(e)||gc(e)&&e.every(t))},BP=function(e){return e&&Ji(e.take)&&Ji(e.close)},XV=function(e){return Ji(e)&&e.hasOwnProperty("toString")},YV=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},Cxe=function(e){return BP(e)&&e[WV]},Pxe=function(e){return function(){return e}},Rxe=Pxe(!0),bi=function(){},Nxe=function(e){return e},VP=function(e,n){Xu(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},Ixe=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function dw(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function Oxe(t){var e=!1;return function(){e||(e=!0,t())}}var Lxe=function(e){throw e},Dxe=function(e){return{value:e,done:!0}};function hA(t,e,n){e===void 0&&(e=Lxe),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:Dxe,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function kxe(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var ZV=function(e){return Array.apply(null,new Array(e))},Fxe=function(e){return function(n){return e(Object.defineProperty(n,GV,{value:!0}))}},KV=function(e){return e===$V},QV=function(e){return e===Df},JV=function(e){return KV(e)||QV(e)};function ej(t,e){var n=Object.keys(t),r=n.length,i=0,s,o=gc(t)?ZV(r):{},a={};function l(){i===r&&(s=!0,e(o))}return n.forEach(function(u){var c=function(p,m){s||(m||JV(p)?(e.cancel(),e(p,m)):(o[u]=p,i++,l()))};c.cancel=bi,a[u]=c}),e.cancel=function(){s||(s=!0,n.forEach(function(u){return a[u].cancel()}))},a}function jP(t){return{name:t.name||"anonymous",location:tj(t)}}function tj(t){return t[Axe]}var Uxe="Channel's Buffer overflow!",zxe=1,Bxe=3,nj=4;function Vxe(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,i=0,s=0,o=function(c){n[i]=c,i=(i+1)%t,r++},a=function(){if(r!=0){var c=n[s];return n[s]=null,r--,s=(s+1)%t,c}},l=function(){for(var c=[];r;)c.push(a());return c};return{isEmpty:function(){return r==0},put:function(c){if(r<t)o(c);else{var d;switch(e){case zxe:throw new Error(Uxe);case Bxe:n[i]=c,i=(i+1)%t,s=i;break;case nj:d=2*t,n=l(),r=n.length,i=n.length,s=0,n.length=d,t=d,o(c);break}}},take:a,flush:l}}var jxe=function(e){return Vxe(e,nj)},I_="TAKE",rj="PUT",ij="ALL",Hxe="RACE",sj="CALL",Wxe="CPS",oj="FORK",Gxe="JOIN",$xe="CANCEL",qxe="SELECT",Xxe="ACTION_CHANNEL",Yxe="CANCELLED",Zxe="FLUSH",Kxe="GET_CONTEXT",Qxe="SET_CONTEXT",_h=function(e,n){var r;return r={},r[HV]=!0,r.combinator=!1,r.type=e,r.payload=n,r};function Jxe(t,e){if(t===void 0&&(t="*"),iD(t))return N_(e)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),_h(I_,{pattern:t});if(Cxe(t)&&N_(e)&&iD(e))return _h(I_,{channel:t,pattern:e});if(BP(t))return N_(e)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),_h(I_,{channel:t})}function eSe(t,e){return qV(e)&&(e=t,t=void 0),_h(rj,{channel:t,action:e})}function tSe(t){var e=_h(ij,t);return e.combinator=!0,e}function aj(t,e){var n=null,r;return Ji(t)?r=t:(gc(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&UP(r)&&Ji(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function nSe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return _h(sj,aj(t,n))}function lj(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return _h(oj,aj(t,n))}function rSe(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var uj=[],fw=0;function iSe(t){try{HP(),t()}finally{dj()}}function cj(t){uj.push(t),fw||(HP(),fj())}function hj(t){try{return HP(),t()}finally{fj()}}function HP(){fw++}function dj(){fw--}function fj(){dj();for(var t;!fw&&(t=uj.shift())!==void 0;)iSe(t)}var sSe=function(e){return function(n){return e.some(function(r){return WP(r)(n)})}},oSe=function(e){return function(n){return e(n)}},sD=function(e){return function(n){return n.type===String(e)}},aSe=function(e){return function(n){return n.type===e}},pj=function(){return Rxe};function WP(t){var e=t==="*"?pj:UP(t)?sD:gc(t)?sSe:XV(t)?sD:Ji(t)?oSe:YV(t)?aSe:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var yg={type:jV},GP=function(e){return e&&e.type===jV};function lSe(t){t===void 0&&(t=jxe());var e=!1,n=[];function r(a){if(!e){if(n.length===0)return t.put(a);var l=n.shift();l(a)}}function i(a){e&&t.isEmpty()?a(yg):t.isEmpty()?(n.push(a),a.cancel=function(){dw(n,a)}):a(t.take())}function s(a){if(e&&t.isEmpty()){a(yg);return}a(t.flush())}function o(){if(!e){e=!0;var a=n;n=[];for(var l=0,u=a.length;l<u;l++){var c=a[l];c(yg)}}}return{take:i,put:r,flush:s,close:o}}function uSe(){var t,e=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},s=function(){e=!0;var a=n=r;r=[],a.forEach(function(l){l(yg)})};return t={},t[WV]=!0,t.put=function(a){if(!e){if(GP(a)){s();return}for(var l=n=r,u=0,c=l.length;u<c;u++){var d=l[u];d[rD](a)&&(d.cancel(),d(a))}}},t.take=function(a,l){if(l===void 0&&(l=pj),e){a(yg);return}a[rD]=l,i(),r.push(a),a.cancel=Oxe(function(){i(),dw(r,a)})},t.close=s,t}function mj(){var t=uSe(),e=t.put;return t.put=function(n){if(n[GV]){e(n);return}cj(function(){e(n)})},t}var Yc=0,ll=1,O_=2,gj=3;function $P(t,e){var n=t[Exe];Ji(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var Ov=0,vj=function(){return++Ov},$r;function cSe(t,e){return t.isSagaIterator?{name:t.meta.name}:jP(e)}function hSe(t){var e=t.context,n=t.fn,r=t.args;try{var i=n.apply(e,r);if(zP(i))return i;var s=!1,o=function(l){return s?{value:l,done:!0}:(s=!0,{value:i,done:!hw(i)})};return hA(o)}catch(a){return hA(function(){throw a})}}function dSe(t,e,n){var r=e.channel,i=e.action,s=e.resolve;cj(function(){var o;try{o=(r?r.put:t.dispatch)(i)}catch(a){n(a,!0);return}s&&hw(o)?$P(o,n):n(o)})}function fSe(t,e,n){var r=e.channel,i=r===void 0?t.channel:r,s=e.pattern,o=e.maybe,a=function(u){if(u instanceof Error){n(u,!0);return}if(GP(u)&&!o){n($V);return}n(u)};try{i.take(a,N_(s)?WP(s):null)}catch(l){n(l,!0);return}n.cancel=a.cancel}function pSe(t,e,n,r){var i=e.context,s=e.fn,o=e.args,a=r.task;try{var l=s.apply(i,o);if(hw(l)){$P(l,n);return}if(zP(l)){pw(t,l,a.context,Ov,jP(s),!1,n);return}n(l)}catch(u){n(u,!0)}}function mSe(t,e,n){var r=e.context,i=e.fn,s=e.args;try{var o=function(l,u){qV(l)?n(u):n(l,!0)};i.apply(r,s.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(a){n(a,!0)}}function gSe(t,e,n,r){var i=e.context,s=e.fn,o=e.args,a=e.detached,l=r.task,u=hSe({context:i,fn:s,args:o}),c=cSe(u,s);hj(function(){var d=pw(t,u,l.context,Ov,c,a,void 0);a?n(d):d.isRunning()?(l.queue.addTask(d),n(d)):d.isAborted()?l.queue.abort(d.error()):n(d)})}function vSe(t,e,n,r){var i=r.task,s=function(l,u){if(l.isRunning()){var c={task:i,cb:u};u.cancel=function(){l.isRunning()&&dw(l.joiners,c)},l.joiners.push(c)}else l.isAborted()?u(l.error(),!0):u(l.result())};if(gc(e)){if(e.length===0){n([]);return}var o=ej(e,n);e.forEach(function(a,l){s(a,o[l])})}else s(e,n)}function Tb(t){t.isRunning()&&t.cancel()}function ySe(t,e,n,r){var i=r.task;e===bxe?Tb(i):gc(e)?e.forEach(Tb):Tb(e),n()}function _Se(t,e,n,r){var i=r.digestEffect,s=Ov,o=Object.keys(e);if(o.length===0){n(gc(e)?[]:{});return}var a=ej(e,n);o.forEach(function(l){i(e[l],s,a[l],l)})}function xSe(t,e,n,r){var i=r.digestEffect,s=Ov,o=Object.keys(e),a=gc(e)?ZV(o.length):{},l={},u=!1;o.forEach(function(c){var d=function(m,g){u||(g||JV(m)?(n.cancel(),n(m,g)):(n.cancel(),u=!0,a[c]=m,n(a)))};d.cancel=bi,l[c]=d}),n.cancel=function(){u||(u=!0,o.forEach(function(c){return l[c].cancel()}))},o.forEach(function(c){u||i(e[c],s,l[c],c)})}function SSe(t,e,n){var r=e.selector,i=e.args;try{var s=r.apply(void 0,[t.getState()].concat(i));n(s)}catch(o){n(o,!0)}}function wSe(t,e,n){var r=e.pattern,i=e.buffer,s=lSe(i),o=WP(r),a=function u(c){GP(c)||t.channel.take(u,o),s.put(c)},l=s.close;s.close=function(){a.cancel(),l()},t.channel.take(a,o),n(s)}function MSe(t,e,n,r){var i=r.task;n(i.isCancelled())}function ESe(t,e,n){e.flush(n)}function bSe(t,e,n,r){var i=r.task;n(i.context[e])}function TSe(t,e,n,r){var i=r.task;VP(i.context,e),n()}var ASe=($r={},$r[I_]=fSe,$r[rj]=dSe,$r[ij]=_Se,$r[Hxe]=xSe,$r[sj]=pSe,$r[Wxe]=mSe,$r[oj]=gSe,$r[Gxe]=vSe,$r[$xe]=ySe,$r[qxe]=SSe,$r[Xxe]=wSe,$r[Yxe]=MSe,$r[Zxe]=ESe,$r[Kxe]=bSe,$r[Qxe]=TSe,$r);function CSe(t,e,n){var r=[],i,s=!1;l(t);var o=function(){return r};function a(c){e(),u(),n(c,!0)}function l(c){r.push(c),c.cont=function(d,p){s||(dw(r,c),c.cont=bi,p?a(d):(c===t&&(i=d),r.length||(s=!0,n(i))))}}function u(){s||(s=!0,r.forEach(function(c){c.cont=bi,c.cancel()}),r=[])}return{addTask:l,cancelAll:u,abort:a,getTasks:o}}function yj(t,e){return t+"?"+e}function PSe(t){var e=tj(t);if(e){var n=e.code,r=e.fileName,i=e.lineNumber,s=n+"  "+yj(r,i);return s}return""}function oD(t){var e=t.name,n=t.location;return n?e+"  "+yj(n.fileName,n.lineNumber):e}function RSe(t){var e=Ixe(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var qP=null,_g=[],NSe=function(e){e.crashedEffect=qP,_g.push(e)},_j=function(){qP=null,_g.length=0},ISe=function(e){qP=e},OSe=function(){var e=_g[0],n=_g.slice(1),r=e.crashedEffect?PSe(e.crashedEffect):null,i="The above error occurred in task "+oD(e.meta)+(r?` 
 when executing effect `+r:"");return[i].concat(n.map(function(s){return"    created by "+oD(s.meta)}),[RSe(_g)]).join(`
`)};function LSe(t,e,n,r,i,s,o){var a;o===void 0&&(o=bi);var l=Yc,u,c,d=null,p=[],m=Object.create(n),g=CSe(e,function(){p.push.apply(p,g.getTasks().map(function(b){return b.meta.name}))},_);function y(){l===Yc&&(l=ll,g.cancelAll(),_(Df,!1))}function _(M,b){if(!b)M===Df?l=ll:l!==ll&&(l=gj),u=M,d&&d.resolve(M);else{if(l=O_,NSe({meta:i,cancelledTasks:p}),w.isRoot){var T=OSe();_j(),t.onError(M,{sagaStack:T})}c=M,d&&d.reject(M)}w.cont(M,b),w.joiners.forEach(function(C){C.cb(M,b)}),w.joiners=null}function v(M){VP(m,M)}function x(){return d||(d=rSe(),l===O_?d.reject(c):l!==Yc&&d.resolve(u)),d.promise}var w=(a={},a[Txe]=!0,a.id=r,a.meta=i,a.isRoot=s,a.context=m,a.joiners=[],a.queue=g,a.cancel=y,a.cont=o,a.end=_,a.setContext=v,a.toPromise=x,a.isRunning=function(){return l===Yc},a.isCancelled=function(){return l===ll||l===Yc&&e.status===ll},a.isAborted=function(){return l===O_},a.result=function(){return u},a.error=function(){return c},a);return w}function pw(t,e,n,r,i,s,o){var a=t.finalizeRunEffect(m);p.cancel=bi;var l={meta:i,cancel:d,status:Yc},u=LSe(t,l,n,r,i,s,o),c={task:u,digestEffect:g};function d(){l.status===Yc&&(l.status=ll,p(Df))}return o&&(o.cancel=u.cancel),p(),u;function p(y,_){try{var v;_?(v=e.throw(y),_j()):QV(y)?(l.status=ll,p.cancel(),v=Ji(e.return)?e.return(Df):{done:!0,value:Df}):KV(y)?v=Ji(e.return)?e.return():{done:!0}:v=e.next(y),v.done?(l.status!==ll&&(l.status=gj),l.cont(v.value)):g(v.value,r,p)}catch(x){if(l.status===ll)throw x;l.status=O_,l.cont(x,!0)}}function m(y,_,v){if(hw(y))$P(y,v);else if(zP(y))pw(t,y,u.context,_,i,!1,v);else if(y&&y[HV]){var x=ASe[y.type];x(t,y.payload,v,c)}else v(y)}function g(y,_,v,x){x===void 0&&(x="");var w=vj();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:w,parentEffectId:_,label:x,effect:y});var M;function b(T,C){M||(M=!0,v.cancel=bi,t.sagaMonitor&&(C?t.sagaMonitor.effectRejected(w,T):t.sagaMonitor.effectResolved(w,T)),C&&ISe(y),v(T,C))}b.cancel=bi,v.cancel=function(){M||(M=!0,b.cancel(),b.cancel=bi,t.sagaMonitor&&t.sagaMonitor.effectCancelled(w))},a(y,w,b)}}function DSe(t,e){for(var n=t.channel,r=n===void 0?mj():n,i=t.dispatch,s=t.getState,o=t.context,a=o===void 0?{}:o,l=t.sagaMonitor,u=t.effectMiddlewares,c=t.onError,d=c===void 0?kxe:c,p=arguments.length,m=new Array(p>2?p-2:0),g=2;g<p;g++)m[g-2]=arguments[g];var y=e.apply(void 0,m),_=vj();l&&(l.rootSagaStarted=l.rootSagaStarted||bi,l.effectTriggered=l.effectTriggered||bi,l.effectResolved=l.effectResolved||bi,l.effectRejected=l.effectRejected||bi,l.effectCancelled=l.effectCancelled||bi,l.actionDispatched=l.actionDispatched||bi,l.rootSagaStarted({effectId:_,saga:e,args:m}));var v;if(u){var x=m0.apply(void 0,u);v=function(b){return function(T,C,I){var R=function(z){return b(z,C,I)};return x(R)(T)}}}else v=Nxe;var w={channel:r,dispatch:Fxe(i),getState:s,sagaMonitor:l,onError:d,finalizeRunEffect:v};return hj(function(){var M=pw(w,y,a,_,jP(e),!0,void 0);return l&&l.effectResolved(_,M),M})}function kSe(t){var e=t===void 0?{}:t,n=e.context,r=n===void 0?{}:n,i=e.channel,s=i===void 0?mj():i,o=e.sagaMonitor,a=ode(e,["context","channel","sagaMonitor"]),l;function u(c){var d=c.getState,p=c.dispatch;return l=DSe.bind(null,Xu({},a,{context:r,channel:s,dispatch:p,getState:d,sagaMonitor:o})),function(m){return function(g){o&&o.actionDispatched&&o.actionDispatched(g);var y=m(g);return s.put(g),y}}}return u.run=function(){return l.apply(void 0,arguments)},u.setContext=function(c){VP(r,c)},u}var aD=function(e){return{done:!0,value:e}},Ab={};function FSe(t){return BP(t)?"channel":XV(t)?String(t):Ji(t)?t.name:String(t)}function USe(t,e,n){var r,i,s,o=e;function a(l,u){if(o===Ab)return aD(l);if(u&&!i)throw o=Ab,u;r&&r(l);var c=u?t[i](u):t[o]();return o=c.nextState,s=c.effect,r=c.stateUpdater,i=c.errorState,o===Ab?aD(l):s}return hA(a,function(l){return a(null,l)},n)}function zSe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s={done:!1,value:Jxe(t)},o=function(c){return{done:!1,value:lj.apply(void 0,[e].concat(r,[c]))}},a,l=function(c){return a=c};return USe({q1:function(){return{nextState:"q2",effect:s,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:o(a)}}},"q1","takeEvery("+FSe(t)+", "+e.name+")")}function BSe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return lj.apply(void 0,[zSe,t,e].concat(r))}function*hs(...t){return yield BSe(...t)}function*Vt(...t){return yield eSe(...t)}function*Hr(...t){return yield nSe(...t)}function*VSe(...t){return yield tSe(...t)}function xj(t,e){return function(){return t.apply(e,arguments)}}const{toString:jSe}=Object.prototype,{getPrototypeOf:XP}=Object,mw=(t=>e=>{const n=jSe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ka=t=>(t=t.toLowerCase(),e=>mw(e)===t),gw=t=>e=>typeof e===t,{isArray:Fp}=Array,L0=gw("undefined");function HSe(t){return t!==null&&!L0(t)&&t.constructor!==null&&!L0(t.constructor)&&Js(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Sj=ka("ArrayBuffer");function WSe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Sj(t.buffer),e}const GSe=gw("string"),Js=gw("function"),wj=gw("number"),vw=t=>t!==null&&typeof t=="object",$Se=t=>t===!0||t===!1,L_=t=>{if(mw(t)!=="object")return!1;const e=XP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},qSe=ka("Date"),XSe=ka("File"),YSe=ka("Blob"),ZSe=ka("FileList"),KSe=t=>vw(t)&&Js(t.pipe),QSe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Js(t.append)&&((e=mw(t))==="formdata"||e==="object"&&Js(t.toString)&&t.toString()==="[object FormData]"))},JSe=ka("URLSearchParams"),e2e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lv(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Fp(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function Mj(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ej=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),bj=t=>!L0(t)&&t!==Ej;function dA(){const{caseless:t}=bj(this)&&this||{},e={},n=(r,i)=>{const s=t&&Mj(e,i)||i;L_(e[s])&&L_(r)?e[s]=dA(e[s],r):L_(r)?e[s]=dA({},r):Fp(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Lv(arguments[r],n);return e}const t2e=(t,e,n,{allOwnKeys:r}={})=>(Lv(e,(i,s)=>{n&&Js(i)?t[s]=xj(i,n):t[s]=i},{allOwnKeys:r}),t),n2e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),r2e=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},i2e=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&XP(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},s2e=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},o2e=t=>{if(!t)return null;if(Fp(t))return t;let e=t.length;if(!wj(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},a2e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&XP(Uint8Array)),l2e=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},u2e=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},c2e=ka("HTMLFormElement"),h2e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),lD=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),d2e=ka("RegExp"),Tj=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Lv(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},f2e=t=>{Tj(t,(e,n)=>{if(Js(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Js(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},p2e=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Fp(t)?r(t):r(String(t).split(e)),n},m2e=()=>{},g2e=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Cb="abcdefghijklmnopqrstuvwxyz",uD="0123456789",Aj={DIGIT:uD,ALPHA:Cb,ALPHA_DIGIT:Cb+Cb.toUpperCase()+uD},v2e=(t=16,e=Aj.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function y2e(t){return!!(t&&Js(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const _2e=t=>{const e=new Array(10),n=(r,i)=>{if(vw(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Fp(r)?[]:{};return Lv(r,(o,a)=>{const l=n(o,i+1);!L0(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},x2e=ka("AsyncFunction"),S2e=t=>t&&(vw(t)||Js(t))&&Js(t.then)&&Js(t.catch),Re={isArray:Fp,isArrayBuffer:Sj,isBuffer:HSe,isFormData:QSe,isArrayBufferView:WSe,isString:GSe,isNumber:wj,isBoolean:$Se,isObject:vw,isPlainObject:L_,isUndefined:L0,isDate:qSe,isFile:XSe,isBlob:YSe,isRegExp:d2e,isFunction:Js,isStream:KSe,isURLSearchParams:JSe,isTypedArray:a2e,isFileList:ZSe,forEach:Lv,merge:dA,extend:t2e,trim:e2e,stripBOM:n2e,inherits:r2e,toFlatObject:i2e,kindOf:mw,kindOfTest:ka,endsWith:s2e,toArray:o2e,forEachEntry:l2e,matchAll:u2e,isHTMLForm:c2e,hasOwnProperty:lD,hasOwnProp:lD,reduceDescriptors:Tj,freezeMethods:f2e,toObjectSet:p2e,toCamelCase:h2e,noop:m2e,toFiniteNumber:g2e,findKey:Mj,global:Ej,isContextDefined:bj,ALPHABET:Aj,generateString:v2e,isSpecCompliantForm:y2e,toJSONObject:_2e,isAsyncFn:x2e,isThenable:S2e};function Xt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Re.inherits(Xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Cj=Xt.prototype,Pj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Pj[t]={value:t}});Object.defineProperties(Xt,Pj);Object.defineProperty(Cj,"isAxiosError",{value:!0});Xt.from=(t,e,n,r,i,s)=>{const o=Object.create(Cj);return Re.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Xt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const w2e=null;function fA(t){return Re.isPlainObject(t)||Re.isArray(t)}function Rj(t){return Re.endsWith(t,"[]")?t.slice(0,-2):t}function cD(t,e,n){return t?t.concat(e).map(function(i,s){return i=Rj(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function M2e(t){return Re.isArray(t)&&!t.some(fA)}const E2e=Re.toFlatObject(Re,{},null,function(e){return/^is[A-Z]/.test(e)});function yw(t,e,n){if(!Re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,_){return!Re.isUndefined(_[y])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Re.isSpecCompliantForm(e);if(!Re.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Re.isDate(g))return g.toISOString();if(!l&&Re.isBlob(g))throw new Xt("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(g)||Re.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,y,_){let v=g;if(g&&!_&&typeof g=="object"){if(Re.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(Re.isArray(g)&&M2e(g)||(Re.isFileList(g)||Re.endsWith(y,"[]"))&&(v=Re.toArray(g)))return y=Rj(y),v.forEach(function(w,M){!(Re.isUndefined(w)||w===null)&&e.append(o===!0?cD([y],M,s):o===null?y:y+"[]",u(w))}),!1}return fA(g)?!0:(e.append(cD(_,y,s),u(g)),!1)}const d=[],p=Object.assign(E2e,{defaultVisitor:c,convertValue:u,isVisitable:fA});function m(g,y){if(!Re.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),Re.forEach(g,function(v,x){(!(Re.isUndefined(v)||v===null)&&i.call(e,v,Re.isString(x)?x.trim():x,y,p))===!0&&m(v,y?y.concat(x):[x])}),d.pop()}}if(!Re.isObject(t))throw new TypeError("data must be an object");return m(t),e}function hD(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function YP(t,e){this._pairs=[],t&&yw(t,this,e)}const Nj=YP.prototype;Nj.append=function(e,n){this._pairs.push([e,n])};Nj.toString=function(e){const n=e?function(r){return e.call(this,r,hD)}:hD;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function b2e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ij(t,e,n){if(!e)return t;const r=n&&n.encode||b2e,i=n&&n.serialize;let s;if(i?s=i(e,n):s=Re.isURLSearchParams(e)?e.toString():new YP(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class T2e{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const dD=T2e,Oj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},A2e=typeof URLSearchParams<"u"?URLSearchParams:YP,C2e=typeof FormData<"u"?FormData:null,P2e=typeof Blob<"u"?Blob:null,R2e=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),N2e=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),va={isBrowser:!0,classes:{URLSearchParams:A2e,FormData:C2e,Blob:P2e},isStandardBrowserEnv:R2e,isStandardBrowserWebWorkerEnv:N2e,protocols:["http","https","file","blob","url","data"]};function I2e(t,e){return yw(t,new va.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return va.isNode&&Re.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function O2e(t){return Re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function L2e(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Lj(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Re.isArray(i)?i.length:o,l?(Re.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Re.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Re.isArray(i[o])&&(i[o]=L2e(i[o])),!a)}if(Re.isFormData(t)&&Re.isFunction(t.entries)){const n={};return Re.forEachEntry(t,(r,i)=>{e(O2e(r),i,n,0)}),n}return null}const D2e={"Content-Type":void 0};function k2e(t,e,n){if(Re.isString(t))try{return(e||JSON.parse)(t),Re.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const _w={transitional:Oj,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Re.isObject(e);if(s&&Re.isHTMLForm(e)&&(e=new FormData(e)),Re.isFormData(e))return i&&i?JSON.stringify(Lj(e)):e;if(Re.isArrayBuffer(e)||Re.isBuffer(e)||Re.isStream(e)||Re.isFile(e)||Re.isBlob(e))return e;if(Re.isArrayBufferView(e))return e.buffer;if(Re.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return I2e(e,this.formSerializer).toString();if((a=Re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return yw(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),k2e(e)):e}],transformResponse:[function(e){const n=this.transitional||_w.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&Re.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Xt.from(a,Xt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:va.classes.FormData,Blob:va.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Re.forEach(["delete","get","head"],function(e){_w.headers[e]={}});Re.forEach(["post","put","patch"],function(e){_w.headers[e]=Re.merge(D2e)});const ZP=_w,F2e=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),U2e=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&F2e[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},fD=Symbol("internals");function Om(t){return t&&String(t).trim().toLowerCase()}function D_(t){return t===!1||t==null?t:Re.isArray(t)?t.map(D_):String(t)}function z2e(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const B2e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Pb(t,e,n,r,i){if(Re.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Re.isString(e)){if(Re.isString(r))return e.indexOf(r)!==-1;if(Re.isRegExp(r))return r.test(e)}}function V2e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function j2e(t,e){const n=Re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class xw{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=Om(l);if(!c)throw new Error("header name must be a non-empty string");const d=Re.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=D_(a))}const o=(a,l)=>Re.forEach(a,(u,c)=>s(u,c,l));return Re.isPlainObject(e)||e instanceof this.constructor?o(e,n):Re.isString(e)&&(e=e.trim())&&!B2e(e)?o(U2e(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Om(e),e){const r=Re.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return z2e(i);if(Re.isFunction(n))return n.call(this,i,r);if(Re.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Om(e),e){const r=Re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Pb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Om(o),o){const a=Re.findKey(r,o);a&&(!n||Pb(r,r[a],a,n))&&(delete r[a],i=!0)}}return Re.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Pb(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Re.forEach(this,(i,s)=>{const o=Re.findKey(r,s);if(o){n[o]=D_(i),delete n[s];return}const a=e?V2e(s):String(s).trim();a!==s&&delete n[s],n[a]=D_(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Re.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[fD]=this[fD]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Om(o);r[a]||(j2e(i,o),r[a]=!0)}return Re.isArray(e)?e.forEach(s):s(e),this}}xw.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Re.freezeMethods(xw.prototype);Re.freezeMethods(xw);const wl=xw;function Rb(t,e){const n=this||ZP,r=e||n,i=wl.from(r.headers);let s=r.data;return Re.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Dj(t){return!!(t&&t.__CANCEL__)}function Dv(t,e,n){Xt.call(this,t??"canceled",Xt.ERR_CANCELED,e,n),this.name="CanceledError"}Re.inherits(Dv,Xt,{__CANCEL__:!0});function H2e(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Xt("Request failed with status code "+n.status,[Xt.ERR_BAD_REQUEST,Xt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const W2e=va.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),Re.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),Re.isString(s)&&l.push("path="+s),Re.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function G2e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $2e(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function kj(t,e){return t&&!G2e(e)?$2e(t,e):e}const q2e=va.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=Re.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function X2e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Y2e(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,p=0;for(;d!==i;)p+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=c&&u-c;return m?Math.round(p*1e3/m):void 0}}function pD(t,e){let n=0;const r=Y2e(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const Z2e=typeof XMLHttpRequest<"u",K2e=Z2e&&function(t){return new Promise(function(n,r){let i=t.data;const s=wl.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}Re.isFormData(i)&&(va.isStandardBrowserEnv||va.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const m=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(m+":"+g))}const c=kj(t.baseURL,t.url);u.open(t.method.toUpperCase(),Ij(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function d(){if(!u)return;const m=wl.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:m,config:t,request:u};H2e(function(v){n(v),l()},function(v){r(v),l()},y),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(r(new Xt("Request aborted",Xt.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new Xt("Network Error",Xt.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||Oj;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),r(new Xt(g,y.clarifyTimeoutError?Xt.ETIMEDOUT:Xt.ECONNABORTED,t,u)),u=null},va.isStandardBrowserEnv){const m=(t.withCredentials||q2e(c))&&t.xsrfCookieName&&W2e.read(t.xsrfCookieName);m&&s.set(t.xsrfHeaderName,m)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&Re.forEach(s.toJSON(),function(g,y){u.setRequestHeader(y,g)}),Re.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",pD(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",pD(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=m=>{u&&(r(!m||m.type?new Dv(null,t,u):m),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const p=X2e(c);if(p&&va.protocols.indexOf(p)===-1){r(new Xt("Unsupported protocol "+p+":",Xt.ERR_BAD_REQUEST,t));return}u.send(i||null)})},k_={http:w2e,xhr:K2e};Re.forEach(k_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Q2e={getAdapter:t=>{t=Re.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=Re.isString(n)?k_[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Xt(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Re.hasOwnProp(k_,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!Re.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:k_};function Nb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Dv(null,t)}function mD(t){return Nb(t),t.headers=wl.from(t.headers),t.data=Rb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Q2e.getAdapter(t.adapter||ZP.adapter)(t).then(function(r){return Nb(t),r.data=Rb.call(t,t.transformResponse,r),r.headers=wl.from(r.headers),r},function(r){return Dj(r)||(Nb(t),r&&r.response&&(r.response.data=Rb.call(t,t.transformResponse,r.response),r.response.headers=wl.from(r.response.headers))),Promise.reject(r)})}const gD=t=>t instanceof wl?t.toJSON():t;function dp(t,e){e=e||{};const n={};function r(u,c,d){return Re.isPlainObject(u)&&Re.isPlainObject(c)?Re.merge.call({caseless:d},u,c):Re.isPlainObject(c)?Re.merge({},c):Re.isArray(c)?c.slice():c}function i(u,c,d){if(Re.isUndefined(c)){if(!Re.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!Re.isUndefined(c))return r(void 0,c)}function o(u,c){if(Re.isUndefined(c)){if(!Re.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(gD(u),gD(c),!0)};return Re.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||i,p=d(t[c],e[c],c);Re.isUndefined(p)&&d!==a||(n[c]=p)}),n}const Fj="1.4.0",KP={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{KP[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const vD={};KP.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Fj+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Xt(i(o," has been removed"+(n?" in "+n:"")),Xt.ERR_DEPRECATED);return n&&!vD[o]&&(vD[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function J2e(t,e,n){if(typeof t!="object")throw new Xt("options must be an object",Xt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Xt("option "+s+" must be "+l,Xt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Xt("Unknown option "+s,Xt.ERR_BAD_OPTION)}}const pA={assertOptions:J2e,validators:KP},ou=pA.validators;class cS{constructor(e){this.defaults=e,this.interceptors={request:new dD,response:new dD}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=dp(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&pA.assertOptions(r,{silentJSONParsing:ou.transitional(ou.boolean),forcedJSONParsing:ou.transitional(ou.boolean),clarifyTimeoutError:ou.transitional(ou.boolean)},!1),i!=null&&(Re.isFunction(i)?n.paramsSerializer={serialize:i}:pA.assertOptions(i,{encode:ou.function,serialize:ou.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&Re.merge(s.common,s[n.method]),o&&Re.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=wl.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,d=0,p;if(!l){const g=[mD.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),p=g.length,c=Promise.resolve(n);d<p;)c=c.then(g[d++],g[d++]);return c}p=a.length;let m=n;for(d=0;d<p;){const g=a[d++],y=a[d++];try{m=g(m)}catch(_){y.call(this,_);break}}try{c=mD.call(this,m)}catch(g){return Promise.reject(g)}for(d=0,p=u.length;d<p;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=dp(this.defaults,e);const n=kj(e.baseURL,e.url);return Ij(n,e.params,e.paramsSerializer)}}Re.forEach(["delete","get","head","options"],function(e){cS.prototype[e]=function(n,r){return this.request(dp(r||{},{method:e,url:n,data:(r||{}).data}))}});Re.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(dp(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}cS.prototype[e]=n(),cS.prototype[e+"Form"]=n(!0)});const F_=cS;class QP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Dv(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new QP(function(i){e=i}),cancel:e}}}const ewe=QP;function twe(t){return function(n){return t.apply(null,n)}}function nwe(t){return Re.isObject(t)&&t.isAxiosError===!0}const mA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mA).forEach(([t,e])=>{mA[e]=t});const rwe=mA;function Uj(t){const e=new F_(t),n=xj(F_.prototype.request,e);return Re.extend(n,F_.prototype,e,{allOwnKeys:!0}),Re.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Uj(dp(t,i))},n}const Nr=Uj(ZP);Nr.Axios=F_;Nr.CanceledError=Dv;Nr.CancelToken=ewe;Nr.isCancel=Dj;Nr.VERSION=Fj;Nr.toFormData=yw;Nr.AxiosError=Xt;Nr.Cancel=Nr.CanceledError;Nr.all=function(e){return Promise.all(e)};Nr.spread=twe;Nr.isAxiosError=nwe;Nr.mergeConfig=dp;Nr.AxiosHeaders=wl;Nr.formToJSON=t=>Lj(Re.isHTMLForm(t)?new FormData(t):t);Nr.HttpStatusCode=rwe;Nr.default=Nr;const xu=Nr;xu.defaults.baseURL="/api";xu.defaults.withCredentials=!0;const Ky=t=>t.data;xu.interceptors.request.use(t=>{const e=xo.getState().common.token;return e&&t.headers&&(t.headers.Authorization=`Bearer ${e}`),t});xu.interceptors.response.use(t=>t,t=>{const{data:e,status:n}=t.response;switch(n){case 400:throw e.error?(console.error(e.error),e.error):new Error("Bad Request");case 401:n===401&&localStorage.getItem("jwt")&&xo.dispatch({type:To.LOGOUT_ASYNC}),e.error&&console.error(e.error);break}return Promise.reject(e.error)});const ul={get:t=>xu.get(t).then(Ky),post:(t,e)=>xu.post(t,e).then(Ky),put:(t,e)=>xu.put(t,e).then(Ky),del:t=>xu.delete(t).then(Ky)},iwe={getCurrentUser:()=>ul.get("/account"),login:t=>ul.post("/account/login",t),register:t=>ul.post("/account/register",t),refreshToken:()=>ul.post("/account/refresh-token",{})},swe={list:()=>ul.get("/songs"),single:t=>ul.get(`/songs/${t}`),create:t=>ul.post("/songs",t),update:t=>ul.put(`/songs/${t.id}`,t),delete:t=>ul.del(`/songs/${t.id}`)},jl={Account:iwe,Song:swe};function*owe({payload:t}){yield Vt(ma(!0));try{const e=yield Hr(jl.Account.login,t);yield Vt(qz()),yield Vt(xv(e)),yield Vt(K2(e.token)),yield Hr([localStorage,"setItem"],"jwt",e.token),yield Vt(ma(!1)),yield Hr(Hv.navigate,"/app")}catch(e){console.error(e),yield Vt(ma(!1)),yield Vt($z(e))}}function*awe(){yield Vt(K2(null)),yield Vt(xv(null)),yield Hr(Hv.navigate,"/"),yield Hr([localStorage,"removeItem"],"jwt")}function*lwe({payload:t}){yield Vt(ma(!0));try{const e=yield*Hr(jl.Account.register,t);yield Vt(qz()),yield Vt(xv(e)),yield Vt(K2(e.token)),yield Hr([localStorage,"setItem"],"jwt",e.token),yield Vt(ma(!1)),yield Hr(Hv.navigate,"/app")}catch(e){yield Vt(ma(!1)),yield Vt($z(e))}}function*uwe(){yield Vt(ma(!0));try{const t=yield Hr(jl.Account.getCurrentUser);if(!t){yield Vt(ma(!1));return}yield Vt(xv(t)),yield Vt(ma(!1))}catch(t){throw yield Vt(ma(!1)),yield Hr(Hv.navigate,"/"),t}}function*cwe(){try{const t=yield Hr(jl.Account.refreshToken);yield Vt(xv(t)),yield Vt(K2(t.token))}catch(t){console.error(t)}}function*hwe(){yield*hs(To.LOGIN_ASYNC,owe),yield*hs(To.REGISTER_ASYNC,lwe),yield*hs(To.GET_LOGGED_IN_USER_ASYNC,uwe),yield*hs(To.LOGOUT_ASYNC,awe),yield*hs(To.REFRESH_TOKEN_ASYNC,cwe)}const Sw=vo().shape({songName:Fr().required("Song name is required"),masterVolume:yt().min(0).max(1).required("Master volume is required"),drumVolume:yt().min(0).max(1).required("Drum volume is required"),bassVolume:yt().min(0).max(1).required("Bass volume is required"),melodicVolume:yt().min(0).max(1).required("Melodic volume is required"),bpm:yt().min(20).max(400).required("BPM is required"),distortion:vo().shape({songId:yt().optional(),id:yt().optional(),mix:yt().min(0).max(1).required("Distortion mix is required"),amount:yt().min(0).max(1).required("Distortion amount is required"),filterFrequency:yt().min(1).max(22e3).required("Distortion filter frequency is required")}),reverb:vo().shape({id:yt().optional(),songId:yt().optional(),mix:yt().min(0).max(1).required("Reverb mix is required"),decay:yt().min(0).max(1).required("Reverb decay is required"),preDelay:yt().min(0).max(1).required("Reverb pre-delay is required")}),delay:vo().shape({id:yt().optional(),songId:yt().optional(),mix:yt().min(0).max(1).required("Delay mix is required"),time:yt().min(0).max(1).required("Delay time is required"),feedback:yt().min(0).max(1).required("Delay feedback is required")}),bassSynth:vo().shape({id:yt().optional(),songId:yt().optional(),attack:yt().min(0).max(1).required("Bass attack is required"),decay:yt().min(0).max(1).required("Bass decay is required"),sustain:yt().min(0).max(1).required("Bass sustain is required"),release:yt().min(0).max(1).required("Bass release is required"),waveform:Fr().required("Bass waveform is required"),filterFrequency:yt().min(1).max(22e3).required("Bass filter frequency is required")}),melodicSynth:vo().shape({id:yt().optional(),songId:yt().optional(),waveform:Fr().required("Melodic waveform is required"),attack:yt().min(0).max(1).required("Melodic attack is required"),decay:yt().min(0).max(1).required("Melodic decay is required"),sustain:yt().min(0).max(1).required("Melodic sustain is required"),release:yt().min(0).max(1).required("Melodic release is required"),filterFrequency:yt().min(1).max(22e3).required("Melodic filter frequency is required"),filterMod:yt().min(0).max(1).required("Melodic filter mod is required"),filterType:Fr().required("Melodic filter type is required"),metal:yt().min(0).max(1).required("Melodic metal is required"),chorus:yt().min(0).max(1).required("Melodic chorus is required"),lfoFrequency:Fr().required("Melodic LFO frequency is required"),lfoShape:Fr().required("Melodic LFO shape is required")}),melodicPattern:vo().shape({id:yt().optional(),songId:yt().optional(),key:Fr().required("Melodic key is required"),scale:Fr().required("Melodic scale is required"),sequence:Zd().of(yt()).required("Melodic sequence is required"),patternType:Fr().required("Melodic pattern type is required"),transpose:yt().required("Melodic transpose is required"),timeInterval:Fr().required("Melodic time interval is required"),noteDuration:Fr().required("Melodic note duration is required"),length:yt().required("Melodic length is required")}),kitPattern:vo().shape({id:yt().optional(),songId:yt().optional(),patternLength:yt().required("Pattern length is required"),bdSteps:Zd().of(qm()).required("BD steps is required"),sdSteps:Zd().of(qm()).required("SD steps is required"),clSteps:Zd().of(qm()).required("CL steps is required"),chSteps:Zd().of(qm()).required("CH steps is required")})}),JP=async t=>{if(mi.state==="started")throw xo.dispatch(cw(oS.currentSong)),new Error("Cannot load song while playing");mi.bpm.value=t.bpm,t5.volume.value=t.masterVolume,ir.bd.sampler.volume.value=t.drumVolume,ir.sd.sampler.volume.value=t.drumVolume,ir.cl.sampler.volume.value=t.drumVolume,ir.ch.sampler.volume.value=t.drumVolume,Ti.synth.volume.value=t.bassVolume,on.synth.volume.value=t.melodicVolume,D0.wet.value=t.distortion.mix,D0.distortion=t.distortion.amount,e5.frequency.value=t.distortion.filterFrequency,xh.wet.value=t.reverb.mix,xh.decay=t.reverb.decay,xh.preDelay=t.reverb.preDelay,Sh.wet.value=t.delay.mix,Sh.delayTime.value=t.delay.time,Sh.feedback.value=t.delay.feedback,on.synth.envelope.attack=t.melodicSynth.attack,on.synth.envelope.decay=t.melodicSynth.decay,on.synth.envelope.sustain=t.melodicSynth.sustain,on.synth.envelope.release=t.melodicSynth.release,on.synth.oscillator.type=t.melodicSynth.waveform,on.chorus.wet.value=t.melodicSynth.chorus,on.filter.frequency.value=t.melodicSynth.filterFrequency,on.filter.type=t.melodicSynth.filterType,on.synth.modulationIndex.value=t.melodicSynth.metal,on.lfoFilter.frequency.value=t.melodicSynth.lfoFrequency,on.lfoFilter.type=t.melodicSynth.lfoShape,on.lfoFilter.min=t.melodicSynth.filterMod,Ti.synth.envelope.attack=t.bassSynth.attack,Ti.synth.envelope.decay=t.bassSynth.decay,Ti.synth.oscillator.type=t.bassSynth.waveform,Ti.filter.frequency.value=t.bassSynth.filterFrequency,On.timeInterval=t.melodicPattern.timeInterval,On.noteDuration=t.melodicPattern.noteDuration,On.patternType=t.melodicPattern.patternType,On.transpose=t.melodicPattern.transpose,On.key=t.melodicPattern.key,On.scale=t.melodicPattern.scale,On.length=t.melodicPattern.length,On.sequence=t.melodicPattern.sequence,On.updatePattern()};let dwe={data:""},fwe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||dwe,pwe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mwe=/\/\*[^]*?\*\/|  +/g,yD=/\n+/g,vu=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?vu(o,s):s+"{"+vu(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=vu(o,e?e.replace(/([^,])+/g,a=>s.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=vu.p?vu.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},el={},zj=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+zj(t[n]);return e}return t},gwe=(t,e,n,r,i)=>{let s=zj(t),o=el[s]||(el[s]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(s));if(!el[o]){let l=s!==t?t:(u=>{let c,d,p=[{}];for(;c=pwe.exec(u.replace(mwe,""));)c[4]?p.shift():c[3]?(d=c[3].replace(yD," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][c[1]]=c[2].replace(yD," ").trim();return p[0]})(t);el[o]=vu(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&el.g?el.g:null;return n&&(el.g=el[o]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(el[o],e,r,a),o},vwe=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":vu(a,""):a===!1?"":a}return r+i+(o??"")},"");function ww(t){let e=this||{},n=t.call?t(e.p):t;return gwe(n.unshift?n.raw?vwe(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,fwe(e.target),e.g,e.o,e.k)}let Bj,gA,vA;ww.bind({g:1});let Il=ww.bind({k:1});function ywe(t,e,n,r){vu.p=e,Bj=t,gA=n,vA=r}function vc(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:gA&&gA()},a),n.o=/ *go\d+/.test(l),a.className=ww.apply(n,r)+(l?" "+l:""),e&&(a.ref=o);let u=t;return t[0]&&(u=a.as||t,delete a.as),vA&&u[0]&&vA(a),Bj(u,a)}return e?e(i):i}}var _we=t=>typeof t=="function",hS=(t,e)=>_we(t)?t(e):t,xwe=(()=>{let t=0;return()=>(++t).toString()})(),Vj=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Swe=20,U_=new Map,wwe=1e3,_D=t=>{if(U_.has(t))return;let e=setTimeout(()=>{U_.delete(t),id({type:4,toastId:t})},wwe);U_.set(t,e)},Mwe=t=>{let e=U_.get(t);e&&clearTimeout(e)},yA=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Swe)};case 1:return e.toast.id&&Mwe(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?yA(t,{type:1,toast:n}):yA(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?_D(r):t.toasts.forEach(s=>{_D(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},z_=[],B_={toasts:[],pausedAt:void 0},id=t=>{B_=yA(B_,t),z_.forEach(e=>{e(B_)})},Ewe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},bwe=(t={})=>{let[e,n]=P.useState(B_);P.useEffect(()=>(z_.push(n),()=>{let i=z_.indexOf(n);i>-1&&z_.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||Ewe[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},Twe=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||xwe()}),kv=t=>(e,n)=>{let r=Twe(e,t,n);return id({type:2,toast:r}),r.id},gs=(t,e)=>kv("blank")(t,e);gs.error=kv("error");gs.success=kv("success");gs.loading=kv("loading");gs.custom=kv("custom");gs.dismiss=t=>{id({type:3,toastId:t})};gs.remove=t=>id({type:4,toastId:t});gs.promise=(t,e,n)=>{let r=gs.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(gs.success(hS(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{gs.error(hS(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var Awe=(t,e)=>{id({type:1,toast:{id:t,height:e}})},Cwe=()=>{id({type:5,time:Date.now()})},Pwe=t=>{let{toasts:e,pausedAt:n}=bwe(t);P.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&gs.dismiss(a.id);return}return setTimeout(()=>gs.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=P.useCallback(()=>{n&&id({type:6,time:Date.now()})},[n]),i=P.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},c=e.filter(m=>(m.position||u)===(s.position||u)&&m.height),d=c.findIndex(m=>m.id===s.id),p=c.filter((m,g)=>g<d&&m.visible).length;return c.filter(m=>m.visible).slice(...a?[p+1]:[0,p]).reduce((m,g)=>m+(g.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:Awe,startPause:Cwe,endPause:r,calculateOffset:i}}},Rwe=Il`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Nwe=Il`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Iwe=Il`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Owe=vc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rwe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Nwe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Iwe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Lwe=Il`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Dwe=vc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Lwe} 1s linear infinite;
`,kwe=Il`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Fwe=Il`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Uwe=vc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kwe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Fwe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zwe=vc("div")`
  position: absolute;
`,Bwe=vc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Vwe=Il`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jwe=vc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Vwe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Hwe=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?P.createElement(jwe,null,e):e:n==="blank"?null:P.createElement(Bwe,null,P.createElement(Dwe,{...r}),n!=="loading"&&P.createElement(zwe,null,n==="error"?P.createElement(Owe,{...r}):P.createElement(Uwe,{...r})))},Wwe=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Gwe=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,$we="0%{opacity:0;} 100%{opacity:1;}",qwe="0%{opacity:1;} 100%{opacity:0;}",Xwe=vc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ywe=vc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Zwe=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Vj()?[$we,qwe]:[Wwe(n),Gwe(n)];return{animation:e?`${Il(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Il(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Kwe=P.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?Zwe(t.position||e||"top-center",t.visible):{opacity:0},s=P.createElement(Hwe,{toast:t}),o=P.createElement(Ywe,{...t.ariaProps},hS(t.message,t));return P.createElement(Xwe,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):P.createElement(P.Fragment,null,s,o))});ywe(P.createElement);var Qwe=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=P.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return P.createElement("div",{ref:s,className:e,style:n},i)},Jwe=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Vj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},eMe=ww`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qy=16,tMe=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=Pwe(n);return P.createElement("div",{style:{position:"fixed",zIndex:9999,top:Qy,left:Qy,right:Qy,bottom:Qy,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||e,d=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),p=Jwe(c,d);return P.createElement(Qwe,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?eMe:"",style:p},u.type==="custom"?hS(u.message,u):i?i(u):P.createElement(Kwe,{toast:u,position:c}))}))},As=gs;function*nMe(){try{const t=yield*Hr(jl.Song.list);yield Vt(R1e(t))}catch(t){console.error(t)}}function*rMe(t){try{const e=yield Hr(jl.Song.single,t.payload.id);yield Sw.validate(e),yield Vt(cw(e)),yield JP(e),As.success(`${t.payload.songName} loaded`)}catch(e){console.error(e),As.error("Error loading song")}}function*iMe({payload:t}){try{yield Sw.isValid(t);const e=yield Hr(jl.Song.create,t);yield Vt(cw(e)),yield*Vt({type:Xr.GET_SONG_LIST_ASYNC}),As.success(`${t.songName} was saved`),yield Vt(ep(!1))}catch(e){console.error(e),yield Vt(cV(e)),As.error(`Error saving ${t.songName} song`)}}function*sMe({payload:t}){try{yield Sw.isValid(t),yield Hr(jl.Song.update,t),As.success(`${t.songName} was saved`),yield Vt(ep(!1))}catch(e){console.error(e),yield Vt(cV(e)),As.error(`Error saving ${t.songName} song`)}}function*oMe({payload:t}){try{yield Sw.validate(t),yield Hr(jl.Song.delete,t),As.success(`${t.songName} was deleted`),yield Vt(Q2(!1)),yield*Vt({type:Xr.GET_SONG_LIST_ASYNC})}catch(e){console.error(e),As.error(`Error deleting ${t.songName} song`)}}function*aMe(){try{yield Vt(cw(oS.currentSong)),yield JP(oS.currentSong),As.success("New song created")}catch(t){console.error(t),As.error("Error creating new song")}}function*lMe(t){yield*Vt(hV(t.payload))}function*uMe(t){yield*Vt(N1e(t.payload)),mi.bpm.value=t.payload}function*cMe(){yield*hs(Xr.GET_SONG_LIST_ASYNC,nMe),yield*hs(Xr.SET_SONG_BPM_ASYNC,uMe),yield*hs(Xr.SET_MASTER_VOLUME_ASYNC,lMe),yield*hs(Xr.LOAD_SONG_TO_CURRENT_ASYNC,rMe),yield*hs(Xr.SET_NEW_SONG_ASYNC,aMe),yield*hs(Xr.CREATE_NEW_SONG_ASYNC,iMe),yield*hs(Xr.UPDATE_SONG_ASYNC,sMe),yield*hs(Xr.DELETE_SONG_ASYNC,oMe)}function*hMe(){yield*VSe([Hr(hwe),Hr(cMe)])}const dMe={isPlaying:!1,isToneLoaded:!1,currentMelodicNote:null},jj=Z2({name:"transport",initialState:dMe,reducers:{setIsPlaying:(t,e)=>{t.isPlaying=e.payload},setIsToneLoaded:(t,e)=>{t.isToneLoaded=e.payload},setCurrentMelodicNote:(t,e)=>{t.currentMelodicNote=e.payload}}}),Hj=t=>t.transport,{setIsPlaying:xf,setIsToneLoaded:fMe,setCurrentMelodicNote:K3e}=jj.actions,pMe=jj.reducer,mMe=Bz({user:sfe,common:Sfe,song:gye,transport:pMe}),Wj=kSe(),gMe=[Wj],xo=Xde({reducer:mMe,middleware:t=>t({thunk:!1}).concat(gMe)});Wj.run(hMe);let vMe=class{constructor(e,n,r=0,i="64n",s="32n",o="upDown",a="C",l="minor",u=4){rn(this,"_transpose");rn(this,"_noteDuration");rn(this,"_timeInterval");rn(this,"_patternType");rn(this,"_melodyPattern");rn(this,"_bassPattern");rn(this,"_sequence");rn(this,"_notes");rn(this,"_melodySynth");rn(this,"_bassSynth");rn(this,"_key");rn(this,"_scale");rn(this,"_length");rn(this,"_noteChangeHandler",null);this._transpose=r,this._noteDuration=i,this._timeInterval=s,this._patternType=o,this._melodySynth=e,this._bassSynth=n,this._key=a,this._scale=l,this._length=u,this._sequence=this.generateRandomSequence(),this._notes=bb.get(`${this._key}4 ${this._scale}`).notes,this._melodyPattern=new N0(this.createMelodicPatternCallback,this._sequence,this._patternType),this._melodyPattern.interval=this._timeInterval,this._bassPattern=new N0(this.createBassPatternCallback,this._sequence,this._patternType),this._bassPattern.interval="1n"}generateNewPattern(){const e=xo.getState(),{isPlaying:n}=e.transport,r=n;n&&(xo.dispatch(xf(!1)),mi.stop(),mi.position=0),this._sequence=this.generateRandomSequence(),xo.dispatch(mye(this._sequence)),this._notes=bb.get(`${this._key}4 ${this._scale}`).notes,this._melodyPattern.callback=this.createMelodicPatternCallback(),this._melodyPattern.values=this._sequence,this._melodyPattern.pattern=this.patternType,this._melodyPattern.interval=this._timeInterval,this._melodyPattern.start(),this._bassPattern.callback=this.createBassPatternCallback(),this._bassPattern.values=this._sequence.slice(0,4),this._bassPattern.pattern=this.patternType,this._bassPattern.interval="1n",this._bassPattern.start(),r&&(mi.start(),xo.dispatch(xf(!0)))}updatePattern(){const e=xo.getState(),{isPlaying:n}=e.transport,r=n;n&&(xo.dispatch(xf(!1)),mi.stop(),mi.position=0),this._notes=bb.get(`${this._key}4 ${this._scale}`).notes,this._melodyPattern.callback=this.createMelodicPatternCallback(),this._melodyPattern.pattern=this.patternType,this._melodyPattern.interval=this._timeInterval,this._melodyPattern.start(),this._bassPattern.callback=this.createBassPatternCallback(),this._bassPattern.pattern=this.patternType,this._bassPattern.interval="1n",this._bassPattern.start(),r&&(mi.start(),xo.dispatch(xf(!0)))}mapNotes(e,n){let r=n.length,i=Mxe(e,r);const s=Math.floor(e/r),o=U_e.fromSemitones(s*12);return lxe.transpose(n[i],o)}createMelodicPatternCallback(){return(e,n)=>{const r=this.mapNotes(n+this._transpose,this._notes);this._noteChangeHandler&&this._noteChangeHandler(r),this._melodySynth.synth.triggerAttackRelease(r,this._noteDuration,e)}}createBassPatternCallback(){return(e,n)=>{const r=this.mapNotes(n+-21,this._notes);this._bassSynth.synth.triggerAttackRelease(r,"2n",e)}}generateRandomSequence(){const e=[],n=this._length;for(let r=0;r<n;r++)e[r]=Math.floor(wxe(0,6));return e}get sequence(){return this._sequence}set sequence(e){this._sequence=e}get melodyPattern(){return this._melodyPattern}set melodyPattern(e){this._melodyPattern=e}get bassPattern(){return this._bassPattern}set bassPattern(e){this._bassPattern=e}get patternType(){return this._patternType}set patternType(e){this._patternType=e}get timeInterval(){return this._timeInterval}set timeInterval(e){this._timeInterval=e}get noteDuration(){return this._noteDuration}set noteDuration(e){this._noteDuration=e}get transpose(){return this._transpose}set transpose(e){this._transpose=e}get scale(){return this._scale}set scale(e){this._scale=e}get key(){return this._key}set key(e){this._key=e}get length(){return this._length}set length(e){this._length=e}get noteChangeHandler(){return this._noteChangeHandler}set noteChangeHandler(e){this._noteChangeHandler=e}};const yMe=async({distortion:t,distortionFilter:e,reverb:n,delay:r,volume:i,bassSynth:s,melodicSynth:o,drumKit:a,melodicPattern:l})=>{await mi.cancel(),await mi.stop(),await t.dispose(),await e.dispose(),await n.dispose(),await r.dispose(),await i.dispose(),await s.synth.dispose(),await s.filter.dispose(),await s.modFilter.dispose(),await o.synth.dispose(),await o.filterTwo.dispose(),await o.chorus.dispose(),await o.lfoFilter.dispose(),await l.melodyPattern.dispose(),await l.bassPattern.dispose(),await a.bd.sampler.dispose(),await a.sd.sampler.dispose(),await a.cl.sampler.dispose(),await a.ch.sampler.dispose()},_Me=()=>{const t=new eS(0),e=new rc(2e4,"lowpass"),n=new nS(.5),r=new tS(.5),i=new Ju(JB(1)),s=new Pye;s.synth.envelope.sustain=.5,s.modFilter.chain(t,e,n,i);const o=new Aye;o.filterTwo.chain(t,e,n,r,i);const a=new Cye;a.output.chain(t,e,n,r,i);const l=new vMe(o,s);return l.melodyPattern.start(0),l.bassPattern.start(0),i.toDestination(),{distortion:t,distortionFilter:e,reverb:n,delay:r,volume:i,bassSynth:s,melodicSynth:o,drumKit:a,melodicPattern:l}},{distortion:D0,distortionFilter:e5,reverb:xh,delay:Sh,volume:t5,bassSynth:Ti,melodicSynth:on,drumKit:ir,melodicPattern:On}=_Me(),xMe={distortion:D0,distortionFilter:e5,reverb:xh,delay:Sh,volume:t5,bassSynth:Ti,melodicSynth:on,drumKit:ir,melodicPattern:On};function SMe(){const t=Ut(u=>u.song.currentSong.melodicPattern),e=ei(),n=u=>{e(lye(u))};P.useEffect(()=>{On.key=t.key},[t.key]);const r=u=>{e(uye(u))};P.useEffect(()=>{On.scale=t.scale},[t.scale]);const i=u=>{e(hye(u))};P.useEffect(()=>{On.patternType=t.patternType},[t.patternType]);const s=u=>{e(cye(u))};P.useEffect(()=>{On.transpose=t.transpose},[t.transpose]);const o=u=>{e(dye(u))};P.useEffect(()=>{On.timeInterval=t.timeInterval},[t.timeInterval]);const a=u=>{e(fye(u))};P.useEffect(()=>{On.noteDuration=t.noteDuration},[t.noteDuration]);const l=u=>{e(pye(u))};return P.useEffect(()=>{On.length=t.length},[t.length]),{setStoreMelodicPatternKeyChange:n,setStoreMelodicPatternScaleChange:r,setStoreMelodicPatternTypeChange:i,setStoreMelodicPatternTransposeChange:s,setStoreMelodicPatternTimeIntervalChange:o,setStoreMelodicPatternNoteDurationChange:a,setStoreMelodicPatternLengthChange:l}}function wMe(){const t=Ut(M=>M.transport.isPlaying),[e,n]=P.useState(null),r=M=>n(M);On.noteChangeHandler=r;const i=Ut(M=>M.song.currentSong.melodicPattern.key),s=Ut(M=>M.song.currentSong.melodicPattern.scale),o=Ut(M=>M.song.currentSong.melodicPattern.transpose),a=Ut(M=>M.song.currentSong.melodicPattern.patternType),l=Ut(M=>M.song.currentSong.melodicPattern.timeInterval),u=Ut(M=>M.song.currentSong.melodicPattern.noteDuration),c=Ut(M=>M.song.currentSong.melodicPattern.length),{setStoreMelodicPatternKeyChange:d,setStoreMelodicPatternScaleChange:p,setStoreMelodicPatternLengthChange:m,setStoreMelodicPatternTimeIntervalChange:g,setStoreMelodicPatternNoteDurationChange:y,setStoreMelodicPatternTypeChange:_,setStoreMelodicPatternTransposeChange:v}=SMe(),x=()=>{On.updatePattern(),As.success("Melodic Pattern Updated",{position:"top-left"})},w=()=>{On.generateNewPattern(),As.success("New Pattern Generated",{position:"top-left"})};return O.jsxs("div",{className:"mt-4 grid grid-cols-2 flex-1 gap-4",children:[O.jsxs("div",{style:{zIndex:50},className:"flex-col  gap-2 justify-center items-center",children:[O.jsx("div",{className:"font-caps",children:"Key"}),O.jsx(zc,{currentItem:i,setCurrentItem:M=>d(M),items:xye})]}),O.jsxs("div",{className:"flex-col gap-2 justify-center items-center z-auto",style:{zIndex:50},children:[O.jsx("div",{className:"font-caps",children:"Scale"}),O.jsx(zc,{currentItem:s,setCurrentItem:M=>p(M),items:Sye})]}),O.jsxs("div",{className:"flex-col gap-2 justify-center items-center z-auto",style:{zIndex:49},children:[O.jsx("div",{className:"font-caps",children:"Transpose"}),O.jsx(zc,{currentItem:o,setCurrentItem:M=>v(M),items:wye})]}),O.jsxs("div",{className:"flex-col gap-2 justify-center items-center z-auto",style:{zIndex:49},children:[O.jsx("div",{className:"font-caps",children:"Pattern Type"}),O.jsx(zc,{currentItem:a,setCurrentItem:M=>_(M),items:Mye})]}),O.jsxs("div",{className:"flex-col gap-2 justify-center items-center z-auto",style:{zIndex:48},children:[O.jsx("div",{className:"font-caps",children:"Time Interval"}),O.jsx(zc,{currentItem:l,setCurrentItem:M=>g(M),items:Eye})]}),O.jsxs("div",{className:"flex-col gap-2 justify-center items-center z-auto",style:{zIndex:48},children:[O.jsx("div",{className:"font-caps",children:"Note Duration"}),O.jsx(zc,{currentItem:u,setCurrentItem:M=>y(M),items:bye})]}),O.jsxs("div",{className:"flex-col gap-2 justify-center items-center z-auto",style:{zIndex:47},children:[O.jsx("div",{className:"font-caps",children:"Pattern Length"}),O.jsx(zc,{currentItem:c,setCurrentItem:M=>m(M),items:Tye})]}),O.jsxs("div",{className:"flex-col gap-2 justify-center items-center ",style:{zIndex:47},children:[O.jsx("div",{className:"font-caps",children:"Playing"}),O.jsx("div",{className:`${t?"animate-pulse":""} text-center`,children:O.jsx("span",{className:"block rounded-xl  p-1 shadow-md shadow-blue-600 w-10",children:e})})]}),O.jsx("div",{className:"flex items-center ",children:O.jsx("button",{onClick:x,className:`inline-flex mt-4 w-24 justify-center opacity-90 shadow-md shadow-blue-950 rounded-xl border border-transparent bg-blue-900 px-4 py-2 text-sm font-medium text-blue-100 
            hover:bg-blue-800 focus:outline-none focus-visible:ring-2 active:scale-105 focus-visible:ring-blue-500 focus-visible:ring-offset-2`,children:"Update"})}),O.jsx("div",{className:"flex items-center ",children:O.jsx("button",{onClick:w,className:`inline-flex mt-4 justify-center opacity-90 shadow-md shadow-amber-950 rounded-xl border border-transparent bg-amber-900 px-4 py-2 text-sm font-medium text-amber-100 
            hover:bg-amber-800 focus:outline-none focus-visible:ring-2 active:scale-105 focus-visible:ring-amber-500 focus-visible:ring-offset-2`,children:"Generate"})})]})}function MMe(){const t=P.useRef(null),e=P.useRef(null),n=P.useRef(new O0(256)),r=P.useRef(new O0(256));return P.useEffect(()=>(on.synth.connect(n.current),Ti.synth.connect(r.current),()=>{on.synth.disconnect(n.current),n.current.dispose(),Ti.synth.disconnect(r.current),r.current.dispose()}),[]),P.useEffect(()=>{const i=t.current,s=e.current;if(!i||!s)return;const o=i.getContext("2d"),a=s.getContext("2d");if(!o||!a)return;let l,u;const c=1,d=2,p=(m,g,y,_)=>{const v=m.width,x=m.height;g.clearRect(0,0,v,x),g.beginPath(),g.moveTo(0,x/2);const w=Math.floor(y.length/c);for(let M=0;M<w;M++){const b=M/w*v,T=(.5+y[M]*d/2)*x;g.lineTo(b,T)}g.strokeStyle="white",g.stroke(),_==="melCanvas"?l=requestAnimationFrame(()=>p(m,g,n.current.getValue(),"melCanvas")):_==="bassCanvas"&&(u=requestAnimationFrame(()=>p(m,g,r.current.getValue(),"bassCanvas")))};return p(i,o,n.current.getValue(),"melCanvas"),p(s,a,r.current.getValue(),"bassCanvas"),()=>{cancelAnimationFrame(l),cancelAnimationFrame(u)}},[]),O.jsxs("div",{className:"flex flex-col gap-6 h-full justify-center items-center",children:[O.jsxs("div",{children:[O.jsx("h3",{className:"text-xl font-caps",children:"Melody"}),O.jsx("canvas",{height:"100px",className:"shadow-md rounded-xl shadow-gray-700",width:"250px",ref:t})]}),O.jsxs("div",{children:[O.jsx("h3",{className:"text-xl font-caps",children:"Bass"}),O.jsx("canvas",{className:"shadow-md rounded-xl shadow-gray-700",height:"100px",width:"250px",ref:e})]})]})}function EMe(){return O.jsxs("div",{className:"p-4 ",children:[O.jsxs("h2",{className:"text-2xl font-caps flex gap-2",children:[O.jsx(yye,{})," Melodic Pattern"]}),O.jsxs("div",{className:"flex",children:[O.jsx(wMe,{}),O.jsx("div",{className:"flex-1",children:O.jsx(MMe,{})})]})]})}const bMe=t=>P.createElement("svg",{height:"800px",width:"800px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 467.978 467.978",xmlnsXlink:"http://www.w3.org/1999/xlink",enableBackground:"new 0 0 467.978 467.978",...t},P.createElement("g",null,P.createElement("path",{d:"m460.478,106.495h-452.978c-4.143,0-7.5,3.358-7.5,7.5v239.988c0,4.142 3.357,7.5 7.5,7.5h452.978c4.143,0 7.5-3.358 7.5-7.5v-239.988c0-4.142-3.358-7.5-7.5-7.5zm-412.179,136.994v62.21c2.13163e-14,2.761 2.238,5 5,5h3.611v35.784h-24.415v-102.994h15.804zm43.027,0v102.994h-24.416v-35.784h3.612c2.762,0 5-2.239 5-5v-62.21h15.804zm60.218,0v62.21c0,2.761 2.238,5 5,5h3.612v35.784h-24.415v-35.784h3.611c2.762,0 5-2.239 5-5v-62.21h7.192zm43.027,0v102.994h-24.415v-35.784h3.612c2.762,0 5-2.239 5-5v-62.21h15.803zm94.634,0v62.21c0,2.761 2.238,5 5,5h3.612v35.784h-24.416v-35.784h3.612c2.762,0 5-2.239 5-5v-62.21h7.192zm43.027,0v102.994h-24.415v-35.784h3.611c2.762,0 5-2.239 5-5v-62.21h15.804zm68.831,0v102.994h-24.415v-35.784h3.612c2.762,0 5-2.239 5-5v-62.21h15.803zm34.415,102.994h-24.415v-102.994h24.415v102.994zm-60.218-45.784h-7.225v-57.21h7.225v57.21zm-12.225,10h3.612v35.784h-24.415v-102.994h15.803v62.21c0,2.761 2.238,5 5,5zm-56.606-10h-7.224v-57.21h7.224v57.21zm-34.415,0h-7.224v-57.21h7.224v57.21zm-12.224,10h3.611v35.784h-24.415v-102.994h15.804v62.21c-2.84217e-14,2.761 2.238,5 5,5zm-30.804,35.784h-24.415v-102.994h24.415v102.994zm-60.217-45.784h-7.225v-57.21h7.225v57.21zm-34.416,0h-7.224v-57.21h7.224v57.21zm-12.224,10h3.612v35.784h-24.415v-102.994h15.803v62.21c1.42109e-14,2.761 2.238,5 5,5zm-56.607-10h-7.224v-57.21h7.224v57.21zm387.456,45.784h-7.5v-107.994c0-2.761-2.238-5-5-5h-412.983c-2.762,0-5,2.239-5,5v107.994h-7.495v-224.988h437.978v224.988z"}),P.createElement("path",{d:"m27.5,224.996h412.978c2.762,0 5-2.239 5-5v-86.001c0-2.761-2.238-5-5-5h-412.978c-2.762,0-5,2.239-5,5v86.001c0,2.761 2.238,5 5,5zm5-86.001h402.978v76.001h-402.978v-76.001z"}),P.createElement("path",{d:"m358.116,148.995h-93.698c-2.762,0-5,2.239-5,5v46.001c0,2.761 2.238,5 5,5h93.698c2.762,0 5-2.239 5-5v-46.001c0-2.762-2.238-5-5-5zm-5,46.001h-83.698v-36.001h83.698v36.001z"}),P.createElement("path",{d:"m56.618,161.477h-1v-7.482c0-2.761-2.238-5-5-5s-5,2.239-5,5v7.482h-1c-2.762,0-5,2.239-5,5s2.238,5 5,5h1v28.519c0,2.761 2.238,5 5,5s5-2.239 5-5v-28.519h1c2.762,0 5-2.239 5-5s-2.238-5-5-5z"}),P.createElement("path",{d:"m119.285,166.255h-1v-12.26c0-2.761-2.238-5-5-5s-5,2.239-5,5v12.26h-1c-2.762,0-5,2.239-5,5s2.238,5 5,5h1v23.741c0,2.761 2.238,5 5,5s5-2.239 5-5v-23.741h1c2.762,0 5-2.239 5-5s-2.238-5-5-5z"}),P.createElement("path",{d:"m181.951,171.033h-1v-17.038c0-2.761-2.238-5-5-5s-5,2.239-5,5v17.038h-1c-2.762,0-5,2.239-5,5s2.238,5 5,5h1v18.963c0,2.761 2.238,5 5,5s5-2.239 5-5v-18.963h1c2.762,0 5-2.239 5-5s-2.238-5-5-5z"}),P.createElement("path",{d:"m244.618,185.366h-1v-31.371c0-2.761-2.238-5-5-5s-5,2.239-5,5v31.371h-1c-2.762,0-5,2.239-5,5s2.238,5 5,5h1v4.63c0,2.761 2.238,5 5,5s5-2.239 5-5v-4.63h1c2.762,0 5-2.239 5-5s-2.238-5-5-5z"}),P.createElement("path",{d:"m87.951,175.81h-1v-21.816c0-2.761-2.238-5-5-5s-5,2.239-5,5v21.816h-1c-2.762,0-5,2.239-5,5s2.238,5 5,5h1v14.186c0,2.761 2.238,5 5,5s5-2.239 5-5v-14.186h1c2.762,0 5-2.239 5-5s-2.238-5-5-5z"}),P.createElement("path",{d:"m150.618,180.588h-1v-26.594c0-2.761-2.238-5-5-5s-5,2.239-5,5v26.594h-1c-2.762,0-5,2.239-5,5s2.238,5 5,5h1v9.408c0,2.761 2.238,5 5,5s5-2.239 5-5v-9.408h1c2.762,0 5-2.239 5-5s-2.238-5-5-5z"}),P.createElement("path",{d:"m213.285,156.699h-1v-2.705c0-2.761-2.238-5-5-5s-5,2.239-5,5v2.705h-1c-2.762,0-5,2.239-5,5s2.238,5 5,5h1v33.297c0,2.761 2.238,5 5,5s5-2.239 5-5v-33.297h1c2.762,0 5-2.239 5-5s-2.238-5-5-5z"}),P.createElement("path",{d:"m411.812,148.995c-7.536,0-13.667,6.131-13.667,13.667 0,7.536 6.131,13.667 13.667,13.667 7.535,0 13.666-6.131 13.666-13.667 0-7.537-6.131-13.667-13.666-13.667zm0,17.333c-2.022,0-3.667-1.645-3.667-3.667 0-2.021 1.645-3.667 3.667-3.667 2.021,0 3.666,1.645 3.666,3.667 0,2.022-1.645,3.667-3.666,3.667z"}),P.createElement("path",{d:"m382.944,148.995c-7.535,0-13.666,6.131-13.666,13.667 0,7.536 6.131,13.667 13.666,13.667 7.536,0 13.667-6.131 13.667-13.667 0-7.537-6.131-13.667-13.667-13.667zm0,17.333c-2.021,0-3.666-1.645-3.666-3.667 0-2.021 1.645-3.667 3.666-3.667 2.022,0 3.667,1.645 3.667,3.667 0,2.022-1.644,3.667-3.667,3.667z"}),P.createElement("path",{d:"m411.812,177.662c-7.536,0-13.667,6.131-13.667,13.667 0,7.536 6.131,13.667 13.667,13.667 7.535,0 13.666-6.131 13.666-13.667 0-7.536-6.131-13.667-13.666-13.667zm0,17.334c-2.022,0-3.667-1.645-3.667-3.667 0-2.022 1.645-3.667 3.667-3.667 2.021,0 3.666,1.645 3.666,3.667 0,2.022-1.645,3.667-3.666,3.667z"}),P.createElement("path",{d:"m382.944,177.662c-7.535,0-13.666,6.131-13.666,13.667 0,7.536 6.131,13.667 13.666,13.667 7.536,0 13.667-6.131 13.667-13.667 0-7.536-6.131-13.667-13.667-13.667zm0,17.334c-2.021,0-3.666-1.645-3.666-3.667 0-2.022 1.645-3.667 3.666-3.667 2.022,0 3.667,1.645 3.667,3.667 0,2.022-1.644,3.667-3.667,3.667z"})));function Mr({children:t,title:e}){return O.jsxs("div",{className:"flex flex-col items-center gap-2",children:[O.jsx("div",{className:"text-xs font-caps",children:e}),t]})}const TMe=t=>P.createElement("svg",{width:22,height:12,viewBox:"0 0 22 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M1 5.99142C1 5.33594 1.12911 4.68688 1.37995 4.08129C1.63079 3.4757 1.99846 2.92545 2.46195 2.46195C2.92545 1.99846 3.4757 1.63079 4.08129 1.37995C4.68688 1.12911 5.33594 1 5.99142 1C9.98456 1 11.0057 4.32762 11.0172 5.99142C11.0172 6.64691 11.1463 7.29597 11.3971 7.90156C11.6479 8.50715 12.0156 9.0574 12.4791 9.52089C12.9426 9.98439 13.4929 10.3521 14.0984 10.6029C14.704 10.8537 15.3531 10.9828 16.0086 10.9828C16.6641 10.9828 17.3131 10.8537 17.9187 10.6029C18.5243 10.3521 19.0745 9.98439 19.538 9.52089C20.0015 9.0574 20.3692 8.50715 20.6201 7.90156C20.8709 7.29597 21 6.64691 21 5.99142",strokeLinecap:"round"})),AMe=t=>P.createElement("svg",{width:22,height:20,viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M1 9.65705L5.99815 1L16.0019 18.3141L21 9.65705"})),CMe=t=>P.createElement("svg",{width:22,height:8,viewBox:"0 0 22 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M1 6.79216L11.0009 1V6.79216L21 1V6.79216"})),PMe=t=>P.createElement("svg",{width:22,height:15,viewBox:"0 0 22 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M1 7.68919V1H11V14.3784H21V7.68919"}));var RMe=Object.defineProperty,NMe=(t,e)=>{for(var n in e)RMe(t,n,{get:e[n],enumerable:!0})},Go={};NMe(Go,{assign:()=>LMe,colors:()=>Vu,createStringInterpolator:()=>l5,skipAnimation:()=>Kj,to:()=>Zj,willAdvance:()=>u5});var n5=Uv(),Et=t=>Fv(t,n5),r5=Uv();Et.write=t=>Fv(t,r5);var Mw=Uv();Et.onStart=t=>Fv(t,Mw);var i5=Uv();Et.onFrame=t=>Fv(t,i5);var s5=Uv();Et.onFinish=t=>Fv(t,s5);var kf=[];Et.setTimeout=(t,e)=>{const n=Et.now()+e,r=()=>{const s=kf.findIndex(o=>o.cancel==r);~s&&kf.splice(s,1),wu-=~s?1:0},i={time:n,handler:t,cancel:r};return kf.splice(Gj(n),0,i),wu+=1,$j(),i};var Gj=t=>~(~kf.findIndex(e=>e.time>t)||~kf.length);Et.cancel=t=>{Mw.delete(t),i5.delete(t),s5.delete(t),n5.delete(t),r5.delete(t)};Et.sync=t=>{_A=!0,Et.batchedUpdates(t),_A=!1};Et.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Et.onStart(n)}return r.handler=t,r.cancel=()=>{Mw.delete(n),e=null},r};var o5=typeof window<"u"?window.requestAnimationFrame:()=>{};Et.use=t=>o5=t;Et.now=typeof performance<"u"?()=>performance.now():Date.now;Et.batchedUpdates=t=>t();Et.catch=console.error;Et.frameLoop="always";Et.advance=()=>{Et.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Xj()};var Su=-1,wu=0,_A=!1;function Fv(t,e){_A?(e.delete(t),t(0)):(e.add(t),$j())}function $j(){Su<0&&(Su=0,Et.frameLoop!=="demand"&&o5(qj))}function IMe(){Su=-1}function qj(){~Su&&(o5(qj),Et.batchedUpdates(Xj))}function Xj(){const t=Su;Su=Et.now();const e=Gj(Su);if(e&&(Yj(kf.splice(0,e),n=>n.handler()),wu-=e),!wu){IMe();return}Mw.flush(),n5.flush(t?Math.min(64,Su-t):16.667),i5.flush(),r5.flush(),s5.flush()}function Uv(){let t=new Set,e=t;return{add(n){wu+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return wu-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,wu-=e.size,Yj(e,r=>r(n)&&t.add(r)),wu+=t.size,e=t)}}}function Yj(t,e){t.forEach(n=>{try{e(n)}catch(r){Et.catch(r)}})}function xA(){}var OMe=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),We={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function il(t,e){if(We.arr(t)){if(!We.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var Wt=(t,e)=>t.forEach(e);function Ca(t,e,n){if(We.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var vs=t=>We.und(t)?[]:We.arr(t)?t:[t];function xg(t,e){if(t.size){const n=Array.from(t);t.clear(),Wt(n,e)}}var Ym=(t,...e)=>xg(t,n=>n(...e)),a5=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),l5,Zj,Vu=null,Kj=!1,u5=xA,LMe=t=>{t.to&&(Zj=t.to),t.now&&(Et.now=t.now),t.colors!==void 0&&(Vu=t.colors),t.skipAnimation!=null&&(Kj=t.skipAnimation),t.createStringInterpolator&&(l5=t.createStringInterpolator),t.requestAnimationFrame&&Et.use(t.requestAnimationFrame),t.batchedUpdates&&(Et.batchedUpdates=t.batchedUpdates),t.willAdvance&&(u5=t.willAdvance),t.frameLoop&&(Et.frameLoop=t.frameLoop)},Sg=new Set,Ys=[],Ib=[],dS=0,Ew={get idle(){return!Sg.size&&!Ys.length},start(t){dS>t.priority?(Sg.add(t),Et.onStart(DMe)):(Qj(t),Et(SA))},advance:SA,sort(t){if(dS)Et.onFrame(()=>Ew.sort(t));else{const e=Ys.indexOf(t);~e&&(Ys.splice(e,1),Jj(t))}},clear(){Ys=[],Sg.clear()}};function DMe(){Sg.forEach(Qj),Sg.clear(),Et(SA)}function Qj(t){Ys.includes(t)||Jj(t)}function Jj(t){Ys.splice(kMe(Ys,e=>e.priority>t.priority),0,t)}function SA(t){const e=Ib;for(let n=0;n<Ys.length;n++){const r=Ys[n];dS=r.priority,r.idle||(u5(r),r.advance(t),r.idle||e.push(r))}return dS=0,Ib=Ys,Ib.length=0,Ys=e,Ys.length>0}function kMe(t,e){const n=t.findIndex(e);return n<0?t.length:n}var FMe=(t,e,n)=>Math.min(Math.max(n,t),e),UMe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},No="[-+]?\\d*\\.?\\d+",fS=No+"%";function bw(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var zMe=new RegExp("rgb"+bw(No,No,No)),BMe=new RegExp("rgba"+bw(No,No,No,No)),VMe=new RegExp("hsl"+bw(No,fS,fS)),jMe=new RegExp("hsla"+bw(No,fS,fS,No)),HMe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,WMe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,GMe=/^#([0-9a-fA-F]{6})$/,$Me=/^#([0-9a-fA-F]{8})$/;function qMe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=GMe.exec(t))?parseInt(e[1]+"ff",16)>>>0:Vu&&Vu[t]!==void 0?Vu[t]:(e=zMe.exec(t))?($d(e[1])<<24|$d(e[2])<<16|$d(e[3])<<8|255)>>>0:(e=BMe.exec(t))?($d(e[1])<<24|$d(e[2])<<16|$d(e[3])<<8|wD(e[4]))>>>0:(e=HMe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=$Me.exec(t))?parseInt(e[1],16)>>>0:(e=WMe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=VMe.exec(t))?(xD(SD(e[1]),Jy(e[2]),Jy(e[3]))|255)>>>0:(e=jMe.exec(t))?(xD(SD(e[1]),Jy(e[2]),Jy(e[3]))|wD(e[4]))>>>0:null}function Ob(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xD(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=Ob(i,r,t+1/3),o=Ob(i,r,t),a=Ob(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function $d(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function SD(t){return(parseFloat(t)%360+360)%360/360}function wD(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Jy(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function MD(t){let e=qMe(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var k0=(t,e,n)=>{if(We.fun(t))return t;if(We.arr(t))return k0({range:t,output:e,extrapolate:n});if(We.str(t.output[0]))return l5(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=YMe(u,s);return XMe(u,s[c],s[c+1],i[c],i[c+1],l,o,a,r.map)}};function XMe(t,e,n,r,i,s,o,a,l){let u=l?l(t):t;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function YMe(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var ZMe=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return FMe(0,1,i/t)},pS=1.70158,e_=pS*1.525,ED=pS+1,bD=2*Math.PI/3,TD=2*Math.PI/4.5,t_=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,KMe={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>ED*t*t*t-pS*t*t,easeOutBack:t=>1+ED*Math.pow(t-1,3)+pS*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((e_+1)*2*t-e_)/2:(Math.pow(2*t-2,2)*((e_+1)*(t*2-2)+e_)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*bD),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*bD)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*TD))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*TD)/2+1,easeInBounce:t=>1-t_(1-t),easeOutBounce:t_,easeInOutBounce:t=>t<.5?(1-t_(1-2*t))/2:(1+t_(2*t-1))/2,steps:ZMe},F0=Symbol.for("FluidValue.get"),fp=Symbol.for("FluidValue.observers"),Xs=t=>!!(t&&t[F0]),Vi=t=>t&&t[F0]?t[F0]():t,AD=t=>t[fp]||null;function QMe(t,e){t.eventObserved?t.eventObserved(e):t(e)}function U0(t,e){const n=t[fp];n&&n.forEach(r=>{QMe(r,e)})}var eH=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");JMe(this,t)}},JMe=(t,e)=>tH(t,F0,e);function Up(t,e){if(t[F0]){let n=t[fp];n||tH(t,fp,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function z0(t,e){const n=t[fp];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[fp]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var tH=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),V_=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,eEe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,CD=new RegExp(`(${V_.source})(%|[a-z]+)`,"i"),tEe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Tw=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,nH=t=>{const[e,n]=nEe(t);if(!e||a5())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&Tw.test(n))return nH(n);if(n)return n}return t},nEe=t=>{const e=Tw.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},Lb,rEe=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,rH=t=>{Lb||(Lb=Vu?new RegExp(`(${Object.keys(Vu).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Vi(s).replace(Tw,nH).replace(eEe,MD).replace(Lb,MD)),n=e.map(s=>s.match(V_).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>k0({...t,output:s}));return s=>{var l;const o=!CD.test(e[0])&&((l=e.find(u=>CD.test(u)))==null?void 0:l.replace(V_,""));let a=0;return e[0].replace(V_,()=>`${i[a++](s)}${o||""}`).replace(tEe,rEe)}},c5="react-spring: ",iH=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${c5}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},iEe=iH(console.warn);function sEe(){iEe(`${c5}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var oEe=iH(console.warn);function aEe(){oEe(`${c5}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Aw(t){return We.str(t)&&(t[0]=="#"||/\d/.test(t)||!a5()&&Tw.test(t)||t in(Vu||{}))}var h5=a5()?P.useEffect:P.useLayoutEffect,lEe=()=>{const t=P.useRef(!1);return h5(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function sH(){const t=P.useState()[1],e=lEe();return()=>{e.current&&t(Math.random())}}function uEe(t,e){const[n]=P.useState(()=>({inputs:e,result:t()})),r=P.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&cEe(e,s.inputs)||(s={inputs:e,result:t()}):s=n,P.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function cEe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var oH=t=>P.useEffect(t,hEe),hEe=[];function PD(t){const e=P.useRef();return P.useEffect(()=>{e.current=t}),e.current}var B0=Symbol.for("Animated:node"),dEe=t=>!!t&&t[B0]===t,ca=t=>t&&t[B0],d5=(t,e)=>OMe(t,B0,e),Cw=t=>t&&t[B0]&&t[B0].getPayload(),aH=class{constructor(){d5(this,this)}getPayload(){return this.payload||[]}},zv=class extends aH{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,We.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new zv(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return We.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,We.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},V0=class extends zv{constructor(t){super(0),this._string=null,this._toString=k0({output:[t,t]})}static create(t){return new V0(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(We.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=k0({output:[this.getValue(),t]})),this._value=0,super.reset()}},mS={dependencies:null},Pw=class extends aH{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Ca(this.source,(n,r)=>{dEe(n)?e[r]=n.getValue(t):Xs(n)?e[r]=Vi(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Wt(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Ca(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){mS.dependencies&&Xs(t)&&mS.dependencies.add(t);const e=Cw(t);e&&Wt(e,n=>this.add(n))}},lH=class extends Pw{constructor(t){super(t)}static create(t){return new lH(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(fEe)),!0)}};function fEe(t){return(Aw(t)?V0:zv).create(t)}function wA(t){const e=ca(t);return e?e.constructor:We.arr(t)?lH:Aw(t)?V0:zv}var RD=(t,e)=>{const n=!We.fun(t)||t.prototype&&t.prototype.isReactComponent;return P.forwardRef((r,i)=>{const s=P.useRef(null),o=n&&P.useCallback(g=>{s.current=gEe(i,g)},[i]),[a,l]=mEe(r,e),u=sH(),c=()=>{const g=s.current;if(n&&!g)return;(g?e.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&u()},d=new pEe(c,l),p=P.useRef();h5(()=>(p.current=d,Wt(l,g=>Up(g,d)),()=>{p.current&&(Wt(p.current.deps,g=>z0(g,p.current)),Et.cancel(p.current.update))})),P.useEffect(c,[]),oH(()=>()=>{const g=p.current;Wt(g.deps,y=>z0(y,g))});const m=e.getComponentProps(a.getValue());return P.createElement(t,{...m,ref:o})})},pEe=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Et.write(this.update)}};function mEe(t,e){const n=new Set;return mS.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new Pw(t),mS.dependencies=null,[t,n]}function gEe(t,e){return t&&(We.fun(t)?t(e):t.current=e),e}var ND=Symbol.for("AnimatedComponent"),vEe=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new Pw(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=ID(o)||"Anonymous";return We.str(o)?o=s[o]||(s[o]=RD(o,i)):o=o[ND]||(o[ND]=RD(o,i)),o.displayName=`Animated(${a})`,o};return Ca(t,(o,a)=>{We.arr(t)&&(a=ID(o)),s[a]=s(o)}),{animated:s}},ID=t=>We.str(t)?t:t&&We.str(t.displayName)?t.displayName:We.fun(t)&&t.name||null;function Zc(t,...e){return We.fun(t)?t(...e):t}var wg=(t,e)=>t===!0||!!(e&&t&&(We.fun(t)?t(e):vs(t).includes(e))),uH=(t,e)=>We.obj(t)?e&&t[e]:t,cH=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,yEe=t=>t,f5=(t,e=yEe)=>{let n=_Ee;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);We.und(s)||(r[i]=s)}return r},_Ee=["config","onProps","onStart","onChange","onPause","onResume","onRest"],xEe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function SEe(t){const e={};let n=0;if(Ca(t,(r,i)=>{xEe[i]||(e[i]=r,n++)}),n)return e}function hH(t){const e=SEe(t);if(e){const n={to:e};return Ca(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function j0(t){return t=Vi(t),We.arr(t)?t.map(j0):Aw(t)?Go.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function wEe(t){for(const e in t)return!0;return!1}function MA(t){return We.fun(t)||We.arr(t)&&We.obj(t[0])}function MEe(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function EEe(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var bEe={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},EA={...bEe.default,mass:1,damping:1,easing:KMe.linear,clamp:!1},TEe=class{constructor(){this.velocity=0,Object.assign(this,EA)}};function AEe(t,e,n){n&&(n={...n},OD(n,e),e={...n,...e}),OD(t,e),Object.assign(t,e);for(const o in EA)t[o]==null&&(t[o]=EA[o]);let{frequency:r,damping:i}=t;const{mass:s}=t;return We.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*s,t.friction=4*Math.PI*i*s/r),t}function OD(t,e){if(!We.und(e.decay))t.duration=void 0;else{const n=!We.und(e.tension)||!We.und(e.friction);(n||!We.und(e.frequency)||!We.und(e.damping)||!We.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var LD=[],CEe=class{constructor(){this.changed=!1,this.values=LD,this.toValues=null,this.fromValues=LD,this.config=new TEe,this.immediate=!1}};function dH(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,u,c=wg(n.cancel??(r==null?void 0:r.cancel),e);if(c)m();else{We.und(n.pause)||(i.paused=wg(n.pause,e));let g=r==null?void 0:r.pause;g!==!0&&(g=i.paused||wg(g,e)),l=Zc(n.delay||0,e),g?(i.resumeQueue.add(p),s.pause()):(s.resume(),p())}function d(){i.resumeQueue.add(p),i.timeouts.delete(u),u.cancel(),l=u.time-Et.now()}function p(){l>0&&!Go.skipAnimation?(i.delayed=!0,u=Et.setTimeout(m,l),i.pauseQueue.add(d),i.timeouts.add(u)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(u),t<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:t,cancel:c},o)}catch(g){a(g)}}})}var p5=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?Ff(t.get()):e.every(n=>n.noop)?fH(t.get()):bo(t.get(),e.every(n=>n.finished)),fH=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),bo=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),Ff=t=>({value:t,cancelled:!0,finished:!1});function pH(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const u=f5(e,(_,v)=>v==="onRest"?void 0:_);let c,d;const p=new Promise((_,v)=>(c=_,d=v)),m=_=>{const v=i<=(n.cancelId||0)&&Ff(r)||i!==n.asyncId&&bo(r,!1);if(v)throw _.result=v,d(_),_},g=(_,v)=>{const x=new DD,w=new kD;return(async()=>{if(Go.skipAnimation)throw H0(n),w.result=bo(r,!1),d(w),w;m(x);const M=We.obj(_)?{..._}:{...v,to:_};M.parentId=i,Ca(u,(T,C)=>{We.und(M[C])&&(M[C]=T)});const b=await r.start(M);return m(x),n.paused&&await new Promise(T=>{n.resumeQueue.add(T)}),b})()};let y;if(Go.skipAnimation)return H0(n),bo(r,!1);try{let _;We.arr(t)?_=(async v=>{for(const x of v)await g(x)})(t):_=Promise.resolve(t(g,r.stop.bind(r))),await Promise.all([_.then(c),p]),y=bo(r.get(),!0,!1)}catch(_){if(_ instanceof DD)y=_.result;else if(_ instanceof kD)y=_.result;else throw _}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return We.fun(o)&&Et.batchedUpdates(()=>{o(y,r,r.item)}),y})()}function H0(t,e){xg(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var DD=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},kD=class extends Error{constructor(){super("SkipAnimationSignal")}},bA=t=>t instanceof m5,PEe=1,m5=class extends eH{constructor(){super(...arguments),this.id=PEe++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=ca(this);return t&&t.getValue()}to(...t){return Go.to(this,t)}interpolate(...t){return sEe(),Go.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){U0(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||Ew.sort(this),U0(this,{type:"priority",parent:this,priority:t})}},Vh=Symbol.for("SpringPhase"),mH=1,TA=2,AA=4,Db=t=>(t[Vh]&mH)>0,au=t=>(t[Vh]&TA)>0,Lm=t=>(t[Vh]&AA)>0,FD=(t,e)=>e?t[Vh]|=TA|mH:t[Vh]&=~TA,UD=(t,e)=>e?t[Vh]|=AA:t[Vh]&=~AA,REe=class extends m5{constructor(t,e){if(super(),this.animation=new CEe,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!We.und(t)||!We.und(e)){const n=We.obj(t)?{...t}:{...e,from:t};We.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(au(this)||this._state.asyncTo)||Lm(this)}get goal(){return Vi(this.animation.to)}get velocity(){const t=ca(this);return t instanceof zv?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return Db(this)}get isAnimating(){return au(this)}get isPaused(){return Lm(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=Cw(r.to);!o&&Xs(r.to)&&(i=vs(Vi(r.to))),r.values.forEach((u,c)=>{if(u.done)return;const d=u.constructor==V0?1:o?o[c].lastPosition:i[c];let p=r.immediate,m=d;if(!p){if(m=u.lastPosition,s.tension<=0){u.done=!0;return}let g=u.elapsedTime+=t;const y=r.fromValues[c],_=u.v0!=null?u.v0:u.v0=We.arr(s.velocity)?s.velocity[c]:s.velocity;let v;const x=s.precision||(y==d?.005:Math.min(1,Math.abs(d-y)*.001));if(We.und(s.duration))if(s.decay){const w=s.decay===!0?.998:s.decay,M=Math.exp(-(1-w)*g);m=y+_/(1-w)*(1-M),p=Math.abs(u.lastPosition-m)<=x,v=_*M}else{v=u.lastVelocity==null?_:u.lastVelocity;const w=s.restVelocity||x/10,M=s.clamp?0:s.bounce,b=!We.und(M),T=y==d?u.v0>0:y<d;let C,I=!1;const R=1,N=Math.ceil(t/R);for(let z=0;z<N&&(C=Math.abs(v)>w,!(!C&&(p=Math.abs(d-m)<=x,p)));++z){b&&(I=m==d||m>d==T,I&&(v=-v*M,m=d));const V=-s.tension*1e-6*(m-d),W=-s.friction*.001*v,K=(V+W)/s.mass;v=v+K*R,m=m+v*R}}else{let w=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,g=u.elapsedTime+=t)),w=(s.progress||0)+g/this._memoizedDuration,w=w>1?1:w<0?0:w,u.durationProgress=w),m=y+s.easing(w)*(d-y),v=(m-u.lastPosition)/t,p=w==1}u.lastVelocity=v,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),p=!0)}o&&!o[c].done&&(p=!1),p?u.done=!0:e=!1,u.setValue(m,s.round)&&(n=!0)});const a=ca(this),l=a.getValue();if(e){const u=Vi(r.to);(l!==u||n)&&!s.decay?(a.setValue(u),this._onChange(u)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return Et.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(au(this)){const{to:t,config:e}=this.animation;Et.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return We.und(t)?(n=this.queue||[],this.queue=[]):n=[We.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>p5(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),H0(this._state,t&&this._lastCallId),Et.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=We.obj(n)?n[e]:n,(n==null||MA(n))&&(n=void 0),r=We.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return Db(this)||(t.reverse&&([n,r]=[r,n]),r=Vi(r),We.und(r)?ca(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,f5(t,(o,a)=>/^on/.test(a)?uH(o,n):o)),BD(this,t,"onProps"),km(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return dH(++this._lastCallId,{key:n,props:t,defaultProps:r,state:s,actions:{pause:()=>{Lm(this)||(UD(this,!0),Ym(s.pauseQueue),km(this,"onPause",bo(this,Dm(this,this.animation.to)),this))},resume:()=>{Lm(this)&&(UD(this,!1),au(this)&&this._resume(),Ym(s.resumeQueue),km(this,"onResume",bo(this,Dm(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=gH(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(Ff(this));const r=!We.und(t.to),i=!We.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(Ff(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:u}=a;let{to:c=l,from:d=u}=t;i&&!r&&(!e.default||We.und(c))&&(c=d),e.reverse&&([c,d]=[d,c]);const p=!il(d,u);p&&(a.from=d),d=Vi(d);const m=!il(c,l);m&&this._focus(c);const g=MA(e.to),{config:y}=a,{decay:_,velocity:v}=y;(r||i)&&(y.velocity=0),e.config&&!g&&AEe(y,Zc(e.config,s),e.config!==o.config?Zc(o.config,s):void 0);let x=ca(this);if(!x||We.und(c))return n(bo(this,!0));const w=We.und(e.reset)?i&&!e.default:!We.und(d)&&wg(e.reset,s),M=w?d:this.get(),b=j0(c),T=We.num(b)||We.arr(b)||Aw(b),C=!g&&(!T||wg(o.immediate||e.immediate,s));if(m){const z=wA(c);if(z!==x.constructor)if(C)x=this._set(b);else throw Error(`Cannot animate between ${x.constructor.name} and ${z.name}, as the "to" prop suggests`)}const I=x.constructor;let R=Xs(c),N=!1;if(!R){const z=w||!Db(this)&&p;(m||z)&&(N=il(j0(M),b),R=!N),(!il(a.immediate,C)&&!C||!il(y.decay,_)||!il(y.velocity,v))&&(R=!0)}if(N&&au(this)&&(a.changed&&!w?R=!0:R||this._stop(l)),!g&&((R||Xs(l))&&(a.values=x.getPayload(),a.toValues=Xs(c)?null:I==V0?[1]:vs(b)),a.immediate!=C&&(a.immediate=C,!C&&!w&&this._set(l)),R)){const{onRest:z}=a;Wt(IEe,W=>BD(this,e,W));const V=bo(this,Dm(this,l));Ym(this._pendingCalls,V),this._pendingCalls.add(n),a.changed&&Et.batchedUpdates(()=>{var W;a.changed=!w,z==null||z(V,this),w?Zc(o.onRest,V):(W=a.onStart)==null||W.call(a,V,this)})}w&&this._set(M),g?n(pH(e.to,e,this._state,this)):R?this._start():au(this)&&!m?this._pendingCalls.add(n):n(fH(M))}_focus(t){const e=this.animation;t!==e.to&&(AD(this)&&this._detach(),e.to=t,AD(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Xs(e)&&(Up(e,this),bA(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Xs(t)&&z0(t,this)}_set(t,e=!0){const n=Vi(t);if(!We.und(n)){const r=ca(this);if(!r||!il(n,r.getValue())){const i=wA(n);!r||r.constructor!=i?d5(this,i.create(n)):r.setValue(n),r&&Et.batchedUpdates(()=>{this._onChange(n,e)})}}return ca(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,km(this,"onStart",bo(this,Dm(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Zc(this.animation.onChange,t,this)),Zc(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;ca(this).reset(Vi(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),au(this)||(FD(this,!0),Lm(this)||this._resume())}_resume(){Go.skipAnimation?this.finish():Ew.start(this)}_stop(t,e){if(au(this)){FD(this,!1);const n=this.animation;Wt(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),U0(this,{type:"idle",parent:this});const r=e?Ff(this.get()):bo(this.get(),Dm(this,t??n.to));Ym(this._pendingCalls,r),n.changed&&(n.changed=!1,km(this,"onRest",r,this))}}};function Dm(t,e){const n=j0(e),r=j0(t.get());return il(r,n)}function gH(t,e=t.loop,n=t.to){const r=Zc(e);if(r){const i=r!==!0&&hH(r),s=(i||t).reverse,o=!i||i.reset;return W0({...t,loop:e,default:!1,pause:void 0,to:!s||MA(n)?n:void 0,from:o?t.from:void 0,reset:o,...i})}}function W0(t){const{to:e,from:n}=t=hH(t),r=new Set;return We.obj(e)&&zD(e,r),We.obj(n)&&zD(n,r),t.keys=r.size?Array.from(r):null,t}function NEe(t){const e=W0(t);return We.und(e.default)&&(e.default=f5(e)),e}function zD(t,e){Ca(t,(n,r)=>n!=null&&e.add(r))}var IEe=["onStart","onRest","onChange","onPause","onResume"];function BD(t,e,n){t.animation[n]=e[n]!==cH(e,n)?uH(e[n],t.key):void 0}function km(t,e,...n){var r,i,s,o;(i=(r=t.animation)[e])==null||i.call(r,...n),(o=(s=t.defaultProps)[e])==null||o.call(s,...n)}var OEe=["onStart","onChange","onRest"],LEe=1,DEe=class{constructor(t,e){this.id=LEe++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];We.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(W0(t)),this}start(t){let{queue:e}=this;return t?e=vs(t).map(W0):this.queue=[],this._flush?this._flush(this,e):(SH(this,e),CA(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;Wt(vs(e),r=>n[r].stop(!!t))}else H0(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(We.und(t))this.start({pause:!0});else{const e=this.springs;Wt(vs(t),n=>e[n].pause())}return this}resume(t){if(We.und(t))this.start({pause:!1});else{const e=this.springs;Wt(vs(t),n=>e[n].resume())}return this}each(t){Ca(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,xg(t,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&e.size&&xg(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,xg(n,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Et.onFrame(this._onFrame)}};function CA(t,e){return Promise.all(e.map(n=>vH(t,n))).then(n=>p5(t,n))}async function vH(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,u=We.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const c=We.arr(i)||We.fun(i)?i:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):Wt(OEe,y=>{const _=e[y];if(We.fun(_)){const v=t._events[y];e[y]=({finished:x,cancelled:w})=>{const M=v.get(_);M?(x||(M.finished=!1),w&&(M.cancelled=!0)):v.set(_,{value:null,finished:x||!1,cancelled:w||!1})},u&&(u[y]=e[y])}});const d=t._state;e.pause===!d.paused?(d.paused=e.pause,Ym(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);const p=(r||Object.keys(t.springs)).map(y=>t.springs[y].start(e)),m=e.cancel===!0||cH(e,"cancel")===!0;(c||m&&d.asyncId)&&p.push(dH(++t._lastAsyncId,{props:e,state:d,actions:{pause:xA,resume:xA,start(y,_){m?(H0(d,t._lastAsyncId),_(Ff(t))):(y.onRest=a,_(pH(c,y,d,t)))}}})),d.paused&&await new Promise(y=>{d.resumeQueue.add(y)});const g=p5(t,await Promise.all(p));if(o&&g.finished&&!(n&&g.noop)){const y=gH(e,o,i);if(y)return SH(t,[y]),vH(t,y,!0)}return l&&Et.batchedUpdates(()=>l(g,t,t.item)),g}function VD(t,e){const n={...t.springs};return e&&Wt(vs(e),r=>{We.und(r.keys)&&(r=W0(r)),We.obj(r.to)||(r={...r,to:void 0}),xH(n,r,i=>_H(i))}),yH(t,n),n}function yH(t,e){Ca(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,Up(n,t))})}function _H(t,e){const n=new REe;return n.key=t,e&&Up(n,e),n}function xH(t,e,n){e.keys&&Wt(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function SH(t,e){Wt(e,n=>{xH(t.springs,n,r=>_H(r,t))})}var Rw=({children:t,...e})=>{const n=P.useContext(gS),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=uEe(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=gS;return P.createElement(s,{value:e},t)},gS=kEe(Rw,{});Rw.Provider=gS.Provider;Rw.Consumer=gS.Consumer;function kEe(t,e){return Object.assign(t,P.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var FEe=()=>{const t=[],e=function(r){aEe();const i=[];return Wt(t,(s,o)=>{if(We.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return Wt(t,r=>r.pause(...arguments)),this},e.resume=function(){return Wt(t,r=>r.resume(...arguments)),this},e.set=function(r){Wt(t,(i,s)=>{const o=We.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return Wt(t,(s,o)=>{if(We.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return Wt(t,r=>r.stop(...arguments)),this},e.update=function(r){return Wt(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return We.fun(r)?r(s,i):r};return e._getProps=n,e};function UEe(t,e,n){const r=We.fun(e)&&e;r&&!n&&(n=[]);const i=P.useMemo(()=>r||arguments.length==3?FEe():void 0,[]),s=P.useRef(0),o=sH(),a=P.useMemo(()=>({ctrls:[],queue:[],flush(v,x){const w=VD(v,x);return s.current>0&&!a.queue.length&&!Object.keys(w).some(b=>!v.springs[b])?CA(v,x):new Promise(b=>{yH(v,w),a.queue.push(()=>{b(CA(v,x))}),o()})}}),[]),l=P.useRef([...a.ctrls]),u=[],c=PD(t)||0;P.useMemo(()=>{Wt(l.current.slice(t,c),v=>{MEe(v,i),v.stop(!0)}),l.current.length=t,d(c,t)},[t]),P.useMemo(()=>{d(0,Math.min(c,t))},n);function d(v,x){for(let w=v;w<x;w++){const M=l.current[w]||(l.current[w]=new DEe(null,a.flush)),b=r?r(w,M):e[w];b&&(u[w]=NEe(b))}}const p=l.current.map((v,x)=>VD(v,u[x])),m=P.useContext(Rw),g=PD(m),y=m!==g&&wEe(m);h5(()=>{s.current++,a.ctrls=l.current;const{queue:v}=a;v.length&&(a.queue=[],Wt(v,x=>x())),Wt(l.current,(x,w)=>{i==null||i.add(x),y&&x.start({default:m});const M=u[w];M&&(EEe(x,M.ref),x.ref?x.queue.push(M):x.start(M))})}),oH(()=>()=>{Wt(a.ctrls,v=>v.stop(!0))});const _=p.map(v=>({...v}));return i?[_,i]:_}function zEe(t,e){const n=We.fun(t),[[r],i]=UEe(1,n?t:[t],n?e||[]:e);return n||arguments.length==2?[r,i]:r}function Bv({children:t,...e}){return t(zEe(e))}var BEe=class extends m5{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=k0(...e);const n=this._get(),r=wA(n);d5(this,r.create(n))}advance(t){const e=this._get(),n=this.get();il(e,n)||(ca(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&jD(this._active)&&kb(this)}_get(){const t=We.arr(this.source)?this.source.map(Vi):vs(Vi(this.source));return this.calc(...t)}_start(){this.idle&&!jD(this._active)&&(this.idle=!1,Wt(Cw(this),t=>{t.done=!1}),Go.skipAnimation?(Et.batchedUpdates(()=>this.advance()),kb(this)):Ew.start(this))}_attach(){let t=1;Wt(vs(this.source),e=>{Xs(e)&&Up(e,this),bA(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Wt(vs(this.source),t=>{Xs(t)&&z0(t,this)}),this._active.clear(),kb(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=vs(this.source).reduce((e,n)=>Math.max(e,(bA(n)?n.priority:0)+1),0))}};function VEe(t){return t.idle!==!1}function jD(t){return!t.size||Array.from(t).every(VEe)}function kb(t){t.idle||(t.idle=!0,Wt(Cw(t),e=>{e.done=!0}),U0(t,{type:"idle",parent:t}))}Go.assign({createStringInterpolator:rH,to:(t,e)=>new BEe(t,e)});var wH=/^--/;function jEe(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!wH.test(t)&&!(Mg.hasOwnProperty(t)&&Mg[t])?e+"px":(""+e).trim()}var HD={};function HEe(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...l}=e,u=Object.values(l),c=Object.keys(l).map(d=>n||t.hasAttribute(d)?d:HD[d]||(HD[d]=d.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));i!==void 0&&(t.textContent=i);for(const d in r)if(r.hasOwnProperty(d)){const p=jEe(d,r[d]);wH.test(d)?t.style.setProperty(d,p):t.style[d]=p}c.forEach((d,p)=>{t.setAttribute(d,u[p])}),s!==void 0&&(t.scrollTop=s),o!==void 0&&(t.scrollLeft=o),a!==void 0&&t.setAttribute("viewBox",a)}var Mg={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WEe=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),GEe=["Webkit","Ms","Moz","O"];Mg=Object.keys(Mg).reduce((t,e)=>(GEe.forEach(n=>t[WEe(n,e)]=t[e]),t),Mg);var $Ee=/^(matrix|translate|scale|rotate|skew)/,qEe=/^(translate)/,XEe=/^(rotate|skew)/,Fb=(t,e)=>We.num(t)&&t!==0?t+e:t,j_=(t,e)=>We.arr(t)?t.every(n=>j_(n,e)):We.num(t)?t===e:parseFloat(t)===e,YEe=class extends Pw{constructor({x:t,y:e,z:n,...r}){const i=[],s=[];(t||e||n)&&(i.push([t||0,e||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>Fb(a,"px")).join(",")})`,j_(o,0)])),Ca(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(l=>[l,l===""]);else if($Ee.test(a)){if(delete r[a],We.und(o))return;const l=qEe.test(a)?"px":XEe.test(a)?"deg":"";i.push(vs(o)),s.push(a==="rotate3d"?([u,c,d,p])=>[`rotate3d(${u},${c},${d},${Fb(p,l)})`,j_(p,0)]:u=>[`${a}(${u.map(c=>Fb(c,l)).join(",")})`,j_(u,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new ZEe(i,s)),super(r)}},ZEe=class extends eH{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Wt(this.inputs,(n,r)=>{const i=Vi(n[0]),[s,o]=this.transforms[r](We.arr(i)?i:n.map(Vi));t+=" "+s,e=e&&o}),e?"none":t}observerAdded(t){t==1&&Wt(this.inputs,e=>Wt(e,n=>Xs(n)&&Up(n,this)))}observerRemoved(t){t==0&&Wt(this.inputs,e=>Wt(e,n=>Xs(n)&&z0(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),U0(this,t)}},KEe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Go.assign({batchedUpdates:LS.unstable_batchedUpdates,createStringInterpolator:rH,colors:UMe});var QEe=vEe(KEe,{applyAnimatedValues:HEe,createAnimatedStyle:t=>new YEe(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),Vv=QEe.animated,Ub={},Fm={},g5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getElementPosition=t.stopEvent=t.absPos=t.valueToAngle=t.calcAngleDiff=t.calculateNearestValueToPoint=t.clamp=t.matrixScale=t.degrees=t.radians=t.polarToCartesian=t.ANGLE_OFFSET=t.DEG_360_IN_RAD=void 0,t.DEG_360_IN_RAD=n(360),t.ANGLE_OFFSET=Math.PI;function e(p){var m=p.center,g=p.angle,y=p.radius;return{x:m.x+Math.sin(g)*y,y:m.y+Math.cos(g)*y}}t.polarToCartesian=e;function n(p){return p*Math.PI/180}t.radians=n;function r(p){return p*180/Math.PI}t.degrees=r;function i(p,m,g){return"matrix("+p+", 0, 0, "+p+", "+(m-p*m)+", "+(g-p*g)+")"}t.matrixScale=i;function s(p,m,g){return Math.min(Math.max(g,p),m)}t.clamp=s;function o(p){var m=p.center,g=m.x,y=m.y,_=p.container,v=_.x,x=_.y,w=p.point,M=w.x,b=w.y,T=p.radius,C=p.value,I={x:M-v-g,y:-(b-x-y)},R=e({center:{x:0,y:0},angle:l(C),radius:T}),N=a(I.x,I.y,R.x,-R.y),z=C+N/360,V=z>1?z-1:z;return V}t.calculateNearestValueToPoint=o;function a(p,m,g,y){var _=Math.atan2(p*y-m*g,p*g+m*y);return _<0&&(_+=2*Math.PI),_*180/Math.PI}t.calcAngleDiff=a;function l(p){return-p*t.DEG_360_IN_RAD+t.ANGLE_OFFSET}t.valueToAngle=l;function u(p){var m=p.touches&&p;if(m)return{x:m.changedTouches[0].pageX-(window.scrollX||window.pageXOffset),y:m.changedTouches[0].pageY-(window.scrollY||window.pageYOffset)};var g=p.pageX&&p;if(g)return{x:g.pageX-(window.scrollX||window.pageXOffset),y:g.pageY-(window.scrollY||window.pageYOffset)};throw new Error("Unknown event type received (expected: MouseEvent | TouchEvent)")}t.absPos=u;function c(p){p.stopPropagation(),p.preventDefault()}t.stopEvent=c;function d(p){if(p){var m=p.getBoundingClientRect(),g=m.left,y=m.top;return{x:g,y}}}t.getElementPosition=d})(g5);var jh={};Object.defineProperty(jh,"__esModule",{value:!0});jh.useCircularInputContext=jh.CircularInputProvider=void 0;var MH=P,EH=MH.createContext({});jh.CircularInputProvider=EH.Provider;function JEe(){var t=MH.useContext(EH);if(!t)throw new Error("CircularInput components cannot be rendered outside the CircularInput component");return t}jh.useCircularInputContext=JEe;var zb={},Um={},WD;function bH(){if(WD)return Um;WD=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.useCircularDrag=void 0;var t=P,e=jv();function n(l){var u=e.useCircularInputContext(),c=u.onChange,d=u.onChangeEnd,p=u.getValueFromPointerEvent,m=t.useState(!1),g=m[0],y=m[1],_=t.useCallback(function(w){if(c){a(w),y(!0);var M=p(w);c(M)}},[c,y,p]),v=t.useCallback(function(w){a(w);var M=p(w);c(M)},[c,p]),x=t.useCallback(function(w){if(a(w),y(!1),!!d){var M=p(w);d(M)}},[d,p]);return t.useEffect(function(){var w=l.current;if(w)return r(w,_),function(){w&&i(w,_)}},[l,_]),t.useEffect(function(){if(g)return s(v,x),function(){o(v,x)}},[g,v,x]),{isDragging:g}}Um.useCircularDrag=n;function r(l,u){l.addEventListener("mousedown",u,{passive:!1}),l.addEventListener("touchstart",u,{passive:!1})}function i(l,u){l.removeEventListener("mousedown",u),l.removeEventListener("touchstart",u)}function s(l,u){document.addEventListener("mousemove",l,{passive:!1}),document.addEventListener("touchmove",l,{passive:!1}),document.addEventListener("mouseup",u,{passive:!1}),document.addEventListener("touchend",u,{passive:!1})}function o(l,u){document.removeEventListener("mousemove",l),document.removeEventListener("touchmove",l),document.removeEventListener("mouseup",u),document.removeEventListener("touchend",u)}var a=function(l){l.stopPropagation(),l.cancelable&&l.preventDefault()};return Um}var GD;function TH(){return GD||(GD=1,function(t){var e=zt&&zt.__assign||function(){return e=Object.assign||function(c){for(var d,p=1,m=arguments.length;p<m;p++){d=arguments[p];for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(c[g]=d[g])}return c},e.apply(this,arguments)},n=zt&&zt.__createBinding||(Object.create?function(c,d,p,m){m===void 0&&(m=p),Object.defineProperty(c,m,{enumerable:!0,get:function(){return d[p]}})}:function(c,d,p,m){m===void 0&&(m=p),c[m]=d[p]}),r=zt&&zt.__setModuleDefault||(Object.create?function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}:function(c,d){c.default=d}),i=zt&&zt.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var p in c)p!=="default"&&Object.prototype.hasOwnProperty.call(c,p)&&n(d,c,p);return r(d,c),d},s=zt&&zt.__rest||function(c,d){var p={};for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&d.indexOf(m)<0&&(p[m]=c[m]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,m=Object.getOwnPropertySymbols(c);g<m.length;g++)d.indexOf(m[g])<0&&Object.prototype.propertyIsEnumerable.call(c,m[g])&&(p[m[g]]=c[m[g]]);return p};Object.defineProperty(t,"__esModule",{value:!0}),t.CircularTrack=t.defaultProps=void 0;var o=i(P),a=jv(),l=bH();t.defaultProps={stroke:"#CEE0F5",fill:"none",strokeWidth:20,strokeLinecap:"round"};var u=function(c){var d=c.strokeWidth,p=s(c,["strokeWidth"]),m=a.useCircularInputContext(),g=m.radius,y=m.center,_=o.useRef(null);return l.useCircularDrag(_),o.default.createElement("circle",e({strokeWidth:d},p,{ref:_,cx:y.x,cy:y.y,r:g}))};t.CircularTrack=u,t.CircularTrack.defaultProps=t.defaultProps}(zb)),zb}var Bb={},$D;function AH(){return $D||($D=1,function(t){var e=zt&&zt.__assign||function(){return e=Object.assign||function(l){for(var u,c=1,d=arguments.length;c<d;c++){u=arguments[c];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])}return l},e.apply(this,arguments)},n=zt&&zt.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.CircularProgress=void 0;var r=n(P),i=jv(),s=g5,o={stroke:"#3D99FF"},a=function(l){var u=i.useCircularInputContext(),c=u.value,d=u.radius,p=u.center,m=s.DEG_360_IN_RAD*d;return r.default.createElement(i.CircularTrack,e({},l,{strokeDasharray:m,strokeDashoffset:m*(1-c),transform:"rotate(-90 "+p.x+" "+p.y+")"}))};t.CircularProgress=a,t.CircularProgress.defaultProps=o}(Bb)),Bb}var zm={},qD;function CH(){if(qD)return zm;qD=1;var t=zt&&zt.__assign||function(){return t=Object.assign||function(a){for(var l,u=1,c=arguments.length;u<c;u++){l=arguments[u];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(a[d]=l[d])}return a},t.apply(this,arguments)},e=zt&&zt.__createBinding||(Object.create?function(a,l,u,c){c===void 0&&(c=u),Object.defineProperty(a,c,{enumerable:!0,get:function(){return l[u]}})}:function(a,l,u,c){c===void 0&&(c=u),a[c]=l[u]}),n=zt&&zt.__setModuleDefault||(Object.create?function(a,l){Object.defineProperty(a,"default",{enumerable:!0,value:l})}:function(a,l){a.default=l}),r=zt&&zt.__importStar||function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var u in a)u!=="default"&&Object.prototype.hasOwnProperty.call(a,u)&&e(l,a,u);return n(l,a),l};Object.defineProperty(zm,"__esModule",{value:!0}),zm.CircularThumb=void 0;var i=r(P),s=jv(),o=function(a){var l=s.useCircularInputContext(),u=l.getPointFromValue,c=l.isFocused,d=i.useRef(null),p=s.useCircularDrag(d).isDragging,m=u();if(!m)return null;var g=m.x,y=m.y,_=t({transition:"r 150ms cubic-bezier(0.215, 0.61, 0.355, 1)"},a.style||{});return i.default.createElement("circle",t({r:c||p?23:20,fill:"#0045e5"},a,{style:_,ref:d,cx:g,cy:y}))};return zm.CircularThumb=o,zm}var XD;function ebe(){if(XD)return Fm;XD=1;var t=zt&&zt.__assign||function(){return t=Object.assign||function(p){for(var m,g=1,y=arguments.length;g<y;g++){m=arguments[g];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(p[_]=m[_])}return p},t.apply(this,arguments)},e=zt&&zt.__createBinding||(Object.create?function(p,m,g,y){y===void 0&&(y=g),Object.defineProperty(p,y,{enumerable:!0,get:function(){return m[g]}})}:function(p,m,g,y){y===void 0&&(y=g),p[y]=m[g]}),n=zt&&zt.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),r=zt&&zt.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var g in p)g!=="default"&&Object.prototype.hasOwnProperty.call(p,g)&&e(m,p,g);return n(m,p),m},i=zt&&zt.__rest||function(p,m){var g={};for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&m.indexOf(y)<0&&(g[y]=p[y]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,y=Object.getOwnPropertySymbols(p);_<y.length;_++)m.indexOf(y[_])<0&&Object.prototype.propertyIsEnumerable.call(p,y[_])&&(g[y[_]]=p[y[_]]);return g};Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.CircularInput=void 0;var s=r(P),o=g5,a=jh,l=TH(),u=AH(),c=CH();function d(p){var m=p.value,g=m===void 0?.25:m,y=p.radius,_=y===void 0?100:y,v=p.onChange,x=v===void 0?function(){}:v,w=p.onChangeEnd,M=w===void 0?function(){}:w,b=p.tabIndex,T=b===void 0?0:b,C=p.children,I=i(p,["value","radius","onChange","onChangeEnd","tabIndex","children"]),R=s.useRef(null),N=_*2,z=s.useMemo(function(){return{x:_,y:_}},[_]),V=s.useState(!1),W=V[0],K=V[1],J=!x,ne=s.useCallback(function(){K(!0)},[]),ee=s.useCallback(function(){K(!1)},[]),F=s.useCallback(function(te){if(W){var ue=te.keyCode,Se=ue===38||ue===39||ue===33||ue===32,pe=ue===40||ue===37||ue===34;Se&&x(Math.min(1,g+.1)),pe&&x(Math.max(0,g-.1)),(Se||pe)&&te.preventDefault()}},[W,x,g]),j={tabIndex:T,role:"slider",onFocus:ne,onBlur:ee,onKeyDown:F},H=s.useCallback(function(te){return o.polarToCartesian({center:z,angle:o.valueToAngle(te||g),radius:_})},[g,z,_]),D=s.useCallback(function(te){return o.calculateNearestValueToPoint({point:o.absPos(te),container:o.getElementPosition(R.current),value:g,center:z,radius:_})},[g,z,_]),U=s.useMemo(function(){return{value:g,radius:_,center:z,isFocused:W,setFocused:K,onChange:x,onChangeEnd:M,getPointFromValue:H,getValueFromPointerEvent:D}},[g,_,z,x,M,W,K,H,D]),Y=s.useCallback(function(te){if(!J){var ue=D(te);x(ue),M(ue)}},[x,M,D,J]),q=t(t({overflow:"visible",outline:"none"},I.style||{}),{touchAction:"manipulation",WebkitTapHighlightColor:"rgba(0,0,0,0)"});return s.default.createElement(a.CircularInputProvider,{value:U},s.default.createElement("svg",t({},I,{ref:R,width:N,height:N,viewBox:"0 0 "+N+" "+N,style:q,onClick:Y},J?{}:j),C?typeof C=="function"?C(U):C:s.default.createElement(s.default.Fragment,null,s.default.createElement(l.CircularTrack,null),s.default.createElement(u.CircularProgress,null),s.default.createElement(c.CircularThumb,null))))}return Fm.CircularInput=d,Fm}var YD;function jv(){return YD||(YD=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CircularTrack=t.CircularThumb=t.CircularProgress=t.useCircularDrag=t.CircularInputProvider=t.useCircularInputContext=t.CircularInput=void 0;var e=ebe();Object.defineProperty(t,"CircularInput",{enumerable:!0,get:function(){return e.CircularInput}});var n=jh;Object.defineProperty(t,"useCircularInputContext",{enumerable:!0,get:function(){return n.useCircularInputContext}}),Object.defineProperty(t,"CircularInputProvider",{enumerable:!0,get:function(){return n.CircularInputProvider}});var r=bH();Object.defineProperty(t,"useCircularDrag",{enumerable:!0,get:function(){return r.useCircularDrag}});var i=AH();Object.defineProperty(t,"CircularProgress",{enumerable:!0,get:function(){return i.CircularProgress}});var s=CH();Object.defineProperty(t,"CircularThumb",{enumerable:!0,get:function(){return s.CircularThumb}});var o=TH();Object.defineProperty(t,"CircularTrack",{enumerable:!0,get:function(){return o.CircularTrack}})}(Ub)),Ub}var yr=jv();const ZD=t=>{switch(t){case 0:case 1:return"sine";case .25:return"triangle";case .5:return"sawtooth";case .75:return"square";default:return"sine"}},tbe=Vv(yr.CircularInput);function PA({color:t,level:e,storeSetter:n,toneSetter:r}){const[i,s]=P.useState(e),[o,a]=P.useState(ZD(e)),l=d=>Math.round(d*4)/4;P.useEffect(()=>{a(ZD(i))},[i]);const u=()=>{n(o)},c=d=>{s(l(d)),r(o)};return O.jsxs("div",{className:"relative",children:[O.jsx(Bv,{to:{localLevel:i},children:d=>O.jsxs(tbe,{radius:24,value:d.localLevel,onChange:c,onMouseUp:u,children:[O.jsx(yr.CircularTrack,{stroke:`${t}50`,strokeWidth:"10px"}),O.jsx(yr.CircularProgress,{stroke:`${t}AA`,strokeWidth:"11px"}),O.jsx(yr.CircularThumb,{fill:`${t}EE`,className:"stroke-[#FFFFFFEE]",r:6})]})}),O.jsx("div",{className:"absolute stroke-white top-[50%] left-[50%] transform -translate-x-1/2 -translate-y-1/2 text-[0.6rem]",children:o==="sine"?O.jsx(TMe,{}):o==="triangle"?O.jsx(AMe,{}):o==="sawtooth"?O.jsx(CMe,{}):O.jsx(PMe,{})})]})}const PH=t=>{switch(t){case"fatsine1":return 0;case"fattriangle":return .25;case"fatsawtooth":return .5;case"fatsquare":return .75;default:return 0}},KD=t=>t/22e3,nbe=t=>{switch(t){case"sine2":return 0;case"triangle2":return .25;case"sawtooth2":return .5;case"square2":return .75;default:return 0}},QD=t=>{switch(t){case"lowpass":return 0;case"highpass":return .2;case"bandpass":return .4;case"peaking":return .6;case"notch":return .8}},rbe=t=>{const e=.08333333333333333;let n=0;const r=[];for(let i=0;i<12;i++)r.push(n),n+=e;switch(r.push(1),t){case"1n":return r[0];case"2n":return r[1];case"4n":return r[2];case"4t":return r[3];case"8n":return r[4];case"8t":return r[5];case"16n":return r[6];case"16t":return r[7];case"32n":return r[8];case"32t":return r[9];case"64n":return r[10];case"64t":return r[11];default:return 0}},ibe=t=>{on.synth.envelope.attack=t},sbe=t=>{on.synth.envelope.decay=t},obe=t=>{on.synth.envelope.sustain=t},abe=t=>{on.synth.envelope.release=t},lbe=t=>{on.synth.oscillator.type=aS(t)},ube=t=>{on.chorus.wet.value=t},cbe=t=>{on.filter.frequency.value=t},hbe=t=>{on.filter.type=t,on.filterTwo.type=t},dbe=t=>{on.synth.modulationIndex.value=t*6},fbe=t=>{on.lfoFilter.frequency.value=t},pbe=t=>{on.lfoFilter.min=t},mbe=t=>{on.lfoFilter.type=lV(t)},gbe=()=>{const t=ei();return{setStoreMelodicSynthWaveformChange:m=>{t(X1e(m))},setStoreMelodicSynthAttackChange:m=>{t(W1e(m))},setStoreMelodicSynthDecayChange:m=>{t(G1e(m))},setStoreMelodicSynthSustainChange:m=>{t($1e(m))},setStoreMelodicSynthReleaseChange:m=>{t(q1e(m))},setStoreMelodicSynthChorusChange:m=>{t(Y1e(m))},setStoreMelodicSynthFilterFrequencyChange:m=>{t(Z1e(m))},setStoreMelodicSynthFilterTypeChange:m=>{t(K1e(m))},setStoreMelodicSynthMetalChange:m=>{t(Q1e(m))},setStoreMelodicSynthLfoFreqChange:m=>{t(J1e(m))},setStoreMelodicSynthLfoWaveformChange:m=>{t(tye(m))},setStoreMelodicSynthFilterModChange:m=>{t(eye(m))}}},vbe=Vv(yr.CircularInput);function ds({color:t,level:e,storeSetter:n,toneSetter:r}){const[i,s]=P.useState(e);P.useEffect(()=>{s(e)},[e]);const o=()=>{n(+i.toFixed(2))},a=l=>{s(l),r(+l.toFixed(2))};return O.jsxs("div",{className:"relative",children:[O.jsx(Bv,{to:{localLevel:i},children:l=>O.jsxs(vbe,{radius:24,value:l.localLevel,onChange:a,onMouseUp:o,children:[O.jsx(yr.CircularTrack,{stroke:`${t}50`,strokeWidth:"10px"}),O.jsx(yr.CircularProgress,{stroke:`${t}AA`,strokeWidth:"11px"}),O.jsx(yr.CircularThumb,{fill:`${t}EE`,className:"stroke-[#FFFFFFEE]",r:6})]})}),O.jsx("div",{className:"absolute top-[50%] left-[50%] transform -translate-x-1/2 -translate-y-1/2 text-xs",children:Math.round(i*100)})]})}const ybe=t=>t>1e3?`${(t/1e3).toFixed(1)}khz`:`${t}hz`,_be=Vv(yr.CircularInput);function v5({color:t,level:e,storeSetter:n,toneSetter:r}){const[i,s]=P.useState(KD(e));P.useEffect(()=>{s(KD(e))},[e]);const o=()=>{n(Mb(i))},a=l=>{s(l),r(Mb(l))};return O.jsxs("div",{className:"relative",children:[O.jsx(Bv,{to:{localLevel:i},children:l=>O.jsxs(_be,{radius:24,value:l.localLevel,onChange:a,onMouseUp:o,children:[O.jsx(yr.CircularTrack,{stroke:`${t}50`,strokeWidth:"10px"}),O.jsx(yr.CircularProgress,{stroke:`${t}AA`,strokeWidth:"11px"}),O.jsx(yr.CircularThumb,{fill:`${t}EE`,className:"stroke-[#FFFFFFEE]",r:6})]})}),O.jsx("div",{className:"absolute top-[50%] left-[50%] transform -translate-x-1/2 -translate-y-1/2 text-[0.6rem]",children:ybe(Mb(i))})]})}const JD=t=>P.createElement("svg",{width:21,height:16,viewBox:"0 0 21 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M21 15H1V0M1 4.94792C8.40032 5.11103 11.9976 5.09458 13.5521 4.11458C14.2312 8.34599 15.5728 11.2914 18.6042 14.9479"})),xbe=t=>P.createElement("svg",{width:21,height:16,viewBox:"0 0 21 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M20 0V15H0M19.9479 5.15625C15.3221 5.27416 12.4652 5.37637 7.55208 3.90625C7.20899 8.94643 5.90585 12.0884 2.60417 14.9479"})),Sbe=t=>P.createElement("svg",{width:21,height:16,viewBox:"0 0 21 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M1 0V15H21"}),P.createElement("path",{d:"M18.2169 15C14.3721 11.4562 12.7828 9.26273 11.0521 4.94792C9.03402 9.28908 7.38136 11.459 3.78312 15"})),wbe=t=>P.createElement("svg",{width:22,height:16,viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M1 0V15H11M21 15H11M11 15C10.6487 8.88926 6.24334 6.17039 1.05208 3.125M11 15C11.4448 9.42994 15.867 6.75854 20.9479 3.125"})),Mbe=t=>P.createElement("svg",{width:21,height:16,viewBox:"0 0 21 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},P.createElement("path",{d:"M21 15H1V0M1 10H9.53711C10.615 8.79539 11.0366 6.61282 11.0521 4.94792C11.1799 6.81204 11.5978 9.04942 12.6085 10H20.9479"})),Ebe=Vv(yr.CircularInput);function bbe({color:t,level:e,storeSetter:n,toneSetter:r}){const[i,s]=P.useState(QD(e)),[o,a]=P.useState(e),l=d=>Math.round(d*5)/5;P.useEffect(()=>{a(T1e(i))},[i]),P.useEffect(()=>{s(QD(e))},[e]);const u=()=>{n(o)},c=d=>{s(l(d)),r(o)};return O.jsxs("div",{className:"relative",children:[O.jsx(Bv,{to:{localLevel:i},children:d=>O.jsxs(Ebe,{radius:24,value:d.localLevel,onChange:c,onMouseUp:u,children:[O.jsx(yr.CircularTrack,{stroke:`${t}50`,strokeWidth:"10px"}),O.jsx(yr.CircularProgress,{stroke:`${t}AA`,strokeWidth:"11px"}),O.jsx(yr.CircularThumb,{fill:`${t}EE`,className:"stroke-[#FFFFFFEE]",r:6})]})}),O.jsx("div",{className:"absolute stroke-white top-[50%] left-[50%] transform -translate-x-1/2 -translate-y-1/2 text-[0.6rem]",children:o==="lowpass"?O.jsx(JD,{}):o==="highpass"?O.jsx(xbe,{}):o==="bandpass"?O.jsx(Sbe,{}):o==="notch"?O.jsx(wbe,{}):o==="peaking"?O.jsx(Mbe,{}):O.jsx(JD,{})})]})}const Tbe=Vv(yr.CircularInput);function Abe({color:t,level:e,storeSetter:n,toneSetter:r}){const[i,s]=P.useState(rbe(e)),[o,a]=P.useState(e),l=d=>Math.round(d*12)/12;P.useEffect(()=>{a(A1e(i))},[i]);const u=()=>{n(o)},c=d=>{s(l(d)),r(o)};return O.jsxs("div",{className:"relative",children:[O.jsx(Bv,{to:{localLevel:i},children:d=>O.jsxs(Tbe,{radius:24,value:d.localLevel,onChange:c,onMouseUp:u,children:[O.jsx(yr.CircularTrack,{stroke:`${t}50`,strokeWidth:"10px"}),O.jsx(yr.CircularProgress,{stroke:`${t}AA`,strokeWidth:"11px"}),O.jsx(yr.CircularThumb,{fill:`${t}EE`,className:"stroke-[#FFFFFFEE]",r:6})]})}),O.jsx("div",{className:"absolute stroke-white top-[50%] left-[50%] transform -translate-x-1/2 -translate-y-1/2 text-[0.6rem]",children:o})]})}const Cbe=()=>{const{currentSong:t}=Ut(Vl),{setStoreMelodicSynthWaveformChange:e,setStoreMelodicSynthChorusChange:n,setStoreMelodicSynthAttackChange:r,setStoreMelodicSynthDecayChange:i,setStoreMelodicSynthSustainChange:s,setStoreMelodicSynthReleaseChange:o,setStoreMelodicSynthLfoWaveformChange:a,setStoreMelodicSynthMetalChange:l,setStoreMelodicSynthFilterFrequencyChange:u,setStoreMelodicSynthFilterTypeChange:c,setStoreMelodicSynthLfoFreqChange:d,setStoreMelodicSynthFilterModChange:p}=gbe();return O.jsxs("div",{className:"flex flex-col items-center rounded-2xl justify-center pl-4",children:[O.jsxs("div",{className:"w-full items-end gap-2 font-caps flex mb-4",children:[O.jsx(bMe,{className:"h-8 w-8  fill-white stroke-2 stroke-white"}),O.jsx("h2",{className:"text-xl",children:"Melodic Synth"})]}),O.jsxs("div",{className:"grid grid-cols-4 grid-rows-3 gap-x-4 gap-y-8",children:[O.jsx(Mr,{title:"Waveform",children:O.jsx(PA,{color:"#7C3AED",level:PH(t.melodicSynth.waveform),storeSetter:e,toneSetter:lbe})}),O.jsx(Mr,{title:"Chorus",children:O.jsx(ds,{color:"#7C3AED",level:t.melodicSynth.chorus,storeSetter:n,toneSetter:ube})}),O.jsx(Mr,{title:"Filter Freq",children:O.jsx(v5,{color:"#7C3AED",level:t.melodicSynth.filterFrequency,storeSetter:u,toneSetter:cbe})}),O.jsx(Mr,{title:"Filter Shape",children:O.jsx(bbe,{color:"#7C3AED",level:t.melodicSynth.filterType,storeSetter:c,toneSetter:hbe})}),O.jsx(Mr,{title:"Filter Mod",children:O.jsx(ds,{color:"#7C3AED",level:t.melodicSynth.filterMod,storeSetter:p,toneSetter:pbe})}),O.jsx(Mr,{title:"Metal",children:O.jsx(ds,{color:"#7C3AED",level:t.melodicSynth.metal,storeSetter:l,toneSetter:dbe})}),O.jsx(Mr,{title:"Lfo Freq",children:O.jsx(Abe,{color:"#7C3AED",level:t.melodicSynth.lfoFrequency,storeSetter:d,toneSetter:fbe})}),O.jsx(Mr,{title:"Lfo Shape",children:O.jsx(PA,{color:"#7C3AED",level:nbe(t.melodicSynth.lfoShape),storeSetter:a,toneSetter:mbe})}),O.jsx(Mr,{title:"Attack",children:O.jsx(ds,{color:"#4F46E5",level:t.melodicSynth.attack,storeSetter:r,toneSetter:ibe})}),O.jsx(Mr,{title:"Decay",children:O.jsx(ds,{color:"#4F46E5",level:t.melodicSynth.decay,storeSetter:i,toneSetter:sbe})}),O.jsx(Mr,{title:"Sustain",children:O.jsx(ds,{color:"#4F46E5",level:t.melodicSynth.sustain,storeSetter:s,toneSetter:obe})}),O.jsx(Mr,{title:"Release",children:O.jsx(ds,{color:"#4F46E5",level:t.melodicSynth.release,storeSetter:o,toneSetter:abe})})]})]})},Pbe=t=>P.createElement("svg",{width:"800px",height:"800px",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns",...t},P.createElement("title",null,"Synthesizer"),P.createElement("desc",null,"Created with Sketch."),P.createElement("defs",null),P.createElement("g",{id:"Page-1",fillRule:"evenodd","sketch:type":"MSPage"},P.createElement("g",{id:"Synthesizer",fill:"#000000"},P.createElement("path",{d:"M62,26 L57,26 L55,26 L54,26 L52,26 L48,26 L46,26 L45,26 L43,26 L39,26 L37,26 L36,26 L34,26 L28,26 L27,26 L21,26 L19,26 L18,26 L16,26 L12,26 L10,26 L9,26 L7,26 L2,26 L2,5 C2,3.346 3.346,2 5,2 L59,2 C60.654,2 62,3.346 62,5 L62,26 Z M62,59 C62,60.654 60.654,62 59,62 L55,62 L55,48 L56,48 C56.55,48 57,47.55 57,47 L57,27 L62,27 L62,59 Z M54,62 L46,62 L46,48 L47,48 C47.55,48 48,47.55 48,47 L48,27 L52,27 L52,47 C52,47.55 52.45,48 53,48 L54,48 L54,62 Z M45,62 L37,62 L37,48 L38,48 C38.55,48 39,47.55 39,47 L39,27 L43,27 L43,47 C43,47.55 43.45,48 44,48 L45,48 L45,62 Z M36,62 L28,62 L28,27 L34,27 L34,47 C34,47.55 34.45,48 35,48 L36,48 L36,62 Z M27,62 L19,62 L19,48 L20,48 C20.55,48 21,47.55 21,47 L21,27 L27,27 L27,62 Z M18,62 L10,62 L10,48 L11,48 C11.55,48 12,47.55 12,47 L12,27 L16,27 L16,47 C16,47.55 16.45,48 17,48 L18,48 L18,62 Z M9,62 L5,62 C3.346,62 2,60.654 2,59 L2,27 L7,27 L7,47 C7,47.55 7.45,48 8,48 L9,48 L9,62 Z M59,0 L5,0 C2.239,0 0,2.239 0,5 L0,26 L0,58 L0,59 C0,61.761 2.239,64 5,64 L6,64 L9,64 L10,64 L18,64 L19,64 L27,64 L28,64 L36,64 L37,64 L45,64 L46,64 L54,64 L55,64 L58,64 L59,64 C61.761,64 64,61.761 64,59 L64,58 L64,26 L64,5 C64,2.239 61.761,0 59,0 L59,0 Z M15,8 L17,8 C17.55,8 18,7.55 18,7 C18,6.45 17.55,6 17,6 L15,6 C14.45,6 14,6.45 14,7 C14,7.55 14.45,8 15,8 L15,8 Z M11,8 C11.552,8 12,7.552 12,7 C12,6.448 11.552,6 11,6 C10.448,6 10,6.448 10,7 C10,7.552 10.448,8 11,8 L11,8 Z M7,8 C7.552,8 8,7.552 8,7 C8,6.448 7.552,6 7,6 C6.448,6 6,6.448 6,7 C6,7.552 6.448,8 7,8 L7,8 Z M52,6.5 C52,6.224 51.776,6 51.5,6 C51.224,6 51,6.224 51,6.5 L51,13 L50,13 L50,15 L51,15 L51,21.5 C51,21.776 51.224,22 51.5,22 C51.776,22 52,21.776 52,21.5 L52,15 L53,15 L53,13 L52,13 L52,6.5 Z M58,6.5 C58,6.224 57.776,6 57.5,6 C57.224,6 57,6.224 57,6.5 L57,13 L56,13 L56,15 L57,15 L57,21.5 C57,21.776 57.224,22 57.5,22 C57.776,22 58,21.776 58,21.5 L58,15 L59,15 L59,13 L58,13 L58,6.5 Z M40.5,19 L42.949,19 C42.717,20.14 41.707,21 40.5,21 C39.122,21 38,19.878 38,18.5 C38,17.122 39.122,16 40.5,16 C41.707,16 42.717,16.86 42.949,18 L40.5,18 C40.224,18 40,18.224 40,18.5 C40,18.776 40.224,19 40.5,19 L40.5,19 Z M40.5,15 C38.567,15 37,16.567 37,18.5 C37,20.433 38.567,22 40.5,22 C42.433,22 44,20.433 44,18.5 C44,16.567 42.433,15 40.5,15 L40.5,15 Z M31.5,19 L33.949,19 C33.717,20.14 32.707,21 31.5,21 C30.122,21 29,19.878 29,18.5 C29,17.122 30.122,16 31.5,16 C32.707,16 33.717,16.86 33.949,18 L31.5,18 C31.224,18 31,18.224 31,18.5 C31,18.776 31.224,19 31.5,19 L31.5,19 Z M31.5,15 C29.567,15 28,16.567 28,18.5 C28,20.433 29.567,22 31.5,22 C33.433,22 35,20.433 35,18.5 C35,16.567 33.433,15 31.5,15 L31.5,15 Z M41,11.949 L41,9.5 C41,9.224 40.776,9 40.5,9 C40.224,9 40,9.224 40,9.5 L40,11.949 C38.86,11.717 38,10.707 38,9.5 C38,8.122 39.122,7 40.5,7 C41.878,7 43,8.122 43,9.5 C43,10.707 42.14,11.717 41,11.949 L41,11.949 Z M40.5,6 C38.567,6 37,7.567 37,9.5 C37,11.433 38.567,13 40.5,13 C42.433,13 44,11.433 44,9.5 C44,7.567 42.433,6 40.5,6 L40.5,6 Z M21,20 C21,20.551 20.551,21 20,21 L8,21 C7.449,21 7,20.551 7,20 L7,12 C7,11.449 7.449,11 8,11 L20,11 C20.551,11 21,11.449 21,12 L21,20 Z M20,10 L8,10 C6.895,10 6,10.895 6,12 L6,20 C6,21.105 6.895,22 8,22 L20,22 C21.105,22 22,21.105 22,20 L22,12 C22,10.895 21.105,10 20,10 L20,10 Z M31.5,12 C30.122,12 29,10.878 29,9.5 C29,8.293 29.86,7.283 31,7.051 L31,9.5 C31,9.776 31.224,10 31.5,10 C31.776,10 32,9.776 32,9.5 L32,7.051 C33.14,7.283 34,8.293 34,9.5 C34,10.878 32.878,12 31.5,12 L31.5,12 Z M31.5,6 C29.567,6 28,7.567 28,9.5 C28,11.433 29.567,13 31.5,13 C33.433,13 35,11.433 35,9.5 C35,7.567 33.433,6 31.5,6 L31.5,6 Z","sketch:type":"MSShapeGroup"})))),Rbe=t=>Ti.synth.oscillator.type=aS(t),Nbe=t=>Ti.filter.frequency.value=t,Ibe=t=>Ti.synth.envelope.attack=t,Obe=t=>Ti.synth.envelope.decay=t,Lbe=t=>Ti.synth.envelope.sustain=t,Dbe=t=>Ti.synth.envelope.release=t,kbe=()=>{const t=ei();return{setStoreBassSynthAttackChange:a=>t(iye(a)),setStoreBassSynthDecayChange:a=>t(sye(a)),setStoreBassSynthWaveform:a=>t(nye(a)),setStoreBassSynthFilterFrequency:a=>t(rye(a)),setStoreBassSynthSustainChange:a=>t(oye(a)),setStoreBassSynthReleaseChange:a=>t(aye(a))}};function Fbe(){const{currentSong:t}=Ut(Vl),{setStoreBassSynthWaveform:e,setStoreBassSynthFilterFrequency:n,setStoreBassSynthAttackChange:r,setStoreBassSynthDecayChange:i,setStoreBassSynthSustainChange:s,setStoreBassSynthReleaseChange:o}=kbe();return O.jsxs("div",{className:"flex flex-col items-center rounded-2xl ",children:[O.jsxs("div",{className:"text-xl font-caps flex mb-4 gap-2  w-full",children:[O.jsx(Pbe,{className:"h-6 w-6 fill-white mb-1 stroke-2 stroke-white"}),O.jsx("h2",{children:"Bass Synth"})]}),O.jsxs("div",{className:"grid grid-cols-2 grid-rows-3 gap-x-4 gap-y-8",children:[O.jsx(Mr,{title:"Waveform",children:O.jsx(PA,{color:"#F59E0B",level:PH(t.bassSynth.waveform),storeSetter:e,toneSetter:Rbe})}),O.jsx(Mr,{title:"Filter Frequency",children:O.jsx(v5,{color:"#F59E0B",level:t.bassSynth.filterFrequency,storeSetter:n,toneSetter:Nbe})}),O.jsx(Mr,{title:"Attack",children:O.jsx(ds,{color:"#F59E0B",level:t.bassSynth.attack,storeSetter:r,toneSetter:Ibe})}),O.jsx(Mr,{title:"Decay",children:O.jsx(ds,{level:t.bassSynth.decay,color:"#F59E0B",storeSetter:i,toneSetter:Obe})}),O.jsx(Mr,{title:"Sustain",children:O.jsx(ds,{color:"#F59E0B",level:t.bassSynth.sustain,storeSetter:s,toneSetter:Lbe})}),O.jsx(Mr,{title:"Release",children:O.jsx(ds,{color:"#F59E0B",level:t.bassSynth.release,storeSetter:o,toneSetter:Dbe})})]})]})}function Vb({state:t,color:e,size:n="text-lg",EffectIcon:r,title:i}){return O.jsxs("div",{className:`p-2 justify-evenly flex flex-col
  items-center rounded-xl `,children:[O.jsxs("h3",{className:`${n} w-full items-center gap-1 flex mb-2  font-caps`,children:[r&&O.jsx(r,{size:16}),O.jsx("span",{children:lS(YL(i))})]}),O.jsx("div",{className:"flex w-full items-center gap-8",children:t.map(s=>{const o=lS(YL(s.name));return O.jsx("div",{className:"flex flex-col items-center gap-2",children:O.jsx(Mr,{title:o,children:s.type==="main"?O.jsx(ds,{level:s.level,storeSetter:s.storeSetter,toneSetter:s.toneSetter,color:e}):s.type==="freq"?O.jsx(v5,{level:s.level,storeSetter:s.storeSetter,toneSetter:s.toneSetter,color:e}):O.jsx(ds,{level:s.level,storeSetter:s.storeSetter,toneSetter:s.toneSetter,color:e})})},s.name)})})]})}const qd=t=>Math.round((t+Number.EPSILON)*100)/100,lh=t=>t<-20?-1/0:t,Ube=()=>{const t=ei();return{handleDistortionMixChange:c=>t(D1e(c)),handleDistortionAmountChange:c=>t(k1e(c)),handleDistortionFilterChange:c=>t(F1e(c)),handleReverbMixChange:c=>{t(U1e(qd(c)))},handleReverbDecayChange:c=>{t(z1e(qd(c)))},handleReverbPreDelayChange:c=>{t(B1e(qd(c)))},handleDelayMixChange:c=>{t(V1e(qd(c)))},handleDelayTimeChange:c=>{t(j1e(qd(c)))},handleDelayFeedbackChange:c=>{t(H1e(qd(c)))}}},zbe=t=>{D0.wet.value=t},Bbe=t=>{D0.distortion=t},Vbe=t=>{e5.frequency.value=t},jbe=t=>{xh.wet.value=t},Hbe=t=>{xh.decay=t},Wbe=t=>{xh.preDelay=t},Gbe=t=>{Sh.wet.value=t},$be=t=>{Sh.delayTime.value=t},qbe=t=>{Sh.feedback.value=t},Xbe=t=>{t5.volume.value=ml(lh(t))},Ybe=t=>{ir.bd.sampler.volume.value=ml(lh(t)),ir.sd.sampler.volume.value=ml(lh(t)),ir.cl.sampler.volume.value=ml(lh(t)),ir.ch.sampler.volume.value=ml(lh(t))},Zbe=t=>{Ti.synth.volume.value=ml(lh(t))},Kbe=t=>{on.synth.volume.value=ml(lh(t))};function Qbe(){const{currentSong:t}=Ut(Vl),{handleDistortionMixChange:e,handleDistortionAmountChange:n,handleDistortionFilterChange:r,handleReverbMixChange:i,handleReverbDecayChange:s,handleReverbPreDelayChange:o,handleDelayMixChange:a,handleDelayTimeChange:l,handleDelayFeedbackChange:u}=Ube();return O.jsxs("div",{children:[O.jsx(Vb,{state:[{level:t.distortion.mix,name:"mix",storeSetter:e,toneSetter:zbe,type:"main"},{level:t.distortion.amount,name:"amount",storeSetter:n,toneSetter:Bbe,type:"main"},{level:t.distortion.filterFrequency,name:"filter",storeSetter:r,toneSetter:Vbe,type:"freq"}],color:"#DC2626",title:"Distortion",EffectIcon:SX}),O.jsx(Vb,{state:[{level:t.reverb.mix,name:"mix",storeSetter:i,toneSetter:jbe,type:"main"},{level:t.reverb.decay,name:"decay",storeSetter:s,toneSetter:Hbe,type:"main"},{level:t.reverb.preDelay,name:"pre delay",storeSetter:o,toneSetter:Wbe,type:"main"}],color:"#16A34A",title:"Reverb",EffectIcon:yX}),O.jsx(Vb,{state:[{level:t.delay.mix,name:"mix",storeSetter:a,toneSetter:Gbe,type:"main"},{level:t.delay.time,name:"time",storeSetter:l,toneSetter:$be,type:"main"},{level:t.delay.feedback,name:"feedback",storeSetter:u,toneSetter:qbe,type:"main"}],color:"#2563EB",title:"Delay",EffectIcon:xX})]})}const Jbe=(t,e,n,r,i)=>{t.clearRect(0,0,e,n),t.fillStyle=i,t.fillRect(e/2-5,0,10,n);const s=15,o=18,a=e/2-o/2,l=Math.max(0,Math.min((1-(r+7)/100)*n,n-s));t.strokeStyle="black",t.fillStyle="rgba(255, 255, 255, 0.8)",t.lineWidth=1.25,t.beginPath(),t.moveTo(a,l),t.lineTo(a+o,l),t.lineTo(a+o/2,l+s),t.closePath(),t.fill(),t.stroke()};function n_({volume:t,backgroundColor:e,setTone:n,setStore:r,title:i,shadowColor:s}){const o=P.useRef(null),[a,l]=P.useState(!1),[u,c]=P.useState(t),d=ei();P.useEffect(()=>{const _=o.current;if(!_)return;const v=_.getContext("2d");v&&Jbe(v,_.width,_.height,u*100,"black")},[u]),P.useEffect(()=>{c(t),n(t)},[t]);const p=()=>{l(!0)},m=_=>{if(!a||!o.current)return;const v=o.current,x=v.getBoundingClientRect(),w=_.clientY-x.top,b=+Math.min(Math.max(0,1-w/v.height),1).toFixed(2);n(b),c(b)},g=()=>{l(!1),d(r(u))},y=Math.floor(ml(u));return O.jsxs("div",{className:`w-10 shadow-xl pb-1 ${s}  rounded-lg flex flex-col items-center`,children:[O.jsx("canvas",{className:`${e} bg-opacity-90 rounded-lg`,ref:o,width:20,height:250,onMouseDown:p,onMouseMove:m,onMouseUp:g,onMouseLeave:g}),O.jsx("div",{className:"text-center my-2 text-xs",children:y===-1/0?O.jsxs("span",{className:"flex items-center gap-1",children:["-",O.jsx(mfe,{className:"mt-1",size:12}),"db"]}):O.jsxs(O.Fragment,{children:[y,O.jsx("span",{className:"ml-0.5",children:"db"})]})}),O.jsx("div",{className:"text-xs uppercase font-caps",children:i})]})}function e3e(){const{currentSong:t}=Ut(Vl);return O.jsxs("div",{className:" flex justify-between gap-8 border-red-600",children:[O.jsx(n_,{volume:t.drumVolume,backgroundColor:"bg-blue-500",setTone:Ybe,setStore:L1e,title:"Drums",shadowColor:"shadow-blue-500"}),O.jsx(n_,{volume:t.bassVolume,backgroundColor:"bg-green-500",setTone:Zbe,setStore:O1e,title:"Bass",shadowColor:"shadow-green-500"}),O.jsx(n_,{volume:t.melodicVolume,backgroundColor:"bg-violet-500",setTone:Kbe,setStore:I1e,title:"Melody",shadowColor:"shadow-violet-500"}),O.jsx(n_,{volume:t.masterVolume,backgroundColor:"bg-red-500",setTone:Xbe,setStore:hV,title:"Master",shadowColor:"shadow-red-500"})]})}function t3e(){return O.jsxs("div",{className:" min-w-[50vw] w-full  items-end flex flex-col",children:[O.jsxs("h2",{className:"uppercase flex gap-4 items-center font-caps text-2xl",children:["MIX"," ",O.jsx("span",{children:O.jsx(_X,{})})]}),O.jsxs("div",{className:"flex w-full px-8 gap-x-8 items-center justify-between",children:[O.jsx(Cbe,{}),O.jsx(Fbe,{}),O.jsx(Qbe,{}),O.jsx(e3e,{})]})]})}function n3e(){const{isPlaying:t}=Ut(Hj),{currentSong:{bpm:e}}=Ut(Vl),n=P.useRef(null),[r,i]=P.useState(e),s=P.useRef(null),[o,a]=P.useState(16),l=ei(),u=async()=>{mi.state==="started"?(On.melodyPattern.stop(),On.bassPattern.stop(),await mi.stop(),mi.position=0,l(xf(!1))):(await $ve(),mi.position=0,On.melodyPattern.start(0),On.bassPattern.start(0),await mi.start(),l(xf(!0)))},c=g=>{g.key==="Enter"&&r>20&&r<=400&&(l({type:Xr.SET_SONG_BPM_ASYNC,payload:r}),n.current.blur())},d=g=>{i(+g.target.value)},p=g=>{g.key==="Enter"&&o>0&&o<=16&&(l(P1e(o)),s.current.blur())},m=g=>{a(+g.target.value)};return O.jsx("div",{children:O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsxs("button",{className:"mt-2",onClick:()=>u(),children:[t?O.jsx(gfe,{size:40}):O.jsx(hfe,{size:40})," "]}),O.jsxs("div",{className:"flex flex-col",children:[O.jsx("label",{className:"text-[0.6rem]",children:"BPM"}),O.jsx("input",{ref:n,type:"number",max:400,min:20,value:r,onChange:d,onKeyDown:c,className:pl})]}),O.jsxs("div",{className:"flex flex-col",children:[O.jsx("label",{className:"text-[0.6rem]",children:"STEPS"}),O.jsx("input",{ref:s,type:"number",max:16,min:1,value:o,onChange:m,onKeyDown:p,className:pl})]})]})})}function r_({instrument:t,drumPattern:e,drumRef:n}){const r=ei(),{currentSong:i}=Ut(Vl),{kitPattern:{patternLength:s}}=i;return O.jsxs("div",{className:"flex gap-4 items-center",children:[O.jsx("div",{className:"w-10",children:t.name}),O.jsx("div",{className:"flex gap-x-4",children:Array.from({length:s},(o,a)=>{const l=(a+1)%4===0;return O.jsxs("label",{className:`relative max-w-[2.5rem] ${l&&"mr-4"} `,children:[O.jsx("input",{className:"opacity-0 absolute top-0 left-0 cursor-pointer h-10 w-10 peer",ref:u=>{u&&(n.current[a]=u)},type:"checkbox",checked:e[a],onChange:()=>r(C1e({drumName:t.drumTrackSteps,step:a}))}),O.jsx("div",{className:`peer-hover:bg-opacity-60 rounded-md  0 hover:bg-opacity-90 bg-gray-transparent
                peer-checked:peer-hover:bg-opacity-100
                       peer-checked:bg-blue-500 peer-checked:bg-opacity-70 w-10 h-10`})]},a)})})]})}function r3e(){const{currentSong:t}=Ut(Vl),e=P.useRef([]),n=P.useRef(null),r=[...Array(t.kitPattern.patternLength).keys()],i=P.useRef([]),s=P.useRef([]),o=P.useRef([]),a=P.useRef([]);return P.useEffect(()=>(n.current=new Kx((l,u)=>{i.current[u].checked&&ir.bd.sampler.triggerAttackRelease(ir.note,"8n",l),s.current[u].checked&&ir.sd.sampler.triggerAttackRelease(ir.note,"8n",l),o.current[u].checked&&ir.cl.sampler.triggerAttackRelease(ir.note,"8n",l),a.current[u].checked&&ir.ch.sampler.triggerAttackRelease(ir.note,"8n",l),e.current[u].checked=!0},[...r],"16n").start(0),()=>{var l;(l=n.current)==null||l.dispose()}),[r]),O.jsxs("div",{className:"flex w-full  items-center flex-col rounded-xl px-8    gap-4 justify-center",children:[O.jsxs("div",{className:"flex w-full justify-between",children:[O.jsx(n3e,{}),O.jsxs("h2",{className:"font-caps flex gap-4 items-center text-2xl",children:["SEQUENCER"," ",O.jsx("span",{children:O.jsx(vX,{})})]})]}),O.jsxs("div",{className:"grid grid-rows-4 gap-5",children:[O.jsxs("div",{className:"flex gap-x-4",children:[O.jsx("div",{className:"w-10"}),r.map(l=>{const u=(l+1)%4===0||l+1===16;return O.jsxs("label",{className:`flex max-w-[2.5rem]  w-10 h-10 items-center ${u&&"mr-4"} justify-center`,children:[O.jsx("input",{type:"radio",name:"lamp",id:`lamp-${l}`,disabled:!0,ref:c=>{c&&(e.current[l]=c)},className:"whitespace-nowrap peer p-0 m-[-1px] h-[1px] w-[1px] absolute "}),O.jsx("div",{className:"w-6 my-0 mx-2 peer-checked:bg-blue-500  h-6 bg-gray-transparent peer-checked:bg-opacity-70  rounded-full"})]},l)})]}),O.jsx(r_,{drumRef:a,instrument:{...ir.ch,drumTrackSteps:"chSteps"},drumPattern:t.kitPattern.chSteps}),O.jsx(r_,{drumRef:o,instrument:{...ir.cl,drumTrackSteps:"clSteps"},drumPattern:t.kitPattern.clSteps}),O.jsx(r_,{drumRef:s,instrument:{...ir.sd,drumTrackSteps:"sdSteps"},drumPattern:t.kitPattern.sdSteps}),O.jsx(r_,{drumRef:i,instrument:{...ir.bd,drumTrackSteps:"bdSteps"},drumPattern:t.kitPattern.bdSteps})]})]})}function i3e(){const{appLoaded:t}=Ut(nP),{isPlaying:e}=Ut(c=>c.transport),n=Ut(c=>c.song.error),r=ei(),i=Ut(c=>c.song.currentSong),s=!i.id,o=i.songName?i.songName:"Untitled",[a,l]=P.useState(o),u=async c=>{c.preventDefault();const d={...i};if(s){d.songName=a,r({type:Xr.CREATE_NEW_SONG_ASYNC,payload:d});return}r({type:Xr.UPDATE_SONG_ASYNC,payload:d})};return O.jsxs("div",{className:"text-white flex items-center flex-col",children:[O.jsx("h2",{className:"text-2xl opacity-90 mb-4 text-white",children:"Save Song"}),O.jsxs("form",{onSubmit:u,className:"flex gap-8 items-center w-full flex-col",children:[s?O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("label",{className:"font-caps uppercase",children:"Song Name"}),O.jsx("input",{type:"text",value:a,onChange:c=>l(c.target.value),className:`${pl} font-caps`})]}):O.jsxs("div",{className:"flex   items-center gap-2",children:[O.jsx("label",{className:"font-caps uppercase",children:"Song Name"}),O.jsx("p",{className:"font-caps rounded-xl bg-gray-800 px-4 text-violet-300",children:o})]}),Array.isArray(n)&&n.map((c,d)=>O.jsx(P.Fragment,{children:O.jsx(Mo,{touched:!0,warning:c})},d)),e&&O.jsx("div",{className:"text-red-500 text-xs font-semibold shadow-xl",children:"Cannot Save Song while App is playing"}),O.jsxs("div",{className:"flex justify-around w-full",children:[O.jsx("button",{type:"submit",className:`${e?"":"hover:bg-gray-800 active:scale-105"} py-2 w-24  transition-all duration-300 rounded-xl bg-opacity-80 bg-gray-900`,disabled:e,children:t?"Save":O.jsx(Ix,{size:20})}),O.jsx("button",{type:"button",onClick:()=>r(ep(!1)),className:"hover:bg-gray-800 w-24 py-2 active:scale-105 transition-all duration-300 rounded-xl bg-opacity-80 bg-gray-900",children:t?"Cancel":O.jsx(Ix,{size:20})})]})]})]})}function vS({title:t,onClick:e,ItemIcon:n,type:r,color:i,disabled:s}){return O.jsx(O.Fragment,{children:i==="amber"?O.jsxs("button",{className:`inline-flex mt-4 w-24 justify-center opacity-90 shadow-md shadow-amber-950 rounded-xl border border-transparent bg-amber-900 px-4 py-2 
      text-sm font-medium text-amber-100  focus:outline-none focus-visible:ring-2  focus-visible:ring-amber-500 ${s?"":"active:scale-105 hover:bg-amber-800"}
      focus-visible:ring-offset-2`,onClick:e,type:r,disabled:s,children:[n&&O.jsx(n,{size:18,className:"mr-2"}),O.jsx("span",{children:t})]}):i==="green"?O.jsxs("button",{className:`inline-flex mt-4 w-24 justify-center opacity-90 shadow-md shadow-green-950 rounded-xl border border-transparent bg-green-900 px-4 py-2 
      text-sm font-medium text-green-100  focus:outline-none focus-visible:ring-2  focus-visible:ring-green-500 ${s?"":"active:scale-105 hover:bg-green-800"}
      focus-visible:ring-offset-2`,onClick:e,type:r,disabled:s,children:[n&&O.jsx(n,{size:18,className:"mr-2"}),O.jsx("span",{children:t})]}):i==="blue"?O.jsxs("button",{className:`inline-flex mt-4 w-24 justify-center opacity-90 shadow-md shadow-blue-950 rounded-xl border border-transparent bg-blue-900 px-4 py-2 
      text-sm font-medium text-blue-100  focus:outline-none focus-visible:ring-2  focus-visible:ring-blue-500 ${s?"":"active:scale-105 hover:bg-blue-800"}
      focus-visible:ring-offset-2`,onClick:e,type:r,disabled:s,children:[n&&O.jsx(n,{size:18,className:"mr-2"}),O.jsx("span",{children:t})]}):O.jsxs("button",{className:`inline-flex mt-4 w-24 justify-center opacity-90 shadow-md shadow-red-950 rounded-xl border border-transparent bg-red-900 px-4 py-2 
      text-sm font-medium text-red-100  focus:outline-none focus-visible:ring-2  focus-visible:ring-red-500 ${s?"":"active:scale-105 hover:bg-red-800"}
      focus-visible:ring-offset-2`,onClick:e,type:r,disabled:s,children:[n&&O.jsx(n,{size:18,className:"mr-2"}),O.jsx("span",{children:t})]})})}function s3e(){const{songToLoad:t}=Ut(s=>s.common),{isPlaying:e}=Ut(s=>s.transport),n=ei(),r=()=>n(g0(!1)),i=()=>{n({type:Xr.LOAD_SONG_TO_CURRENT_ASYNC,payload:t}),n(g0(!1))};return O.jsxs("div",{className:"text-white flex flex-col items-center justify-center gap-4",children:[O.jsxs("h2",{className:"text-2xl",children:["Are you sure you want to load ",O.jsx("i",{children:t.songName}),"?"]}),O.jsx("div",{className:"flex w-full",children:O.jsx("p",{children:"Any unsaved changes will be lost"})}),e&&O.jsx("div",{className:"text-red-500 text-xs font-semibold shadow-xl",children:"Cannot Load Song while App is playing"}),O.jsxs("div",{className:"flex w-full justify-around mt-8",children:[O.jsx(vS,{color:"red",type:"button",title:"Yes",disabled:e,onClick:i}),O.jsx(vS,{color:"green",type:"button",title:"No",onClick:r})]})]})}function o3e(){const t=Ut(s=>s.common.songToDelete),{isPlaying:e}=Ut(s=>s.transport),n=ei(),r=()=>n(Q2(!1)),i=()=>{n({type:Xr.DELETE_SONG_ASYNC,payload:t}),n(g0(!1))};return O.jsxs("div",{className:"text-white flex flex-col items-center justify-center gap-4",children:[O.jsxs("h2",{className:"text-2xl",children:["Are you sure you want to permanently delete"," ",O.jsx("i",{children:t.songName}),"?"]}),O.jsx("div",{className:"flex w-full",children:O.jsx("p",{children:"This song will not be recoverable"})}),e&&O.jsx("div",{className:"text-red-500 text-xs font-semibold shadow-xl",children:"Cannot Load Song while App is playing"}),O.jsxs("div",{className:"flex w-full justify-around mt-8",children:[O.jsx(vS,{color:"red",type:"button",title:"Yes",disabled:e,onClick:i}),O.jsx(vS,{color:"green",type:"button",title:"No",onClick:r})]})]})}function a3e(){const t=ei(),{saveModalOpen:e,loadSongModalOpen:n,deleteSongModalOpen:r}=Ut(nP),i=()=>{t(Q2(!r))},s=()=>t(ep(!e)),o=()=>t(g0(!n));return O.jsxs(O.Fragment,{children:[O.jsx(pg,{isOpen:e,setIsOpen:s,children:O.jsx(i3e,{})}),O.jsx(pg,{isOpen:n,setIsOpen:o,children:O.jsx(s3e,{})}),O.jsx(pg,{isOpen:r,setIsOpen:i,children:O.jsx(o3e,{})})]})}function l3e(){const t=ei(),e=Ut(ed),{currentSong:n}=Ut(Vl),{isToneLoaded:r}=Ut(Hj);return P.useEffect(()=>{t({type:Xr.GET_SONG_LIST_ASYNC})},[]),P.useEffect(()=>(_1e().then(()=>{t(fMe(!0)),JP(n).then().catch(i=>{As.error("Error initializing instruments"),console.error(i)})}),()=>{yMe(xMe).then(()=>y1e.dispose())}),[]),!e||e.isLoading?O.jsx("div",{className:"flex items-center justify-center min-h-screen",children:O.jsx(B3,{})}):r?O.jsxs(O.Fragment,{children:[O.jsxs(Efe,{children:[O.jsxs("aside",{className:"col-span-4 grid grid-rows-2 rounded-xl bg-dark-transparent",children:[O.jsx(EMe,{}),O.jsx(vye,{})]}),O.jsxs("main",{className:"grid grid-rows-2 rounded-xl bg-dark-transparent col-span-8 ",children:[O.jsx(t3e,{}),O.jsx(r3e,{})]})]}),O.jsx(a3e,{})]}):O.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[O.jsx(B3,{}),O.jsx("div",{className:"animate-pulse",children:"Loading Instruments..."})]})}function u3e(){const t=ei(),e=Ut(ed),[n,r]=P.useState(null);return P.useEffect(()=>{localStorage.getItem("jwt")&&!e.user&&t({type:To.GET_LOGGED_IN_USER_ASYNC})},[]),P.useEffect(()=>{if(!e.user)return;n&&clearTimeout(n);const i=c=>{c&&c.token&&t({type:To.REFRESH_TOKEN_ASYNC})},s=()=>{i(e.user)},o=JSON.parse(atob(e.user.token.split(".")[1])),l=new Date(o.exp*1e3).getTime()-Date.now()-50*1e3,u=setTimeout(s,l);return r(u),()=>{n&&clearTimeout(n)}},[e.user]),O.jsxs(O.Fragment,{children:[O.jsx(C7,{}),O.jsx(tMe,{toastOptions:{style:{color:"#fff",background:"black",border:"1px solid #44403C"}}})]})}function c3e(){const t=xp();return Ut(nP).token?O.jsx(C7,{}):O.jsx(A7,{to:"/",state:{from:t}})}function h3e(){const t="ATMOSPHERE";return O.jsx(O.Fragment,{children:O.jsx(aU,{children:O.jsxs("div",{children:[O.jsx("h1",{className:"text-white font-title text-9xl ",children:t}),O.jsxs("div",{className:"flex rounded-xl py-4 mt-8 flex-col min-h-[20vh] items-center justify-between bg-dark-transparent",children:[O.jsx("h2",{className:"text-3xl",children:"The Page you are looking for could not be found"}),O.jsx("h2",{className:"text-3xl",children:"404"}),O.jsx("button",{className:"border-2 px-2 rounded-xl py-2",children:O.jsx(mx,{to:"/",children:"Return Home"})})]})]})})})}const d3e=[{path:"/",element:O.jsx(u3e,{}),children:[{element:O.jsx(c3e,{}),children:[{path:"app",element:O.jsx(l3e,{})}]},{path:"",element:O.jsx(vfe,{})},{path:"not-found",element:O.jsx(h3e,{})},{path:"*",element:O.jsx(A7,{replace:!0,to:"/not-found"})}]}],Hv=lX(d3e);jb.createRoot(document.getElementById("root")).render(O.jsx(fde,{store:xo,children:O.jsx(eX,{router:Hv})}))});export default f3e();
